(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t){},"03e5aaee93020dcb97eb":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,".buttons-container {\n  bottom: 30px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}",""])},"070f4000acc3a3139fe2":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='740px' height='740px' viewBox='0 0 740 740' enable-background='new 0 0 740 740' xml:space='preserve'%3E %3Crect x='370' fill='%2300A99D' width='370' height='370'/%3E %3Crect fill='%233849A2' width='370' height='370'/%3E %3Crect x='370' y='370' fill='%2309C6A2' width='370' height='370'/%3E %3Crect y='370' fill='%23039385' width='370' height='370'/%3E %3C/svg%3E"},"0c80db8ded60097168a5":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='740px' height='740px' viewBox='0 0 740 740' enable-background='new 0 0 740 740' xml:space='preserve'%3E %3Crect x='370' fill='%2300A99D' width='370' height='370'/%3E %3Crect fill='%233849A2' width='370' height='370'/%3E %3Crect x='370' y='370' fill='%2309C6A2' width='370' height='370'/%3E %3Crect y='370' fill='%23039385' width='370' height='370'/%3E %3C/svg%3E"},"0cbc23df16a5c6ceec4d":function(e,t,n){e.exports=n.p+".htaccess"},"0e39cdee7db60a6eb58b":function(e,t,n){var a={"./anchor-comment-black.svg":"7be22f45e71448e65245","./anchor-comment-white.svg":"28c49d30ed34e142fa46","./anchor-ellipse-black.svg":"65487e27ba6ae8e8f9c5","./anchor-ellipse-white.svg":"7b1d6ef55c12f5ddfe2a","./anchor-polygon-black.svg":"622ec8036aaf28780be2","./anchor-polygon-white.svg":"6a95e2c254c73be60618","./anchor-rectangle-black.svg":"1d1992de665ce089503e","./anchor-rectangle-white.svg":"dcda6ef0b88628a2b364"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="0e39cdee7db60a6eb58b"},1:function(e,t,n){n("5b15df55c1316f23e9d0"),e.exports=n("74a2325ee1817d991dfc")},"1b104b4ebf37bca69f40":function(e,t,n){var a=n("cd3c01f111da6ab3f495");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"1d1992de665ce089503e":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='895.5px' viewBox='0 0 1280 895.5' enable-background='new 0 0 1280 895.5' xml:space='preserve'%3E %3Cg id='Calque_1_1_'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3C/g%3E %3Cg id='Mode_Isolation_1_'%3E %3Crect x='274.5' y='74.25' fill='none' stroke='%23000000' stroke-width='45' stroke-linecap='square' stroke-miterlimit='10' width='751.927' height='751.927'/%3E %3C/g%3E %3C/svg%3E"},2:function(e,t){},"24e2ac89b53a62ce0fe1":function(e,t,n){var a=n("81569eb04b5d565f29bc");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"28c49d30ed34e142fa46":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='895.5px' viewBox='0 0 1280 895.5' enable-background='new 0 0 1280 895.5' xml:space='preserve'%3E %3Cpolygon fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linecap='square' stroke-miterlimit='10' points='1026.427,74.25 274.5,74.25 274.5,659.091 556.957,659.091 556.957,826.177 723.043,659.091 1026.427,659.091 '/%3E %3C/svg%3E"},"29af6943dd72dd3f0f6d":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='643.019px' height='99.119px' viewBox='0.159 0 643.019 99.119' enable-background='new 0.159 0 643.019 99.119' xml:space='preserve'%3E %3Cg%3E %3Cpath d='M0.159,88.109V1.518h53.726V13.78H14.19V42.98h32.994v12.262H14.19v32.867H0.159L0.159,88.109z'/%3E %3Cpath d='M127.9,78.881C122.717,85.96,113.592,89.5,100.53,89.5c-13.064,0-22.208-3.559-27.432-10.682 c-5.227-7.121-7.838-18.308-7.838-33.562c0-15.252,2.633-26.587,7.901-34.004c5.265-7.416,14.39-11.125,27.369-11.125 c12.978,0,22.079,3.688,27.305,11.061c5.225,7.375,7.838,18.731,7.838,34.068C135.673,60.595,133.082,71.802,127.9,78.881z M84.096,69.78c2.864,4.973,8.344,7.458,16.434,7.458s13.546-2.443,16.371-7.331c2.822-4.887,4.235-13.084,4.235-24.587 c0-11.504-1.454-19.867-4.361-25.094c-2.907-5.225-8.324-7.837-16.244-7.837c-7.922,0-13.358,2.613-16.308,7.837 c-2.952,5.227-4.424,13.548-4.424,24.967C79.798,56.613,81.23,64.808,84.096,69.78z'/%3E %3Cpath d='M168.539,57.264v30.844h-14.032V1.517h32.868c19.551,0,29.328,9.187,29.328,27.558c0,12.306-4.722,20.649-14.159,25.031 l14.285,34.004h-15.423l-12.515-30.844L168.539,57.264L168.539,57.264z M202.292,29.201c0-10.366-4.974-15.549-14.917-15.549 h-18.835v31.477h19.089c5.057,0,8.764-1.454,11.123-4.361C201.111,37.86,202.292,34.004,202.292,29.201z'/%3E %3Cpath d='M264.235,89.5c-12.642,0-21.218-3.496-25.725-10.492c-4.509-6.994-6.762-18.498-6.762-34.51 c0-16.011,2.275-27.41,6.826-34.195c4.551-6.783,13.104-10.176,25.662-10.176c7.5,0,15.758,1.055,24.777,3.16l-0.507,11.377 c-7.583-1.346-15.169-2.022-22.753-2.022c-7.585,0-12.728,2.256-15.423,6.763c-2.698,4.509-4.045,12.979-4.045,25.41 c0,12.432,1.306,20.901,3.918,25.409c2.612,4.509,7.711,6.762,15.296,6.762c7.583,0,15.252-0.631,23.006-1.896l0.38,11.631 C280.205,88.571,271.987,89.5,264.235,89.5z'/%3E %3Cpath d='M335.152,89.5c-12.641,0-21.218-3.496-25.725-10.492c-4.508-6.994-6.762-18.498-6.762-34.51 c0-16.011,2.275-27.41,6.826-34.195c4.551-6.783,13.104-10.176,25.662-10.176c7.5,0,15.758,1.055,24.777,3.16l-0.507,11.377 c-7.583-1.346-15.169-2.022-22.754-2.022s-12.727,2.256-15.421,6.763c-2.698,4.509-4.046,12.979-4.046,25.41 c0,12.432,1.306,20.901,3.919,25.409c2.612,4.509,7.711,6.762,15.296,6.762c7.583,0,15.252-0.631,23.006-1.896l0.379,11.631 C351.123,88.571,342.905,89.5,335.152,89.5z'/%3E %3Cpath d='M369.914,88.109l21.364-86.592h27.937l21.491,86.592h-14.159l-4.678-18.583h-33.247l-4.677,18.583H369.914L369.914,88.109z M402.15,13.272l-10.745,43.866h27.685l-10.618-43.866H402.15L402.15,13.272z'/%3E %3Cpath d='M480.148,12.388c-10.703,0-16.054,3.75-16.054,11.251c0,3.877,1.265,6.636,3.792,8.28c2.529,1.644,8.11,3.666,16.75,6.068 c8.639,2.402,14.728,5.268,18.268,8.596c3.539,3.33,5.309,8.577,5.309,15.738c0,9.101-2.591,15.909-7.774,20.416 c-5.183,4.508-12.242,6.762-21.175,6.762c-7.164,0-15.086-0.844-23.765-2.528l-4.55-0.885l1.39-11.25 c11.377,1.518,20.058,2.276,26.041,2.276c10.449,0,15.675-4.634,15.675-13.906c0-3.623-1.182-6.299-3.54-8.027 c-2.359-1.727-7.669-3.621-15.929-5.688c-8.259-2.064-14.41-4.91-18.455-8.533c-4.044-3.622-6.068-9.354-6.068-17.192 s2.548-13.758,7.648-17.761C462.81,2.003,469.867,0,478.884,0c6.49,0,14.16,0.759,23.008,2.276l4.424,0.758l-1.138,11.377 C493.379,13.063,485.035,12.388,480.148,12.388z'/%3E %3Cpath d='M517.568,14.031V1.517h63.207v12.515h-24.399v74.078h-14.158V14.031H517.568z'/%3E %3C/g%3E %3C/svg%3E"},"2d09681354dad995b763":function(e,t,n){var a=n("955a6a725544659a0b42");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},3:function(e,t){},"3fed36c1ff12008a7601":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='740px' height='740px' viewBox='0 0 740 740' enable-background='new 0 0 740 740' xml:space='preserve'%3E %3Crect x='370' fill='%2300A99D' width='370' height='370'/%3E %3Crect fill='%233849A2' width='370' height='370'/%3E %3Crect x='370' y='370' fill='%2309C6A2' width='370' height='370'/%3E %3Crect y='370' fill='%23039385' width='370' height='370'/%3E %3C/svg%3E"},"401aa70511af71beb6b9":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n\n.player-map .sidebar--header-container{\n    padding-right: 1rem;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: stretch;\n}\n\n/* .player-map .player-sidebar{\n    min-height: 16rem;\n} */\n\n.player-map .play-sidebar--container{\n    height: 100%;\n    padding: 1rem;\n}\n.player-map .sidebar.hidden .play-sidebar--container{\n    padding-top: 0;\n}\n.player-map .sidebar.hidden{\n    max-height: calc(100% - 4rem);\n}\n\n.player-map .sidebar.hidden .sidebar--item-field{\n    overflow: auto;\n}\n.sidebar--header-container .title.is-stretch{\n    flex: 1;\n}\n\n.player-map .sidebar--menu-item.sidebar--spacing .content{\n    padding: 1rem;\n}\n\n.player-map .sidebar.hidden .sidebar--menu-item .content {\n    max-height: 50vh;\n    transition: all .5s ease;\n}\n\n.player-map .player-sidebar.viewer-mode.empty{\n    background: transparent;\n    pointer-events: none;\n}\n.player-map .player-sidebar.viewer-mode.empty .sidebar--header-container{\n    background: white;\n    position: fixed;\n    bottom: 2rem;\n    left: 2rem;\n    max-width: calc(100% - 4rem);\n    pointer-events: all;\n}\n\n.player-actions-container{\n    position: absolute;\n    bottom: 1rem;\n    right: 1rem;\n    z-index: 1000;\n    display: flex;\n    flex-flow: column nowrap;\n}\n\n.player-actions-container .button {\n    margin-bottom: .5rem;\n}\n\n.sidebar.player-sidebar .sidebar--item-field--selected.sidebar--item-field--minified {\n    background: white;\n    color: #363636;\n    padding: 0;\n}\n\n.sidebar.player-sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified),\n.sidebar.player-sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified) h1,\n.sidebar.player-sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified) h2,\n.sidebar.player-sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified) h3,\n.sidebar.player-sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified) h4,\n.sidebar.player-sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified) h5,\n.sidebar.player-sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified) h6,\n.sidebar.player-sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified) blockquote\n{\n    color : white;\n    background: transparent;\n}\n\n.player-map .sidebar.hidden .sidebar--wrapper{\n    overflow: hidden;\n    padding-bottom: 0.5rem;\n}\n\n.sidebar--menu-item__minified{\n    height: 100%;\n    max-height: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: stretch;\n}\n\n.sidebar--menu-item__minified > .stretched-layout-container{\n    flex: 1;\n    justify-content: stretch;\n    max-height: 100%;\n}\n.sidebar--menu-item__minified > .stretched-layout-container > .stretched-layout-item:first-of-type{\n    overflow: auto;\n}\n\n.sidebar.player-sidebar .minified-nav-container{\n    justify-content: center;\n    border-top: 1px solid rgba(0,0,0,0.05);\n    margin-top: 1rem;\n    padding-top: .5rem;\n}\n\n.player-map .player-card{\n    cursor: pointer;\n}\n\n.player-map .player-title{\n    margin: 0;\n}\n\n.player-map .annotation-shape.annotation-shape__editing.leaflet-interactive {\n    fill: black;\n    stroke: white;\n    pointer-events: none;\n    mix-blend-mode: darken;\n}\n\n/* @media screen and (max-width: 1024px) { */\n@media screen and (max-width: 1300px) {\n    .sidebar--footer-container .stretched-layout-container {\n        flex-direction: column;\n    }\n}\n\n@media screen and (max-width: 800px) {\n    .sidebar{\n        width: 40%;\n        max-width: unset;\n    }\n\n    .player-map .sidebar--header-container .title{\n        margin-right: 0.5rem;\n    }\n\n    .player-map .sidebar--header-container .title img{\n        max-height: 1rem;\n    }\n\n    .player-map .sidebar.hidden{\n        max-height: 40%;\n    }\n    .player-map .sidebar.hidden .sidebar--menu-item .content {\n        max-height: 4rem;\n    }\n\n}\n\n@media screen and (max-width: 500px) {\n    .player-map .sidebar {\n        width: 100%;\n        max-width: 100%;\n        height: 50%;\n        bottom: 0;\n    }\n    .player-map .sidebar\n    .player-map .sidebar.hidden{\n        bottom: 1rem;\n        height: unset;\n    }\n \n    .player-map .sidebar:not(.hidden) .sidebar--header-container .button{\n        margin-left: 1rem;\n    }\n    .player-map .sidebar.hidden{\n        width: calc(100% - 4rem);\n        max-width: calc(100vw - 4rem);\n        bottom: 2rem;\n        height: auto;\n    }\n\n    .player-map .player-actions-container {\n        top: 1rem;\n        left: 2rem;\n        pointer-events: none;\n    }\n    .player-map .player-actions-container .button{\n        max-width: 3rem;\n        pointer-events: all;\n    }\n}\n\n@media screen and (max-width: 300px) {\n    .player-map .sidebar--header-container,\n    .player-map .sidebar\n    {\n        display: none;\n    }\n    .player-map .player-actions-container {\n        top: 1rem;\n        left: 1rem;\n    }\n}\n\n@media screen and (max-height: 300px) {\n    .player-map .sidebar {\n        display: none;\n    }\n}\n\n@media print{\n    @page {\n        size: landscape;\n    }   \n    .player-map .player-footer-container,\n    .player-map .leaflet-control-zoom-in,\n    .player-map .leaflet-control-zoom-out,\n    .play-playmode-toggle,\n    .minified-nav-container\n    {\n        display: none;\n    }\n    .player-map .leaflet-container{\n        background: white;\n    }\n    /* if an annotation is selected hide the others */\n    .player-map .player-sidebar.has-selected .sidebar--menu-item:not(.sidebar--menu-item__selected) {\n        display: none;\n    }\n\n     html,\n    #app,\n    .player-map,\n    .player-sidebar,\n    .stretched-layout-container,\n    .leaflet-container,\n    .sidebar.visible\n    {\n        overflow: visible;\n        height: unset;\n    }\n    .sidebar.visible{\n        height: 100%;\n    }\n\n     .player-map .annotation-shape.annotation-shape__editing.leaflet-interactive{\n        fill-opacity: 0;\n        stroke: black;\n    }\n    .sidebar.has-selected{\n        position: fixed;\n        bottom: 1rem;\n        left: 1rem;\n    }\n    .box.player-card {\n        box-shadow: none;\n        padding: 1rem;\n    }\n}",""])},"5a506235aaa5ee0bbd27":function(e,t,n){var a=n("e44b2a44b28b33d820c5");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"6034ec4c48cf13fdf8f7":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='803.14px' height='803.14px' viewBox='0 0 803.14 803.14' enable-background='new 0 0 803.14 803.14' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' points=' 402.764,634.289 147.59,128.713 653.166,383.887 '/%3E %3Cline fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' x1='706.302' y1='687.427' x2='527.964' y2='509.087'/%3E %3C/svg%3E"},"622ec8036aaf28780be2":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='915.5px' viewBox='0 0 1280 915.5' enable-background='new 0 0 1280 915.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23000000' stroke-width='45' stroke-linejoin='round' stroke-miterlimit='10' points='400.268,843.677 240.671,352.489 658.5,48.919 1076.329,352.489 916.732,843.677 '/%3E %3C/svg%3E"},"64dac7de12fb65a47bbf":function(e,t,n){var a=n("03e5aaee93020dcb97eb");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"65487e27ba6ae8e8f9c5":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='887.5px' viewBox='0 0 1280 887.5' enable-background='new 0 0 1280 887.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Ccircle fill='none' stroke='%23000000' stroke-width='45' stroke-miterlimit='10' cx='650.463' cy='456.406' r='401.57'/%3E %3C/svg%3E"},"66a1c366ea57fb65bda8":function(e,t,n){var a=n("7bffbf7599523c159899");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"6a95e2c254c73be60618":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='915.5px' viewBox='0 0 1280 915.5' enable-background='new 0 0 1280 915.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linejoin='round' stroke-miterlimit='10' points='400.268,843.677 240.671,352.489 658.5,48.919 1076.329,352.489 916.732,843.677 '/%3E %3C/svg%3E"},"6b97fe482b4efccc0e93":function(e,t,n){var a=n("cf3389da37ebf2d831db");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"74a2325ee1817d991dfc":function(e,t,n){"use strict";n.r(t);n("8c8e4f08a118a28666b0");var a=n("8af190b70a6bc55c6f1b"),r=n.n(a),o=n("63f14ac74ce296f77f4d"),i=n.n(o),c=n("d7dd51e1bf6bfc2c9c3d"),l=n("3aced5b508e7389026da"),s=n("3fb509045374147eb7e3"),d=n.n(s)()({basename:"/tesselle"}),u=(n("6735bdf1a3a541ab43fd"),n("da713d1d0d97c7c3b188"),n("a5a9a0d2e379224a5853"),n("b8989a0d313aa2f520d5"),n("2d09681354dad995b763"),n("8a7cdc45e54e162d8758")),p=n.n(u),m=n("e95a63b25fb92ed15721"),f=n("ab4cb61bcb2dc161defb"),h=n("f2873ecf7390fe7d7c89"),b=n.n(h),g=n("6a4f9c383785f9168266"),w=n.n(g),v=n("a1cf5d6fa4ed65a6ddd5"),y=n.n(v),E=n("f3b0ff1628e56352bcbf"),x=n.n(E),C=n("5fa3f8487e09c6182715"),O=n.n(C),S=n("d3a850c4000d77bccc89"),j=n.n(S);function k(e){var t={dispatch:x.a,subscribe:x.a,getState:x.a,replaceReducer:x.a,runSaga:x.a,injectedReducers:j.a,injectedSagas:j.a};w()(b()(e,t),"(app/utils...) injectors: Expected a valid redux store")}var _="@@saga-injector/restart-on-remount",I="@@saga-injector/daemon",A="@@saga-injector/once-till-unmount",T=[_,I,A],R=function(e){return w()(O()(e)&&!y()(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},L=function(e){var t={saga:x.a,mode:function(e){return O()(e)&&T.includes(e)}};w()(b()(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function D(e,t){return function(n,a,r){t||k(e);var o=Object.assign({},a,{mode:a.mode||_}),i=o.saga,c=o.mode;R(n),L(o);var l=Reflect.has(e.injectedSagas,n);(!l||l&&c!==I&&c!==A)&&(e.injectedSagas[n]=Object.assign({},o,{task:e.runSaga(i,r)}))}}function M(e,t){return function(n){if(t||k(e),R(n),Reflect.has(e.injectedSagas,n)){var a=e.injectedSagas[n];a.mode!==I&&(a.task.cancel(),e.injectedSagas[n]="done")}}}function N(e){var t=e.key,n=e.saga,r=e.mode;return function(e){var o=function(o){var i=a.useContext(c.ReactReduxContext);return a.useEffect(function(){var e,a=(k(e=i.store),{injectSaga:D(e,!0),ejectSaga:M(e,!0)});return a.injectSaga(t,{saga:n,mode:r},o),function(){a.ejectSaga(t)}},[]),a.createElement(e,Object.assign({},o))};return o.displayName="withSaga(".concat(e.displayName||e.name||"Component",")"),o}}var P="app/LanguageToggle/CHANGE_LOCALE";var F=n("ab039aecd4a1d4fedc0e").addLocaleData,z=n("58d82b287428be065a42"),G=n("529d37966b19afdce782"),B=n("7dd68a64079d1d4cd439");F(z),F(G);var H={en:function e(t,n){var a="en"!==t?e("en",B):{};return Object.keys(n).reduce(function(e,r){var o=n[r]||"en"===t?n[r]:a[r];return Object.assign({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,o))},{})}("en",B)},U={locale:"en"};var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return{locale:t.locale};default:return e}};function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(l.connectRouter)(d);return Object(f.combineReducers)(Object.assign({language:V,router:t,toastr:u.reducer},e))}function q(e,t){return function(n,a){t||k(e),w()(O()(n)&&!y()(n)&&x()(a),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===a||(e.injectedReducers[n]=a,e.replaceReducer(W(e.injectedReducers)))}}function Z(e){var t=e.key,n=e.reducer;return function(e){return function(r){var o=a.useContext(c.ReactReduxContext);return a.useEffect(function(){var e;(k(e=o.store),{injectReducer:q(e,!0)}).injectReducer(t,n)}),a.createElement(e,Object.assign({},r))}}}var Y,J=n("0d64d0cb24dd542fe0cf"),X=n("0d7f0986bcd2f33d8a2a"),Q=n("ab039aecd4a1d4fedc0e"),K=n("a28fc3c963a1d4d1a2e5"),$=n("229f5bf90804a8ad1495");!function(e){e.LOAD_SLIDESHOWS="app/HomePage/LOAD_SLIDESHOWS",e.CREATE_SLIDESHOW="app/HomePage/CREATE_SLIDESHOW",e.CREATE_SLIDESHOW_SUCCESS="app/HomePage/CREATE_SLIDESHOW_SUCCESS",e.CREATE_SLIDESHOW_FAILURE="app/HomePage/CREATE_SLIDESHOW_FAILURE",e.REMOVE_SLIDESHOW="app/HomePage/REMOVE_SLIDESHOW",e.REMOVE_SLIDESHOW_SUCCESS="app/HomePage/REMOVE_SLIDESHOW_SUCCESS",e.REMOVE_SLIDESHOW_FAILURE="app/HomePage/REMOVE_SLIDESHOW_FAILURE",e.SLIDESHOW_DUPLICATE="app/HomePage/SLIDESHOW_DUPLICATE"}(Y||(Y={}));var ee=Y,te=n("54f683fcda7806277002"),ne=n("3e9c7e5351d86134f5f6"),ae=n.n(ne);function re(e){return(re="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.id||(e.id=ae()()),ie(this,ce(t).call(this,e))}var n,a,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,Object(te["Record"])({id:"",file:{},width:0,height:0,type:""})),n=t,(a=[{key:"with",value:function(e){return this.merge(e)}}])&&oe(n.prototype,a),r&&oe(n,r),t}(),de=n("6e841ed3e83e93f20bf1"),ue=n.n(de),pe=n("64cae832d9247bf4c049"),me=Object(te.Record)({id:"emptyId",content:"",type:"rectangle"},"AnnotationProperties"),fe=Object(te.Record)({id:"emptyId",content:"",radius:0,type:"circle"},"AnnotationCircleProperties"),he=function(e){var t=e.get("id");return"emptyId"===t||void 0===t?e.set("id",ae()()):e},be=Object($.pipe)(he,me),ge=Object($.pipe)(he,fe);function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ve(e,t,n){for(var a,r=we(e,2),o=r[0],i=r[1],c=[],l=ue.a.CRS.Simple,s=2*Math.PI,d=l.projection.project.bind(l.projection),u=l.projection.unproject.bind(l.projection),p=d({lng:o,lat:i}),m=0,f=0;f<n-1;f++)m-=s/n,a=new ue.a.Point(p.x+t*Math.cos(m),p.y+t*Math.sin(m)),f>0&&a.equals(c[f-1])||c.push(u(a));return c}function ye(e,t){try{return t.has("radius")?ge(t.toMap()):be(t.toMap())}catch(n){return console.error("fromJS error"),console.log(e,t),Object(te.fromJS)(t)}}var Ee=function(e){switch(e.type){case void 0:return Object(te.Map)({properties:ye("properties",Object(te.fromJS)(e.properties))});case"FeatureCollection":return Object(pe.FeatureCollection)(e,ye);case"Feature":return Object(pe.Feature)(e,ye);case"GeometryCollection":return Object(pe.GeometryCollection)(e);case"Point":return Object(pe.Point)(e);case"MultiPoint":return Object(pe.MultiPoint)(e);case"LineString":return Object(pe.LineString)(e);case"MultiLineString":return Object(pe.MultiLineString)(e);case"Polygon":return Object(pe.Polygon)(e);case"MultiPolygon":return Object(pe.MultiPolygon)(e)}throw new Error("Shape not supported in fromJS")};var xe=function(e){return new ue.a.LatLng(e[1],e[0],e[2])},Ce=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xe;return Object($.map)(n?function(t){return e(t,n-1,a)}:xe,t)};function Oe(e){switch(e.properties.type){case"circle":return ve(e.geometry.coordinates.toJS(),e.properties.radius,5);case"rectangle":case"polygon":return Ce(e.geometry.coordinates,"Polygon"===e.geometry.type?1:2).toJS()}throw new Error("Unsupportd shape:"+e.properties.type)}["editable:shape:new","editable:shape:delete","editable:shape:deleted","editable:vertex:new","editable:vertex:click","editable:vertex:clicked","editable:vertex:rawclick","editable:vertex:deleted","editable:vertex:ctrlclick","editable:vertex:shiftclick","editable:vertex:metakeyclick","editable:vertex:altclick","editable:vertex:contextmenu","editable:vertex:mousedown","editable:vertex:drag","editable:vertex:dragstart","editable:vertex:dragend","editable:middlemarker:mousedown","editable:drawing:start","editable:drawing:end","editable:drawing:cancel","editable:drawing:commit","editable:drawing:mousedown","editable:drawing:mouseup","editable:drawing:click","editable:drawing:clicked","editable:created","editable:enable","editable:disable","editable:editing","editable:dragend"].join(" ");function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function je(e,t,n,a){var r=Math.min(n/e,a/t);return{width:e*r,height:t*r}}var ke=document.createElement("canvas"),_e=ke.getContext("2d");function Ie(e,t,n){var a=Se(n,2),r=a[0],o=a[1],i=Se(t,4),c=i[0],l=i[1],s=i[2],d=i[3];return e.width=r,e.height=o,ke.width=r,ke.height=o,_e.drawImage(e,c,l,s,d,0,0,ke.width,ke.height),new Promise(function(e,t){ke.toBlob(function(t){e(new File([t],"default.jpg",{type:"image/jpeg"}))})})}var Ae=function(e,t){return new Promise(function(n,a){var r=new Image,o=document.createElement("canvas"),i=o.getContext("2d"),c=t.right-t.left,l=t.bottom-t.top,s=je(c,l,t.maxWidth,t.maxHeight),d=s.width,u=s.height;r.width=d,r.height=u,o.width=d,o.height=u,r.onload=function(){i.drawImage(r,t.left,t.top,c,l,0,0,o.width,o.height),o.toBlob(function(a){n(new File([a],t.name?t.name:e.name,{type:e.type}))})},r.src=window.URL.createObjectURL(e),r.onerror=a})},Te={"image/svg+xml":"svg","image/jpeg":"jpeg","image/png":"png","image/bmp":"bmp","image/webp":"webp"},Re=function(e){if(!Te[e])throw new Error("no types for "+e);return Te[e]},Le={svg:"image/svg+xml",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",webp:"image/webp"},De=function(e){if(!Le[e])throw new Error("no types for "+e);return Le[e]},Me=function(e){return"image/svg+xml"===e.type},Ne=function(e){var t=(new Date).toLocaleDateString(),n=e.toLocaleDateString();return t===n&&(n=e.toLocaleTimeString()),n};function Pe(e){return(Pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){return!t||"object"!==Pe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ve=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function c(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,c)}l((a=a.apply(e,t||[])).next())})},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createdAt,n=void 0===t?new Date:t,a=e.updatedAt,r=void 0===a?new Date:a;return new qe({createdAt:new Date(n),updatedAt:new Date(r)})},qe=function(e){function t(){return ze(this,t),Ge(this,Be(t).apply(this,arguments))}return He(t,Object(te["Record"])({createdAt:new Date,updatedAt:new Date})),t}(),Ze=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,a=void 0===n?ae()():n,r=e.name,o=void 0===r?"Untitled image":r,i=e.annotations,c=void 0===i?Object(te.List)():i,l=e.image,s=void 0===l?new se:l,d=e.meta,u=void 0===d?We():d;return ze(this,t),a&&""!==a||(a=ae()()),c instanceof Array&&(c=Object(te.List)(c.map(Ee))),s instanceof se||(s=new se(s)),u instanceof qe||(u=We(u)),Ge(this,Be(t).call(this,{id:a,name:o,annotations:c,image:s,meta:u}))}var n,a,r;return He(t,Object(te["Record"])({id:"",name:"Untitled image",annotations:Object(te["List"])(),image:new se,meta:We()})),n=t,(a=[{key:"with",value:function(e){return this.merge(e)}}])&&Fe(n.prototype,a),r&&Fe(n,r),t}(),Ye=Ze,Je=Object($.curry)(function(e,t){return Object($.map)(function(e){return e(t)},e)}),Xe=Object($.pipe)(Object($.nth)(2),Number),Qe=Object($.pipe)(Object($.nth)(3),Number),Ke=function(e){var t=e.getAttribute("width"),n=e.getAttribute("height"),a=e.getAttribute("viewBox");if(t&&n)return{width:+t,height:+n};if(a)return function(e){return Je({width:Xe,height:Qe},Object($.split)(" ",e))}(a);throw new Error("No width / height nor viewBox")},$e=function(e,t){return new Promise(function(n,a){if(Me(e)){var r=new FileReader;r.onload=function(){var a=document.createElement("div");a.innerHTML=r.result;var o=a.getElementsByTagName("svg")[0];try{var i=Ke(o);return n([new Ze({name:t,image:new se({file:e,width:i.width,height:i.height,type:"image/svg+xml"})}),o])}catch(a){o.setAttribute("width","1000"),o.setAttribute("height","1000");var c=Ke(o);return n([new Ze({name:t,image:new se({file:e,width:c.width,height:c.height,type:"image/svg+xml"})}),o])}},r.readAsText(e),r.onerror=a}else{var o=window.URL.createObjectURL(e),i=new Image;i.onload=function(){return Ve(void 0,void 0,void 0,regeneratorRuntime.mark(function r(){var c,l,s,d;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==i.width){r.next=2;break}return r.abrupt("return",a(new Error("Slideshow.image has a width of 0")));case 2:if(0!==i.height){r.next=4;break}return r.abrupt("return",a(new Error("Slideshow.image has a height of 0")));case 4:return 100,c=i.width>i.height?100:i.width/i.height*100,l=i.height>i.height?100:i.height/i.width*100,r.next=9,Ae(e,{maxWidth:c,maxHeight:l,left:0,top:0,bottom:i.height,right:i.width,name:"thumbnail.jpg"});case 9:return s=r.sent,d=new Ze({name:t,image:new se({file:s,width:i.width,height:i.height,type:"image/jpeg"})}),window.URL.revokeObjectURL(o),r.abrupt("return",n([d,i]));case 13:case"end":return r.stop()}},r)}))},i.onerror=function(e){console.error(e),a(e)},i.src=o}})},et={slideshows:Object(te.List)([])},tt=Object(f.combineReducers)({slideshows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et.slideshows,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.LOAD_SLIDESHOWS:return Object(te.List)(t.payload.map(function(e){return new Ye(e)}));case ee.REMOVE_SLIDESHOW_SUCCESS:return e.remove(e.indexOf(t.payload));default:return e}}}),nt=function(e){return e&&e.homePage?e.homePage:et},at=function(){return Object(K.a)(nt,function(e){return e.slideshows})},rt=n("d782b72bc5b680c7122c"),ot=n("7a6a68cd2a7df90b2b34"),it=n.n(ot);it.a.config({driver:[it.a.INDEXEDDB],name:"TESSELLE",version:1,size:4980736,storeName:"keyvaluepairs",description:"some description"}),window.db=it.a;var ct=it.a,lt=n("7e8762fdbf69fdc6312a"),st=function(e){return Object(lt.action)(ee.LOAD_SLIDESHOWS,e)},dt=Object(lt.createAsyncAction)(ee.CREATE_SLIDESHOW,ee.CREATE_SLIDESHOW_SUCCESS,ee.CREATE_SLIDESHOW_FAILURE)(),ut=Object(lt.createAsyncAction)(ee.REMOVE_SLIDESHOW,ee.REMOVE_SLIDESHOW_SUCCESS,ee.REMOVE_SLIDESHOW_FAILURE)(),pt=n("2862a523e031319710f7"),mt=function(e){return"\n<html>\n  <head>\n    <title>".concat(e.name,'</title>\n  <link rel="icon" href="https://medialab.github.io/tesselle/favicon.ico" />\n    \x3c!-- META DUBLIN CORE --\x3e\n    <meta name="DC.Title" lang="fr" content="').concat(e.name,'" />\n    <meta name="DC.subject" xml:lang="en-GB" content="image annotation" />\n    <meta name="DC.subject" xml:lang="en-GB" content="image publication" />\n    \x3c!-- END META DUBLIN CORE --\x3e\n\n    \x3c!-- REGULAR META --\x3e\n    \x3c!--<meta name="author" content="m\xe9dialab Sciences Po" />--\x3e\n    <meta name="keywords" content="image annotation, dense captionning, image tiling" />\n    <meta name="description" content="a tesselle-made image publication" />\n    <meta name="viewport" content="user-scalable=no,width=device-width" />\n    \x3c!-- END REGULAR META --\x3e\n\n    \x3c!-- META TWITTER --\x3e\n    <meta name="twitter:card" value="summary" />\n    <meta name="twitter:site" content="https://medialab.github.io/tesselle">\n    <meta name="twitter:title" content="').concat(e.name,'" />\n    <meta name="twitter:description" content="a tesselle-made image publication" />\n    \x3c!-- Twitter Summary card images must be at least 200x200px --\x3e\n    <meta name="twitter:image" content="https://medialab.github.io/tesselle/icon-512x512.png" />\n    \x3c!-- end meta twitter--\x3e\n\n    \x3c!-- META GOOGLE + --\x3e\n    <meta itemprop="name" content="').concat(e.name,'" />\n    <meta itemprop="description" content="a tesselle-made image publication" />\n    <meta itemprop="image" content="https://medialab.github.io/tesselle/icon-512x512.png" />\n    \x3c!-- END META GOOGLE + --\x3e\n\n    \x3c!-- META OPEN GRAPH / FACEBOOK --\x3e\n    <meta property="og:title" content="').concat(e.name,'" />\n    <meta property="og:type" content="website" />\n    <meta property="og:url" content="https://medialab.github.io/tesselle/"/>\n    <meta property="og:description" content="a tesselle-made image publication" />\n    <meta property="og:image" content="https://medialab.github.io/tesselle/icon-512x512.png"/>\n    <meta property="og:image:width" content="512"/>\n    <meta property="og:image:height" content="512"/>\n    \x3c!-- END META OPEN GRAPH / FACEBOOK --\x3e\n    <style>p { color: lightblue }</style>\n    <script>\n      locationUrl = window.location.href.replace(window.location.protocol, \'\').replace(\'/index.html\', \'\');\n      const url = \'https://medialab.github.io/tesselle/#/viewer/?url=\' + locationUrl;\n      function setUrl () {\n        const iframe = document.getElementById(\'iframe\');\n        iframe.src = url;\n      }\n      if(window.addEventListener) {\n        window.addEventListener(\'load\', setUrl, false);\n      } else {\n        window.attachEvent(\'onload\', setUrl);\n      }\n    <\/script>\n  </head>\n  <style>\n      #iframe{\n        width: 100%;\n        height: 100%;\n        left: 0;\n        top: 0;\n        position: fixed;\n        border: none;\n      }\n  </style>\n  <body>\n    <iframe allowfullscreen id="iframe"></iframe>\n  </body>\n</html>\n')};function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ht,bt=regeneratorRuntime.mark(vt),gt=regeneratorRuntime.mark(xt),wt=function(e,t){return{"@context":"http://library.stanford.edu/iiif/image-api/1.1/context.json","@id":e.image.id,formats:[Re(e.image.file.type)],height:e.image.height,profile:"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",qualities:["default"],scale_factors:t,tile_height:512,tile_width:512,width:e.image.width}};function vt(e,t,n,a){var r,o,i,c,l,s,d,u,p,m,f,h,b,g,w,v,y,E,x;return regeneratorRuntime.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:r=!0,o=!1,i=void 0,C.prev=3,c=a[Symbol.iterator]();case 5:if(r=(l=c.next()).done){C.next=37;break}if(!((s=l.value)*n>e&&s*n>=t)){C.next=9;break}return C.abrupt("continue",34);case 9:d=n*s,u=Math.floor((e-1)/d)+1,p=Math.floor((t-1)/d)+1,m=0;case 13:if(!(m<=u)){C.next=34;break}(h=(f=m*d)+d)>e&&(h=e),b=h-f,g=Math.floor((b+s-1)/s),w=0;case 20:if(!(w<p)){C.next=31;break}return(y=(v=w*d)+d)>t&&(y=t),E=y-v,x=Math.floor((E+s-1)/s),C.next=28,[[f,v,b,E],[g,x],s];case 28:w++,C.next=20;break;case 31:m++,C.next=13;break;case 34:r=!0,C.next=5;break;case 37:C.next=43;break;case 39:C.prev=39,C.t0=C.catch(3),o=!0,i=C.t0;case 43:C.prev=43,C.prev=44,r||null==c.return||c.return();case 46:if(C.prev=46,!o){C.next=49;break}throw i;case 49:return C.finish(46);case 50:return C.finish(43);case 51:case"end":return C.stop()}},bt,null,[[3,39,43,51],[44,,46,50]])}function yt(e,t){return"/".concat(e.join(","),"/").concat(t[0],",/0/native.jpg")}function Et(e,t,n,a){for(var r=1,o=[r],i=0;i<30&&!(e*(r*=2)>t&&n*r>a);i++)o.push(r);return o}function xt(e,t){var n,a,r,o,i,c,l,s,d,u,p,m,f;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:n=e.width,a=e.height,r=t.tileSize,o=t.scaleFactors?t.scaleFactors:Et(r,n,r,a),i=!0,c=!1,l=void 0,h.prev=6,s=regeneratorRuntime.mark(function t(){var n,a,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=ft(u.value,3),a=n[0],r=n[1],o=n[2],t.next=3,[yt(a,r),function(){return Ie(e,a,r)},o];case 3:case"end":return t.stop()}},t)}),d=vt(n,a,r,o)[Symbol.iterator]();case 9:if(i=(u=d.next()).done){h.next=14;break}return h.delegateYield(s(),"t0",11);case 11:i=!0,h.next=9;break;case 14:h.next=20;break;case 16:h.prev=16,h.t1=h.catch(6),c=!0,l=h.t1;case 20:h.prev=20,h.prev=21,i||null==d.return||d.return();case 23:if(h.prev=23,!c){h.next=26;break}throw l;case 26:return h.finish(23);case 27:return h.finish(20);case 28:return p=je(n,a,480,512),m=[0,0,n,a],f=[p.width,p.height],h.next=33,[yt(m,f),function(){return Ie(e,m,f)},Object($.last)(o)];case 33:case"end":return h.stop()}},gt,null,[[6,16,20,28],[21,,23,27]])}!function(e){e.SET_PROGRESS="app/App/SET_PROGRESS",e.EXPORT_START="app/App/EXPORT_START",e.EXPORT_SUCCESS="app/App/EXPORT_SUCCESS",e.EXPORT_FAILURE="app/App/EXPORT_FAILURE",e.IMPORT_SLIDESHOW="app/App/IMPORT_SLIDESHOW",e.IMPORT_SLIDESHOW_SUCCESS="app/App/IMPORT_SLIDESHOW_SUCCESS",e.IMPORT_SLIDESHOW_FAILURE="app/App/IMPORT_SLIDESHOW_FAILURE",e.SET_HELP_MODAL_STATUS="app/App/SET_HELP_MODAL_STATUS"}(ht||(ht={}));var Ct=ht,Ot=function(e){return Object(lt.action)(Ct.SET_PROGRESS,e)},St=Object(lt.createAsyncAction)(Ct.EXPORT_START,Ct.EXPORT_SUCCESS,Ct.EXPORT_FAILURE)(),jt=Object(lt.createAsyncAction)(Ct.IMPORT_SLIDESHOW,Ct.IMPORT_SLIDESHOW_SUCCESS,Ct.IMPORT_SLIDESHOW_FAILURE)(),kt=function(e){return Object(lt.action)(Ct.SET_HELP_MODAL_STATUS,e)};function _t(e){return(_t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){return!t||"object"!==_t(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dt=function(e){function t(){return It(this,t),At(this,Tt(t).apply(this,arguments))}return Rt(t,Object(te["Record"])({"@context":"http://library.stanford.edu/iiif/image-api/1.1/context.json","@id":"null",formats:["jpg"],height:0,width:0,profile:"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",qualities:["default"],scale_factors:[1],tile_height:0,tile_width:0})),t}(),Mt=function(e){function t(){var e;return It(this,t),(e=At(this,Tt(t).apply(this,arguments))).info=new Dt,e}return Rt(t,Object(te["Record"])({total:0,present:0,level:1,exporting:false,helpModalStatus:false})),t}(),Nt=new Mt;var Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct.SET_PROGRESS:return t.payload?t.payload:Nt;case Ct.EXPORT_START:return e.set("exporting",!0);case Ct.EXPORT_SUCCESS:case Ct.EXPORT_FAILURE:return e.set("exporting",!1);case Ct.SET_HELP_MODAL_STATUS:return e.set("helpModalStatus",t.payload);default:return e}},Ft=function(e){return e&&e.slicer?e.slicer:Nt},zt=function(){return Object(K.a)(Ft,function(e){return e})},Gt=n("fa2ed8a2363df0bb047b"),Bt=n.n(Gt);function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ut=regeneratorRuntime.mark(rn),Vt=regeneratorRuntime.mark(on),Wt=regeneratorRuntime.mark(cn),qt=regeneratorRuntime.mark(ln),Zt=regeneratorRuntime.mark(sn),Yt=regeneratorRuntime.mark(dn),Jt=regeneratorRuntime.mark(un),Xt=regeneratorRuntime.mark(pn),Qt=regeneratorRuntime.mark(mn),Kt=regeneratorRuntime.mark(fn),$t=regeneratorRuntime.mark(hn),en=regeneratorRuntime.mark(bn),tn=zt(),nn=at(),an=512;function rn(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(te.isImmutable)(e)){t.next=3;break}return t.next=3,ct.setItem("slideshows",e.toJS());case 3:return t.next=5,Object(rt.put)(st(e));case 5:case"end":return t.stop()}},Ut)}function on(e,t,n){var a,r,o,i,c,l,s,d,u;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:a=!0,r=!1,o=void 0,p.prev=3,i=e[Symbol.iterator]();case 5:if(a=(c=i.next()).done){p.next=15;break}return l=Ht(c.value,3),s=l[0],d=l[1],u=l[2],t=t.set("present",t.present+1).set("level",u),p.next=10,Object(rt.put)(Ot(t));case 10:return p.next=12,Object(rt.call)([ct,ct.setItem],"/"+n+s,d());case 12:a=!0,p.next=5;break;case 15:p.next=21;break;case 17:p.prev=17,p.t0=p.catch(3),r=!0,o=p.t0;case 21:p.prev=21,p.prev=22,a||null==i.return||i.return();case 24:if(p.prev=24,!r){p.next=27;break}throw o;case 27:return p.finish(24);case 28:return p.finish(21);case 29:return p.next=31,Object(rt.put)(Ot(t));case 31:case"end":return p.stop()}},Vt,null,[[3,17,21,29],[22,,24,28]])}function cn(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(rt.select)(tn);case 2:return t=(t=n.sent).set("total",e).set("present",0),n.next=6,Object(rt.put)(Ot(t));case 6:return n.abrupt("return",t);case 7:case"end":return n.stop()}},Wt)}function ln(e,t){var n,a,r,o=arguments;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:Et(an,e.width,an,e.height),i.prev=1,r=Array.from(xt(e,{tileSize:512,scaleFactors:n})),i.next=5,cn(r.length);case 5:return a=i.sent,i.t0=on,i.t1=r,i.next=10,Object(rt.select)(tn);case 10:return i.t2=i.sent,i.t3=t,i.delegateYield((0,i.t0)(i.t1,i.t2,i.t3),"t4",13);case 13:a=i.t4,i.next=20;break;case 16:throw i.prev=16,i.t5=i.catch(1),a.cancel(),i.t5;case 20:case"end":return i.stop()}},qt,null,[[1,16]])}function sn(e){var t,n,a,r,o,i,c,l,s,d,u,p;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,t=e.payload,(n=new Bt.a).file("thumbnail.".concat(Re(t.image.file.type)),t.image.file),n.file("slideshow.json",JSON.stringify(t)),n.file("_headers","/*\n    Access-Control-Allow-Origin: *"),n.file("index.html",mt(t)),m.next=9,ct.getItem("/info/".concat(t.image.id,".json"));case 9:return a=m.sent,n.file("info.json",JSON.stringify(a)),r=n.folder("images"),m.next=14,ct.keys();case 14:return o=m.sent,m.next=17,Object(rt.all)(o.filter(function(e){return e.startsWith("/".concat(t.image.id))}));case 17:i=m.sent,c=!0,l=!1,s=void 0,m.prev=21,d=i[Symbol.iterator]();case 23:if(c=(u=d.next()).done){m.next=34;break}return p=u.value,m.t0=r,m.t1=p.replace("/".concat(t.image.id),""),m.next=29,Object(rt.call)([ct,ct.getItem],p);case 29:m.t2=m.sent,m.t0.file.call(m.t0,m.t1,m.t2);case 31:c=!0,m.next=23;break;case 34:m.next=40;break;case 36:m.prev=36,m.t3=m.catch(21),l=!0,s=m.t3;case 40:m.prev=40,m.prev=41,c||null==d.return||d.return();case 43:if(m.prev=43,!l){m.next=46;break}throw s;case 46:return m.finish(43);case 47:return m.finish(40);case 48:return m.t4=pt.saveAs,m.next=51,n.generateAsync({type:"blob"});case 51:return m.t5=m.sent,m.t6="".concat(t.name,".zip"),(0,m.t4)(m.t5,m.t6),m.next=56,Object(rt.put)(St.success());case 56:m.next=61;break;case 58:m.prev=58,m.t7=m.catch(0),console.error(m.t7);case 61:case"end":return m.stop()}},Zt,null,[[0,58],[21,36,40,48],[41,,43,47]])}function dn(e){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(rt.select)(nn);case 2:return(t=a.sent).some(function(t){return t.id===e.id})&&(e=e.set("id",ae()())),(n=t.filter(function(t){return t.name.startsWith(e.name)})).size>=1&&(e=e.set("name","".concat(n.first().name," - ").concat(n.size+1))),a.abrupt("return",e);case 7:case"end":return a.stop()}},Yt)}function un(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=JSON,n.next=3,e.file("slideshow.json").async("string");case 3:return n.t1=n.sent,t=n.t0.parse.call(n.t0,n.t1),n.delegateYield(dn(new Ye(t)),"t2",6);case 6:return n.abrupt("return",n.t2);case 7:case"end":return n.stop()}},Jt)}function pn(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.file("info.json"),n.t0=JSON,n.next=4,Object(rt.call)([t,t.async],"string");case 4:return n.t1=n.sent,t=n.t0.parse.call(n.t0,n.t1),n.next=8,ct.setItem("/info/".concat(t["@id"],".json"),t);case 8:return n.abrupt("return",t);case 9:case"end":return n.stop()}},Xt)}function mn(e,t){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n="thumbnail.".concat(t),a.t0=File,a.next=4,e.file(n).async("blob");case 4:return a.t1=a.sent,a.t2=[a.t1],a.t3=n,a.t4={type:De(t)},a.abrupt("return",new a.t0(a.t2,a.t3,a.t4));case 9:case"end":return a.stop()}},Qt)}function fn(e){var t,n,a,r,o,i,c,l,s,d,u,p,m,f,h,b,g;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return t=new Bt.a,w.next=3,t.loadAsync(e.payload);case 3:return n=t.filter(function(e){return e.startsWith("images")&&e.endsWith("jpg")}),w.next=6,Object(rt.call)(pn,t);case 6:return a=w.sent,w.next=9,Object(rt.all)([Object(rt.call)(mn,t,a.formats[0]),Object(rt.call)(cn,n.length),Object(rt.call)(un,t)]);case 9:r=w.sent,o=Ht(r,3),i=o[0],c=o[1],l=(l=o[2]).set("image",new se(l.image).set("file",i)),s=!0,d=!1,u=void 0,w.prev=18,p=n[Symbol.iterator]();case 20:if(s=(m=p.next()).done){w.next=38;break}return f=m.value,h=f.name,w.t0=File,w.next=26,f.async("blob");case 26:return w.t1=w.sent,w.t2=[w.t1],w.t3={type:De(a.formats[0])},b=new w.t0(w.t2,"native.jpg",w.t3),w.next=32,ct.setItem("/".concat(a["@id"],"/").concat(h.slice(8)),b);case 32:return c=c.set("present",c.present+1).set("level",1),w.next=35,Object(rt.put)(Ot(c));case 35:s=!0,w.next=20;break;case 38:w.next=44;break;case 40:w.prev=40,w.t4=w.catch(18),d=!0,u=w.t4;case 44:w.prev=44,w.prev=45,s||null==p.return||p.return();case 47:if(w.prev=47,!d){w.next=50;break}throw u;case 50:return w.finish(47);case 51:return w.finish(44);case 52:return w.next=54,Object(rt.select)(nn);case 54:return g=w.sent,w.next=57,rn(g.push(l));case 57:return w.next=59,Object(rt.put)(Ot());case 59:case"end":return w.stop()}},Kt,null,[[18,40,44,52],[45,,47,51]])}function hn(e){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==localStorage.getItem("tesselle/show-help-at-each-download")&&"true"===localStorage.getItem("tesselle/has-already-downloaded")){e.next=4;break}return"true"!==localStorage.getItem("tesselle/has-already-downloaded")&&localStorage.setItem("tesselle/has-already-downloaded","true"),e.next=4,Object(rt.put)(kt(!0));case 4:case"end":return e.stop()}},$t)}function bn(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.takeLatest)(Ct.EXPORT_START,sn);case 2:return e.next=4,Object(rt.takeLatest)(Ct.IMPORT_SLIDESHOW,fn);case 4:return e.next=6,Object(rt.takeLatest)(Ct.EXPORT_SUCCESS,hn);case 6:case"end":return e.stop()}},en)}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var wn=regeneratorRuntime.mark(Sn),vn=regeneratorRuntime.mark(jn),yn=regeneratorRuntime.mark(kn),En=regeneratorRuntime.mark(_n),xn=regeneratorRuntime.mark(In),Cn=at(),On=zt();function Sn(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(te.isImmutable)(e)){t.next=3;break}return t.next=3,ct.setItem("slideshows",e.toJS());case 3:return t.next=5,Object(rt.put)(st(e));case 5:case"end":return t.stop()}},wn)}function jn(e){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,dn(e.payload);case 2:return t=a.sent,a.next=5,Object(rt.select)(Cn);case 5:return n=a.sent,a.next=8,Sn(n.push(t));case 8:case"end":return a.stop()}},vn)}function kn(e){var t,n,a,r,o,i,c,s,d,p,m,f;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return t=Me(e.payload),n=e.payload.name.split(".").reverse().slice(1).reverse().join("."),h.next=4,Object(rt.select)(On);case 4:return a=h.sent,r=a.set("total",500),h.next=8,Object(rt.put)(Ot(r));case 8:return h.next=10,$e(e.payload,n);case 10:if(o=h.sent,i=gn(o,2),c=i[0],s=i[1],d=Et(512,c.image.width,512,c.image.height),t){h.next=31;break}return h.prev=16,h.delegateYield(ln(s,c.image.id),"t0",18);case 18:h.next=31;break;case 20:return h.prev=20,h.t1=h.catch(16),h.next=24,ct.keys();case 24:return p=h.sent,h.next=27,Object(rt.all)(p.filter(function(e){return e.startsWith("/".concat(c.image.id))}).map(function(e){return Object(rt.call)([ct,ct.removeItem],e)}));case 27:return h.next=29,Object(rt.put)(Ot(new Mt));case 29:throw u.toastr.error("Sorry, an error occured while importing the image","Try again or with another image format"),h.t1;case 31:return m=wt(c,d),h.next=34,Object(rt.call)([ct,ct.setItem],"/info/".concat(c.image.id,".json"),m);case 34:return h.next=36,Object(rt.select)(Cn);case 36:return f=h.sent,h.next=39,Sn(f.push(c));case 39:return h.next=41,Object(rt.put)(Ot(new Mt));case 41:return h.next=43,Object(rt.put)(Object(l.push)("/editor/"+c.id));case 43:case"end":return h.stop()}},yn,null,[[16,20]])}function _n(e){var t,n,a,r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,i.next=3,Object(rt.call)([ct,ct.getItem],"slideshows");case 3:if(n=i.sent,a=t.id,r=t.image.id,n=n.filter(function(e){return e.id!==a}),ct.setItem("slideshows",n),n.some(function(e){return e.image.id===t.image.id})){i.next=14;break}return i.next=11,ct.keys();case 11:return o=i.sent,i.next=14,Object(rt.all)(o.filter(function(e){return e.startsWith("/".concat(r))}).map(function(e){return Object(rt.call)([ct,ct.removeItem],e)}));case 14:return i.next=16,Object(rt.put)(ut.success(e.payload));case 16:case"end":return i.stop()}},En)}function In(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(rt.takeLatest)(ee.CREATE_SLIDESHOW,kn);case 2:return t.next=4,Object(rt.takeLatest)(ee.REMOVE_SLIDESHOW,_n);case 4:return t.next=6,Object(rt.takeLatest)(ee.SLIDESHOW_DUPLICATE,jn);case 6:return t.prev=6,t.next=9,ct.getItem("slideshows");case 9:return null===(e=t.sent)&&(e=[]),t.next=13,Sn(e);case 13:t.next=20;break;case 15:t.prev=15,t.t0=t.catch(6),console.error("Tesselle could not retrieve images"),console.error(t.t0),u.toastr.error("Sorry, Tesselle could not retrieve the list of existing images","Maybe a disk space problem?");case 20:case"end":return t.stop()}},xn,null,[[6,15]])}var An="app.containers.HomePage",Tn=Object(Q.defineMessages)({header:{id:"".concat(An,".header"),defaultMessage:"This is the HomePage container!"},chapo:{id:"".concat(An,".chapo"),defaultMessage:"Tesselle is an image annotation & publication tool. It allows to comment on specific parts of photographs, maps, or visualizations, to make precise visual analysis. It also embeds a tiling feature which allows to seamlessly display and navigate very large images on the web. Eventually, Tesselle allows to export your work as a simple folder to publish anywhere on the web."}}),Rn=(n("e081bc46499358fd0f25"),n("6643a48240e3ce4e96c0")),Ln=n("ba6ee886c72d0bb1c2a8"),Dn=n("1e92c0da6675aefbf270"),Mn=n("d16b3e87513ded4886cf"),Nn=n("28dd61a68578ef9b7927"),Pn=n("421468d1f321052f0ad7");function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var zn=function(e){if(!e||!e.name)return"https://upload.wikimedia.org/wikipedia/commons/2/2d/Mire_RTL.jpg";var t=Object(a.useMemo)(function(){return window.URL.createObjectURL(e)},[e]);return Object(a.useEffect)(function(){return function(){return window.URL.revokeObjectURL(t)}},[t]),t};var Gn=function(e){var t=2*Object($.last)(Et(512,e.width,512,e.height));return new de.LatLngBounds(new de.LatLng(0,0),new de.LatLng(-e.height/t,e.width/t))},Bn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(a.useEffect)(function(){if(!n)if(t.height){var a=Gn(t);e.fitBounds(a,{animate:!0})}else e.fitBounds(Oe(t),{animate:!0})},[e,t,n])},Hn=function(e,t){Object(a.useEffect)(function(){e.current&&(t?e.current.leafletElement.editing.enable():e.current.leafletElement.editing.disable())})};function Un(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Fn(Object(a.useState)(e),2),n=t[0],r=t[1];return[n,Object(a.useCallback)(function(){return r(!1)},[]),Object(a.useCallback)(function(){return r(!0)},[])]}var Vn=function(e,t){var n=Fn(Object(a.useState)(),2),r=n[0],o=n[1];return Object(a.useEffect)(function(){var n=window.fetch(e).then(function(e){return e.json()});n.then(function(e){return o({status:"success",data:e})}),t&&(n=n.then(t)),n.catch(function(e){return o({status:"error",error:e})})},[]),r},Wn=Object(Q.defineMessages)({header:{id:"".concat("app.components.SlideshowCartouche",".header"),defaultMessage:"This is the SlideshowCartouche component!"}});n("1b104b4ebf37bca69f40");function qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Zn,Yn=function(e){var t=e.children;return a.createElement("span",{style:{marginLeft:".5rem",marginRight:"1rem"}},a.createElement(J.Icon,{isSize:"small"},t))},Jn=function(e){var t=function(e,t,n){var r=Object(c.useDispatch)(),o=a.useCallback(function(){return r(Object(l.push)("/editor/".concat(e.id)))},[e]),i=a.useCallback(function(){return r(Object(l.push)("/player/".concat(e.id)))},[e]),s=qn(a.useState(!1),2),d=s[0],u=s[1],p=qn(a.useState(!1),2),m=p[0],f=p[1];return{onAction:a.useCallback(function(t){switch(t){case"delete":return f(!0);case"open":return o();case"read":return i();case"duplicate":return n(e)}},[e]),removing:d,isPendingToDelete:m,onDeleteCancel:function(){f(!1)},onRemove:function(){u(!0),t(e),f(!1)}}}(e.slideshow,e.onDelete,e.onDuplicate),n=t.onAction,r=t.removing,o=t.isPendingToDelete,i=t.onDeleteCancel,s=t.onRemove,d=zn(e.slideshow.image.file);return a.createElement(J.Level,{className:"SlideshowCartouche"},a.createElement(J.Column,null,a.createElement(J.Card,{onAction:n,asideActions:[{label:a.createElement("span",null,a.createElement(Yn,null,a.createElement(Rn.FontAwesomeIcon,{icon:Ln.faPencilAlt})),"edit"),isDisabled:r,isColor:"primary",id:"open"},{label:a.createElement("span",null,a.createElement(Yn,null,a.createElement(Rn.FontAwesomeIcon,{icon:Nn.faEye})),"preview"),isDisabled:r,id:"read"},{label:a.createElement("span",null,a.createElement(Yn,null,a.createElement(Rn.FontAwesomeIcon,{icon:Dn.faCopy})),"duplicate"),isDisabled:r,id:"duplicate"},{label:a.createElement("span",null,a.createElement(Yn,null,a.createElement(Rn.FontAwesomeIcon,{icon:Mn.faTrash})),"delete"),isDisabled:r,isColor:"warning",id:"delete"}],bodyContent:a.createElement(m.Link,{to:"/editor/".concat(e.slideshow.id)},a.createElement(J.Columns,null,a.createElement(J.Column,{isSize:"1/3",className:"thumbnail-container"},a.createElement("img",{src:d,style:{width:"auto",height:"auto"}})),a.createElement(J.Column,{isSize:"2/3"},a.createElement(J.Title,{isSize:4},a.createElement("b",null,e.slideshow.name)),a.createElement(J.Content,{className:"stats-info"},a.createElement("p",{className:"annotations-container"},a.createElement("span",{className:"annotations-number"},e.slideshow.annotations.size)," ","annotation",1===e.slideshow.annotations.size?"":"s")),a.createElement(J.Content,{isSize:"small",className:"dates-info"},"creation ",Ne(e.slideshow.meta.createdAt),a.createElement("br",null),"last edition ",Ne(e.slideshow.meta.updatedAt)))))},a.createElement(J.Columns,null,a.createElement(J.Column,null,a.createElement(Q.FormattedMessage,Object.assign({},Wn.header)))))),a.createElement(J.ModalCard,{isActive:o,onClose:i,headerContent:"Deleting an image",mainContent:"Are you sure you want to delete this image ?",footerContent:[a.createElement(J.StretchedLayoutContainer,{style:{width:"100%"},isDirection:"horizontal",key:0},a.createElement(J.StretchedLayoutItem,{isFlex:1},a.createElement(J.Button,{isFullWidth:!0,onClick:s,isColor:"danger"},"Delete")),a.createElement(J.StretchedLayoutItem,{isFlex:1},a.createElement(J.Button,{isFullWidth:!0,onClick:i,isColor:"warning"},"Cancel")))]}))};!function(e){e.DEFAULT_ACTION="app/Editor/DEFAULT_ACTION",e.CREATE_ANNOTATION="app/Editor/CREATE_ANNOTATION",e.REMOVE_ANNOTATION="app/Editor/REMOVE_ANNOTATION",e.EDIT_ANNOTATION="app/Editor/EDIT_ANNOTATION",e.CHANGE_ORDER="app/Editor/CHANGE_ORDER",e.EDIT_SLIDESHOW="app/Editor/EDIT_SLIDESHOW",e.CHANGE_SELECTED_ANNOTATION="app/Editor/CHANGE_SELECTED_ANNOTATION"}(Zn||(Zn={}));var Xn=Zn,Qn={slideshow:null,selectedAnnotations:Object(te.List)()},Kn=function(e){return Object($.when)(e.payload.annotation.equals.bind(e.payload.annotation),function(t){return t.merge(Object(te.isImmutable)(e.payload.editedFeature)?e.payload.editedFeature:Ee(e.payload.editedFeature))})},$n=Object(f.combineReducers)({selectedAnnotations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn.selectedAnnotations,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xn.CHANGE_SELECTED_ANNOTATION:if(t.payload){if(t.payload instanceof te.List)return t.payload;var n=t.payload;return e.contains(n)?e.remove(e.indexOf(n)):Object(te.List)([n])}return Qn.selectedAnnotations;case Xn.EDIT_ANNOTATION:return e.map(Kn(t));case Xn.REMOVE_ANNOTATION:return e.remove(e.indexOf(t.payload))}return e},slideshow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn.slideshow,t=arguments.length>1?arguments[1]:void 0;if(e)switch(t.type){case ee.LOAD_SLIDESHOWS:return Qn.slideshow;case Xn.CHANGE_ORDER:return e.set("annotations",t.payload);case Xn.CREATE_ANNOTATION:return e.set("annotations",e.annotations.push(Ee(t.payload))).setIn(["meta","updatedAt"],new Date);case Xn.EDIT_ANNOTATION:return e.set("annotations",e.annotations.map(Kn(t))).setIn(["meta","updatedAt"],new Date);case Xn.REMOVE_ANNOTATION:return e.set("annotations",e.annotations.remove(e.annotations.indexOf(t.payload)))}switch(t.type){case Xn.EDIT_SLIDESHOW:return Object(te.isImmutable)(t.payload)?t.payload:new Ye({id:t.payload.id,name:t.payload.name,image:new se(t.payload.image),annotations:t.payload.annotations.map(Ee),meta:We(t.payload.meta)})}return e}}),ea=function(e){return e&&e.editor?e.editor:Qn},ta=function(){return Object(K.a)(ea,function(e){return e&&e.slideshow})},na=Object(K.a)(ea,function(e){return e.selectedAnnotations}),aa=ta(),ra=zt(),oa=function(){return Object(c.useSelector)(ra)},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(c.useSelector)(aa),t=Object(c.useDispatch)();return[Object(c.useSelector)(Object(K.a)(Ft,function(e){return e.exporting})),r.a.useCallback(function(){return t(St.request(e))},[t,e])]},ca=n("cc76f763c4e09ef29989"),la=n.n(ca),sa=n("29af6943dd72dd3f0f6d"),da=n.n(sa),ua=n("0c80db8ded60097168a5"),pa=n.n(ua);var ma=function(){var e=oa();return e&&0===e.total?a.createElement(a.Fragment,null):a.createElement("div",null,a.createElement("progress",{className:"progress is-primary",value:"".concat(e.present/e.total*100),max:"100"},100*Math.floor(e.present/e.total)))},fa=n("4eb2980d0dff041f10f0"),ha=n.n(fa),ba=n("c028e50ef048b4d77b1b");function ga(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ha.a.setAppElement("#app");var wa=function(e){return a.createElement(ha.a,Object.assign({},e),a.createElement("div",{className:"modal-content-container"},a.createElement("div",{className:"modal-content-header"},a.createElement(J.Title,{isSize:"3"},a.createElement("span",null,e.title),a.createElement("span",null,a.createElement(J.Button,{onClick:e.onRequestClose,isRounded:!0},a.createElement(J.Icon,null,a.createElement(Rn.FontAwesomeIcon,{icon:ba.faTimes})))))),a.createElement("div",{className:"modal-content-body"},a.createElement(J.Notification,null,a.createElement(J.Content,null,e.children)),a.createElement("div",{style:{paddingLeft:"1rem"}},e.footer))))},va=function(e){var t=ga(a.useState(!1),2),n=t[0],r=t[1],o=a.useCallback(function(){return r(!0)},[]),i=a.useCallback(function(){return r(!1)},[]);return[o,a.createElement(wa,{isOpen:n,title:e.title,onRequestClose:i},e.vimeoIds.map(function(e){return a.createElement("iframe",{key:e,src:"https://player.vimeo.com/video/".concat(e,"?title=0&byline=0&portrait=0"),allow:"autoplay; fullscreen",allowFullScreen:!0})}))]},ya=wa;function Ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xa=["image/svg+xml","image/jpeg","image/png","image/bmp","image/webp"],Ca=["application/zip"],Oa=[].concat(xa,Ca),Sa=Object($.propSatisfies)(Object($.includes)($.__,xa),"type"),ja=Object($.propSatisfies)(Object($.includes)($.__,Ca),"type");var ka=Object(K.b)({slideshows:at()}),_a=Object(c.connect)(ka,{createSlideshow:dt.request,duplicateSlideshow:function(e){return Object(lt.action)(ee.SLIDESHOW_DUPLICATE,e)},importSlideshow:jt.request}),Ia=Z({key:"homePage",reducer:tt}),Aa=N({key:"homePage",saga:In}),Ta=Object(f.compose)(Ia,Aa,_a)(function(e){var t=Object(c.useDispatch)(),n=oa(),o=Object(a.useCallback)(function(t){var n=Object($.head)(t);if(n){if(Sa(n))return e.createSlideshow(n);if(ja(n))return e.importSlideshow(n);u.toastr.error("Tesselle could not import the file ".concat(n.name),"It can be due to corrupted data or to insufficient disk space.")}else u.toastr.error("Invalid file extension","You tried to import a file which are not handled by Tesselle.")},[e.createSlideshow,e.importSlideshow]),i=Object(a.useCallback)(Object($.pipe)(ut.request,t),[]),l=Ea(va({title:"Video overview",vimeoIds:["372868240"]}),2),s=l[0],d=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.Container,{className:"home-container"},r.a.createElement(X.Helmet,null,r.a.createElement("title",null,"Tesselle"),r.a.createElement("meta",{name:"description",content:"An image annotation and publishing tool"})),r.a.createElement(J.Columns,null,r.a.createElement(J.Column,{className:"aside-column",isSize:"1/3"},r.a.createElement(J.Content,null,r.a.createElement(J.Title,{className:"app-title",isSize:1},r.a.createElement("img",{src:pa.a}),r.a.createElement("span",null,"Tesselle")),r.a.createElement("p",null,r.a.createElement(Q.FormattedMessage,Object.assign({},Tn.chapo))),r.a.createElement(J.Button,{isFullWidth:!0,isColor:"primary",onClick:s},"Video overview"),d),0===n.total?r.a.createElement(J.DropZone,{accept:Oa.join(","),onDrop:o},e.loading?"Loading...":"Drop an image file (.jpg, .png, or .svg) or a tesselle project (.zip)"):r.a.createElement(ma,null)),r.a.createElement(J.Column,{isSize:"2/3",className:"cards-column"},r.a.createElement("div",{className:"list-projects__container"},r.a.createElement("h4",{className:"list-projects__title title is-2"},"Your images"),r.a.createElement("ul",{className:"cards-container"},e.slideshows.size?e.slideshows.map(function(t){return r.a.createElement("li",{className:"card-wrapper",key:t.id},r.a.createElement(Jn,{onDelete:i,slideshow:t,onDuplicate:e.duplicateSlideshow}))}):r.a.createElement(r.a.Fragment,null,r.a.createElement(J.Notification,{style:{marginTop:"2rem"},isColor:"primary"},r.a.createElement(J.Title,null,"Welcome to Tesselle, ",r.a.createElement("a",{target:"blank",rel:"noopener",href:"https://medialab.sciencespo.fr"},"m\xe9dialab"),"'s"," image annotation and publication tool"),r.a.createElement(J.Content,null,"All the data you will input in this tool will be stored in this browser local storage and therefore stay entirely private."),r.a.createElement(J.Content,null,"You have no image projects on this browser yet. Drag and drop an image in the left column box to start annotating !")))))))),r.a.createElement(J.Footer,{id:"footer"},r.a.createElement(J.Container,null,r.a.createElement(J.Columns,null,r.a.createElement(J.Column,{className:"logos-column",isSize:"1/3"},r.a.createElement("div",null,r.a.createElement("a",{target:"blank",href:"http://controverses.org/"},r.a.createElement("img",{className:"logo-img",src:da.a})),r.a.createElement("a",{target:"blank",href:"https://medialab.sciencespo.fr"},r.a.createElement("img",{className:"logo-img",src:la.a})))),r.a.createElement(J.Column,{isSize:"2/3",className:"about-column"},r.a.createElement(J.Content,{style:{paddingLeft:"1rem"},isSize:"small"},r.a.createElement("p",null,"Provided by the ",r.a.createElement("a",{target:"blank",href:"http://controverses.org/"},"FORCCAST")," program, fostering pedagogical innovations in controversy mapping."),r.a.createElement("p",null,"Made at the ",r.a.createElement("a",{target:"blank",href:"http://medialab.sciencespo.fr/"},"m\xe9dialab SciencesPo"),", a research laboratory that connects social sciences with inventive methods."),r.a.createElement("p",null,"The source code of Tesselle is licensed under free software license ",r.a.createElement("a",{target:"blank",href:"http://www.gnu.org/licenses/agpl-3.0.html"},"AGPL v3")," and is hosted on ",r.a.createElement("a",{target:"blank",href:"https://github.com/medialab/tesselle/"},"Github"),".")))))))}),Ra=n("2f81fe237cff4b1ceb95"),La=n("a39c531db6828248a6f9"),Da=n("bc8430cd73a0376eedfe"),Ma=n("4b503b4982128a0cb856"),Na=n("051ed348cf16ded10853"),Pa=n.n(Na),Fa=n("eee9a5d5a7404d3c0293"),za=n.n(Fa),Ga=n("7b1d6ef55c12f5ddfe2a"),Ba=n.n(Ga),Ha=n("65487e27ba6ae8e8f9c5"),Ua=n.n(Ha),Va=n("6a95e2c254c73be60618"),Wa=n.n(Va),qa=n("622ec8036aaf28780be2"),Za=n.n(qa),Ya=n("dcda6ef0b88628a2b364"),Ja=n.n(Ya),Xa=n("1d1992de665ce089503e"),Qa=n.n(Xa),Ka=n("6034ec4c48cf13fdf8f7"),$a=n.n(Ka),er=n("9ff90a0cc5204b4629a4"),tr=n.n(er),nr={anchorEllipse:{white:Ba.a,black:Ua.a},anchorPolygon:{white:Wa.a,black:Za.a},anchorRectangle:{white:Ja.a,black:Qa.a},select:{white:$a.a,black:tr.a}},ar=(n("64dac7de12fb65a47bbf"),function(e){var t=[{icon:nr.select,tool:"selector",event:e.onSelectClick,helpMessage:"select (shortcut: escape)"},{icon:nr.anchorRectangle,tool:"rectangle",event:e.onRectangleClick,helpMessage:"rectangle (shortcut: r)"},{icon:nr.anchorEllipse,tool:"circle",event:e.onCircleClick,helpMessage:"circle (shortcut: c)"},{icon:nr.anchorPolygon,tool:"polygon",event:e.onPolygonClick,helpMessage:"polygon (shortcut: p)"}];return a.createElement(Pa.a,{position:"bottomright"},a.createElement("div",{className:"buttons-container"},t.map(function(t){var n=t.icon,r=t.tool,o=t.event,i=t.helpMessage;return a.createElement(J.Button,{onClick:o,key:r,"data-tip":i,"data-for":"tool-tooltip",isColor:r===e.activeButton?"primary":"",style:{marginBottom:".5rem"},isRounded:!0},a.createElement(J.Icon,{isSize:"medium",isAlign:"left"},a.createElement("img",{src:n[r===e.activeButton?"white":"black"]})))})),a.createElement(za.a,{id:"tool-tooltip",place:"left",effect:"solid"}))}),rr=n("78069eb42d60e3550082"),or=n("92ea29a0324dc2b17b83"),ir=n("b912ecc4473ae8a2ff0b"),cr=n.n(ir),lr=n("0c162607d512e05180f3"),sr=n("51df6cdc7fb4ca0299a6"),dr=n("76c7f233c9efd8b40f3b"),ur=n("55695ecc07069e5266f8"),pr=n.n(ur),mr=(n("24e2ac89b53a62ce0fe1"),Object(Q.defineMessages)({content:{id:"".concat("app.components.Download",".content"),defaultMessage:"Download"}}));function fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var hr=function(e){var t=fr(ia(),2),n=t[0],r=t[1];return a.createElement(J.Button,Object.assign({isFullWidth:!0,onClick:r,disabled:n,isLoading:n,isColor:"info"},e),a.createElement(Q.FormattedMessage,Object.assign({},mr.content)))},br=Object(Q.defineMessages)({annotationPlaceholder:{id:"".concat("app.components.Sidebar",".annotationPlaceholder"),defaultMessage:"Write an annotation about this image part"},commentPlaceholder:{id:"".concat("app.components.Sidebar",".annotationPlaceholder"),defaultMessage:"Write an annotation about the whole image"}}),gr=Object(Q.defineMessages)({header:{id:"".concat("app.components.DownloadModalHelp",".header"),defaultMessage:"How to archive and publish your image"}});function wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var vr="true"===localStorage.getItem("tesselle/show-help-at-each-download")?"true":"false",yr=function(e){var t=e.isOpen,n=e.onRequestClose,r=wr(a.useState(vr),2),o=r[0],i=r[1],c=a.createElement(Q.FormattedMessage,Object.assign({},gr.header)),l=a.createElement(J.Field,null,a.createElement(J.Control,null,a.createElement(J.Checkbox,{style:{marginRight:"1rem"},onChange:function(){"true"===o?(localStorage.setItem("tesselle/show-help-at-each-download","false"),i("false")):(localStorage.setItem("tesselle/show-help-at-each-download","true"),i("true"))},checked:"true"===o},"Show this help at each download")));return a.createElement(ya,{isOpen:t,onRequestClose:n,contentLabel:"How to save and publish",title:c,footer:l},a.createElement("p",null,'In order to get your data out there, the archive downloaded from Tesselle when clicking on the "download" button can be used in two ways:'),a.createElement("ol",null,a.createElement("li",null,"to ",a.createElement("b",null,"archive your work"),", version it, or share it with coworkers, and possibly to re-upload from the homepage of the tool later"),a.createElement("li",null,"to ",a.createElement("b",null,"publish your work")," on the web")),a.createElement("p",null,"For the matter of publication, the archived folder which is downloaded from the tool is a ",a.createElement("b",null,"plain static website that can be uploaded anywhere on a personal server or web hosting service"),"."),a.createElement("p",null,"For instance, you can use ",a.createElement("a",{href:"https://app.netlify.com/drop",target:"blank",rel:"noopener"},"Netlify drop")," as a free and straightforward way to publish the site of the web. To do so, go to the ",a.createElement("a",{href:"https://app.netlify.com/drop",target:"blank",rel:"noopener"},"Netlify drop")," webpage, drag and drop the downloaded archive file on it, and ... that's it, your document is online !"),a.createElement("p",null,"As an alternative, you can also use github pages as a publication solution. You can refer to this ",a.createElement("a",{href:"https://www.youtube.com/watch?v=8hrJ4oN1u_8",target:"blank",rel:"noopener"},"video tutorial")," for that matter."))},Er=n("776f7b15d44f70e7504d"),xr=n.n(Er),Cr=(n("6b97fe482b4efccc0e93"),Object(Q.defineMessages)({title:{id:"".concat("app.components.HowToModal",".title"),defaultMessage:"How to use Tesselle ?"},load:{id:"".concat("app.components.HowToModal",".load"),defaultMessage:"How to create a Tessel project ?"},loadDescription:{id:"".concat("app.components.HowToModal",".load.description"),defaultMessage:"Learn how to create a new Tesselle project and import a (possibly very big) image to display and annotate."},globalComment:{id:"".concat("app.components.HowToModal",".globalComment"),defaultMessage:"Write a general comment"},globalCommentDescription:{id:"".concat("app.components.HowToModal",".globalComment.description"),defaultMessage:"Learn how to attach a comment the globality of the image (examples : an introduction, a conclusion, a transition title between two sets of annotations, ...)."},annotation:{id:"".concat("app.components.HowToModal",".annotation"),defaultMessage:"Create an annotation"},annotationDescription:{id:"".concat("app.components.HowToModal",".annotation.description"),defaultMessage:"Learn how to attach text to specific parts of the image, wether as rectangles, circles, or free polygon shapes."},preview:{id:"".concat("app.components.HowToModal",".preview"),defaultMessage:"Play your own Tesselle"},previewDescription:{id:"".concat("app.components.HowToModal",".preview.description"),defaultMessage:"Learn how to preview the results of your work and scaffold a narrative unfolding your analysis of your image."},export:{id:"".concat("app.components.HowToModal",".export"),defaultMessage:"Export your Tesselle"},exportDescription:{id:"".concat("app.components.HowToModal",".export.description"),defaultMessage:"Learn how to export your work for publication, archiving and reuse."}})),Or=n("a48fcd4d91cddcecd09e");function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var jr=[{title:Cr.load,text:Cr.loadDescription,vimeoId:"372868240",url:"/chargement_zoom_titre_Tesselle.mp4"},{title:Cr.globalComment,text:Cr.globalCommentDescription,vimeoId:"372868373",url:"/commentaireGeneral_Tesselle.mp4"},{title:Cr.annotation,text:Cr.annotationDescription,vimeoId:"372868393",url:"/commentaireSpecifique_Tesselle.mp4"},{title:Cr.preview,text:Cr.previewDescription,vimeoId:"372868540",url:"/Preview_Tesselle.mp4"},{title:Cr.export,text:Cr.exportDescription,url:"/download_and_reload_Tesselle1.mp4",vimeoId:"372868484"}],kr=function(){var e=Sr(Object(a.useState)(!1),2),t=e[0],n=e[1],o=Object(a.useCallback)(function(){return n(!0)},[]),i=Object(a.useCallback)(function(){return n(!1)},[]),c=r.a.createElement(ya,{isOpen:t,onRequestClose:i,contentLabel:"How to save and publish",title:r.a.createElement(Q.FormattedMessage,Object.assign({},Cr.title))},r.a.createElement(Or.a,{allowZeroExpanded:!0},jr.map(function(e){return r.a.createElement(Or.b,{key:e.url},r.a.createElement(Or.d,null,r.a.createElement(Or.c,null,r.a.createElement("h3",null,r.a.createElement(Q.FormattedMessage,Object.assign({},e.title))),r.a.createElement("p",null,r.a.createElement(Q.FormattedMessage,Object.assign({},e.text))))),r.a.createElement(Or.e,null,r.a.createElement("iframe",{src:"https://player.vimeo.com/video/".concat(e.vimeoId,"?title=0&byline=0&portrait=0"),allow:"autoplay; fullscreen",allowFullScreen:!0})))})));return[r.a.createElement(J.Button,{"data-for":"tooltip","data-tip":"Learn how to use Tesselle",onClick:o,isColor:"warning",isFullWidth:!0},"Learn"),c,o,i]};function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ir=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Ar=function(e){var t=e.field,n=e.form,o=n.touched,i=n.errors,c=Ir(e,["field","form"]),l=Object(a.useRef)(null);return Object(a.useEffect)(function(){c.selected&&l.current.focus()},[c.selected]),r.a.createElement("div",null,r.a.createElement(Q.FormattedMessage,Object.assign({},c.isInvisible?br.commentPlaceholder:br.annotationPlaceholder),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(lr.a,Object.assign({inputRef:l,autoFocus:c.selected},t,c,{placeholder:e})),o[t.name]&&i[t.name]&&r.a.createElement("div",{className:"error"},i[t.name]))}))},Tr=function(e){return!e.content&&e.content.length,{}},Rr=function(e){switch(e){case"circle":return"ellipse";case"rectangle":return"rectangle";case"polygon":return"polygon";default:return"comment"}},Lr=r.a.forwardRef(function(e,t){var o=r.a.useCallback(function(t){t.stopPropagation(),e.onClick(e.data)},[e.onClick,e.data]),i=Object(a.useCallback)(function(t){t.content!==e.data.properties.content&&e.onChange(e.data,e.data.set("properties",e.data.properties.set("content",t.content)))},[e.data,e.onChange]),c=Object(a.useCallback)(function(t){de.DomEvent.preventDefault(t),e.onRemove(e.data)},[e.data,e.onRemove]),l=e.minified?r.a.Fragment:J.Box,s="invisible"===e.data.properties.type;return r.a.createElement("div",Object.assign({className:cr()({"sidebar--menu-item sidebar--spacing":!0,"sidebar--menu-item__selected":e.selected,"sidebar--menu-item__minified":e.minified,"sidebar--menu-item__invisible":s}),ref:t},e.draggableProps,{onClick:o}),r.a.createElement(l,null,r.a.createElement(J.StretchedLayoutContainer,{isDirection:"horizontal"},!e.minified&&r.a.createElement(J.StretchedLayoutItem,{style:{padding:".5rem",paddingLeft:0}},r.a.createElement("img",{style:{maxWidth:"1rem"},src:n("0e39cdee7db60a6eb58b")("./anchor-".concat(Rr(e.data.properties.type),"-").concat(e.selected?"white":"black",".svg"))})),r.a.createElement(J.StretchedLayoutItem,{style:{paddingRight:"1rem"},isFlex:1},r.a.createElement(or.Formik,{initialValues:Object(a.useMemo)(function(){return e.data.properties.toJS()},[e.data.properties]),enableReinitialize:!0,onSubmit:i,validate:Tr},function(t){return r.a.createElement(or.Form,null,r.a.createElement(or.Field,{minRows:1,maxRows:5,selected:e.selected,onBlur:function(e){t.handleBlur(e),t.submitForm()},className:cr()("textarea","sidebar--item-field",{"sidebar--item-field--selected":e.selected,"sidebar--item-field--minified":e.minified}),name:"content",isInvisible:s,component:Ar}))})),r.a.createElement(J.StretchedLayoutItem,null,r.a.createElement(J.StretchedLayoutContainer,{isDirection:"horizontal"},r.a.createElement(J.Button,{onClick:c,style:{marginBottom:".5rem"},"data-for":"card-action","data-tip":"delete this annotation"},r.a.createElement(J.Icon,{isSize:"small",isAlign:"left"},r.a.createElement("img",{src:pr.a.remove.black.svg}))),e.dragHandleProps&&r.a.createElement("div",Object.assign({},e.dragHandleProps),r.a.createElement("div",{className:"button is-lock-status-open",style:{marginBottom:".5rem",cursor:"move"},"data-for":"card-action","data-tip":"drag to change annotation order"},r.a.createElement(J.Icon,{isSize:"small",isAlign:"left"},r.a.createElement("img",{src:pr.a.move.black.svg})))))))))}),Dr=function(e){var t=Object(a.useCallback)(function(t){var n,a,r,o;t.destination&&e.onOrderChange((n=e.slideshow.annotations,a=t.source.index,r=t.destination.index,(o=n.get(a))?n.splice(a,1).splice(r,0,o):n))},[e.slideshow.annotations]);return r.a.createElement(rr.DragDropContext,{onDragEnd:t},r.a.createElement(rr.Droppable,{droppableId:"droppable"},function(t){return r.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef}),e.slideshow.annotations.map(function(t,n){return r.a.createElement(rr.Draggable,{key:t.properties.id,draggableId:t.properties.id,index:n},function(n){return r.a.createElement(Lr,{onChange:e.onAnnotationChange,onClick:e.onAnnotationClick,onRemove:e.onRemove,ref:n.innerRef,draggableProps:n.draggableProps,dragHandleProps:n.dragHandleProps,data:t,selected:e.selectedAnnotations.includes(t)})})}),t.placeholder)}))},Mr=function(e){return r.a.createElement("div",{className:"sidebar--header-container sidebar--spacing"},r.a.createElement(J.Title,{isSize:5},r.a.createElement(m.Link,{to:"/"},r.a.createElement("img",{"data-tip":"Back to home","data-for":"tooltip",src:xr.a,style:{maxWidth:"2rem"}}))),e.visible?r.a.createElement(Nr,{title:e.slideshow.name,onChange:e.onNameChange}):r.a.createElement(J.Title,{isSize:6,className:"is-stretch"},e.slideshow.name),r.a.createElement(J.Button,{isRounded:!0,className:"minify-toggle",onClick:e.onButtonClick,"data-for":"tooltip","data-tip":e.visible?"Fold pannel":"Unfold pannel"},r.a.createElement(J.Icon,null,e.visible?r.a.createElement(Rn.FontAwesomeIcon,{icon:sr.faChevronDown}):r.a.createElement(Rn.FontAwesomeIcon,{icon:dr.faChevronUp}))))},Nr=function(e){return r.a.createElement(or.Formik,{initialValues:e,onSubmit:e.onChange},function(e){return r.a.createElement(or.Form,null,r.a.createElement(or.Field,{className:"input__invisible input",onBlur:function(t){e.handleBlur(t),e.submitForm()},name:"title","data-for":"tooltip","data-tip":"image title","data-place":"bottom",placeholder:"image title"}))})},Pr=function(e){var t=Object(a.useCallback)(function(t){return t.stopPropagation(),e.onAnnotationClick()},[]),n=Object(a.useCallback)(function(t){return e.onNameChange(e.slideshow.set("name",t.title))},[e.slideshow]),o=e.selectedAnnotations.first(),i=Object(c.useSelector)(Object(K.a)(Ft,function(e){return e.helpModalStatus})),l=Object(c.useDispatch)(),s=_r(kr(),2),d=s[0],u=s[1],p=Object(a.useCallback)(function(){return l(kt(!1))},[]),f=Object(a.useCallback)(function(){return l(kt(!0))},[]);return r.a.createElement("div",{className:cr()({sidebar:!0,visible:e.visible,hidden:!e.visible})},r.a.createElement(Mr,{onButtonClick:e.visible?e.onClose:e.onOpen,visible:e.visible,onNameChange:n,slideshow:e.slideshow}),r.a.createElement("div",{className:"sidebar--wrapper"},r.a.createElement(ma,null),r.a.createElement("div",{onClick:t,className:"sidebar--container"},e.visible?r.a.createElement(r.a.Fragment,null,r.a.createElement(Dr,Object.assign({},e)),r.a.createElement("div",{className:"add-comment-container"},r.a.createElement(J.Button,{onClick:e.onCommentCreation,isColor:"primary",isFullWidth:!0},"add general comment"))):o?r.a.createElement(Lr,{onChange:e.onAnnotationChange,onClick:e.onAnnotationClick,onRemove:e.onRemove,data:o,selected:!!o,minified:void 0!==e.visible}):r.a.createElement("span",{className:"sidebar--minified-placeholder"},"select or create an annotation"))),r.a.createElement("footer",{className:"sidebar--footer-container sidebar--spacing"},r.a.createElement(J.StretchedLayoutContainer,{isDirection:"horizontal",style:{width:"100%"}},r.a.createElement(J.StretchedLayoutItem,{isFlex:1},r.a.createElement(m.Link,{to:"/player/".concat(e.slideshow.id),className:"button is-fullwidth is-primary"},"Preview")),r.a.createElement(J.StretchedLayoutItem,{isFlex:1},r.a.createElement(J.StretchedLayoutContainer,{isDirection:"horizontal"},r.a.createElement(J.StretchedLayoutItem,{isFlex:1},r.a.createElement(hr,null)),r.a.createElement(J.StretchedLayoutItem,{isFlex:1},d),r.a.createElement(J.StretchedLayoutItem,{isFlex:1},r.a.createElement(J.Button,{"data-for":"tooltip","data-tip":"Learn how to publish your image online",onClick:f,isColor:"warning",isFullWidth:!0},"Publish")))))),u,r.a.createElement(yr,{isOpen:i,onRequestClose:p}),r.a.createElement(za.a,{id:"tooltip",place:"right",effect:"solid"}))},Fr=n("070f4000acc3a3139fe2"),zr=n.n(Fr),Gr=(n("5a506235aaa5ee0bbd27"),function(e){return a.createElement("div",{className:"loader-container"},a.createElement("div",{className:"loader-content"},a.createElement("h1",{className:"title is-1 loader-title-container"},a.createElement("img",{className:"spinner",src:zr.a}),a.createElement("span",{className:"app-name"},"Tesselle")),a.createElement("h2",{className:"title is-3"},"Loading")))}),Br=n("7405c1b7e17104032f85"),Hr=n("71fe54f7c370c768d3d7"),Ur=(n("900f2aad7b7accbbe90d"),n("77cdcf6d92804c8937e7")),Vr=n("92e6c4ceeedd014a9ad5");function Wr(e){return(Wr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Zr(e,t){return!t||"object"!==Wr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yr(e,t,n){return(Yr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jr(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Jr(e){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qr={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"},Kr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Zr(this,Jr(t).apply(this,arguments))).onDrawCreate=function(t){var n=e.props.onCreated;n&&(e.props.leaflet&&e.props.leaflet.layerContainer&&n(t))},e}var n,a,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(t,Vr["a"]),n=t,(a=[{key:"createLeafletElement",value:function(e){return $r(e)}},{key:"componentDidMount",value:function(){if(Yr(Jr(t.prototype),"componentDidMount",this)&&Yr(Jr(t.prototype),"componentDidMount",this).call(this),this.props.leaflet){var e=this.props.leaflet.map,n=this.props.onMounted;if(e){for(var a in Qr)this.props[a]&&e.on(Qr[a],this.props[a]);e.on(ue.a.Draw.Event.CREATED,this.onDrawCreate),n&&n(this.props.leaflet.layerContainer)}}}},{key:"componentWillUnmount",value:function(){if(Yr(Jr(t.prototype),"componentWillUnmount",this)&&Yr(Jr(t.prototype),"componentWillUnmount",this).call(this),this.props.leaflet){var e=this.props.leaflet.map;if(e)for(var n in e.off(ue.a.Draw.Event.CREATED,this.onDrawCreate),Qr)this.props[n]&&e.off(Qr[n],this.props[n])}}},{key:"componentDidUpdate",value:function(e,n){if(Yr(Jr(t.prototype),"componentDidUpdate",this)&&Yr(Jr(t.prototype),"componentDidUpdate",this).call(this,e,n),this.props.leaflet&&this.props.leaflet.map){for(var a in Qr)e[a]!==this.props[a]&&(this.props.leaflet.map.off(Qr[a],e[a]),this.props.leaflet.map.on(Qr[a],this.props[a]));if(Object(Ur.a)(this.props.draw,e.draw)||this.props.position!==e.position)return!1;this.leafletElement.remove(),this.leafletElement=$r(this.props),this.leafletElement.addTo(this.props.leaflet.map)}return null}}])&&qr(n.prototype,a),r&&qr(n,r),t}();function $r(e){var t=e.leaflet.layerContainer,n=e.draw,a=e.edit,r=e.position,o={edit:Object.assign({},a,{featureGroup:t})};return n&&(o.draw=Object.assign({},n)),r&&(o.position=r),new de.Control.Draw(o)}var eo=Object(Ra.d)(Kr),to=(n("a4bdf3e5032d230f45cd"),n("84750c66bab2128a0ec5")),no=n("e40000278404232776b0"),ao=function(e){var t=e.annotation,n=e.selected,o=Object(a.useRef)(null),i=Object(a.useMemo)(function(){return Ce(t.geometry.coordinates,"Polygon"===t.geometry.type?1:2).toJS()},[n]);return Hn(o,e.editable&&n),r.a.createElement(to.a,Object.assign({key:e.className,ref:o},e,{positions:i,editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&r.a.createElement(no.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))},ro=function(e){var t=e.annotation,n=e.selected,o=Object(a.useRef)(null),i=Object(a.useMemo)(function(){return"Point"===t.geometry.type?ve(t.geometry.coordinates,t.properties.radius,50):Ce(t.geometry.coordinates,"Polygon"===t.geometry.type?1:2).toJS()},[n]);Hn(o,e.editable&&n);return r.a.createElement(to.a,Object.assign({key:e.className,ref:o},e,{positions:[[{lat:-500,lng:500},{lat:500,lng:500},{lat:500,lng:-500},{lat:-500,lng:-500}],i],editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&r.a.createElement(no.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))},oo=n("e71336624e460c019bdb"),io=function(e){var t=e.annotation,n=e.selected,o=Object(a.useMemo)(function(){return xe(t.geometry.coordinates)},[t.geometry.coordinates]),i=Object(a.useRef)(null);return Hn(i,e.editable&&n),r.a.createElement(oo.a,Object.assign({key:e.className,ref:i},e,{center:o,radius:t.properties.radius,editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&r.a.createElement(no.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))},co=Object(lt.createAction)(Xn.CREATE_ANNOTATION,function(e){return function(t){return e(t)}}),lo=function(){return Object(lt.action)(Xn.CREATE_ANNOTATION,{type:"Feature",geometry:{type:"LineString"},properties:{type:"invisible"}})},so=Object(lt.createAction)(Xn.REMOVE_ANNOTATION,function(e){return function(t){return e(t)}}),uo=Object(lt.createAction)(Xn.EDIT_ANNOTATION,function(e){return function(t,n){return e({annotation:t,editedFeature:n})}}),po=Object(lt.createAction)(Xn.CHANGE_ORDER,function(e){return function(t){return e(t)}}),mo=Object(lt.createAction)(Xn.CHANGE_SELECTED_ANNOTATION,function(e){return function(t,n){return e(t,n)}}),fo=Object(lt.createAction)(Xn.EDIT_SLIDESHOW,function(e){return function(t){return e(t)}}),ho=n("c056c018ed67cc493b37"),bo=(n("2cd43a1b9fb52d2cee96"),function(e){var t=e.annotation,n=e.selected,o=Object(a.useMemo)(function(){return Ce(t.geometry.coordinates,1).toJS()},[t.geometry.coordinates]),i=Object(a.useRef)(null);return Hn(i,e.editable&&n),r.a.createElement(ho.a,Object.assign({key:e.className,ref:i},e,{bounds:o,editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&r.a.createElement(no.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))}),go=function(e){var t=e.annotation,n=e.onClick,o="invisible"===t.properties.type,i=Object(a.useCallback)(function(e){return de.DomEvent.stopPropagation(e),n&&n(t)},[n,t]);if(!e.editable&&e.selected&&!o)return r.a.createElement(ro,Object.assign({},e,{onClick:i}));switch(t.geometry.type){case"Point":return r.a.createElement(io,Object.assign({},e,{onClick:i}));case"Polygon":case"MultiPolygon":return"rectangle"===t.properties.type?r.a.createElement(bo,Object.assign({},e,{onClick:i})):r.a.createElement(ao,Object.assign({},e,{onClick:i}))}return r.a.createElement(r.a.Fragment,null)},wo=Object(Ra.d)(function(e){var t=e.leaflet.map,n=Object(c.useDispatch)(),o=Object(a.useRef)(null),i=Object(a.useCallback)(function(){e.selectedAnnotations&&o.current&&e.onCreated&&o.current.leafletElement.getLayers().forEach(function(t){var a=e.selectedAnnotations.find(function(e){return e.properties.id===t.options.properties.id});if(a){var r=t.toGeoJSON();return"circle"===a.properties.type&&n(uo(a,a.set("geometry",Ee(r.geometry)).setIn(["properties","radius"],t.getRadius()))),n(uo(a,Ee(r).set("properties",a.properties)))}})},[e.selectedAnnotations,e.onCreated,o.current]),l=Object(a.useCallback)(function(n){if("circle"===n.layerType){var a=n.layer.toGeoJSON();return a.properties.radius=n.layer.getRadius(),n.layer.remove(t),e.onCreated(a)}var r=n.layer.toGeoJSON();return r.properties.type=n.layerType,n.layer.remove(t),e.onCreated(r)},[]);return r.a.createElement(Br.a,null,r.a.createElement(Hr.a,{ref:o},e.editable&&r.a.createElement(eo,{position:"topright",onEdited:i,onCreated:l,onEditMove:i,onEditResize:i,onEditVertex:i,edit:{edit:!1,remove:!1},draw:{circlemarker:!1,marker:!1,polyline:!1,circle:!1,rectangle:!1,polygon:!1}}),e.data.map(function(t){var n=e.selectedAnnotations.contains(t);return r.a.createElement(go,{className:"annotation-shape ".concat(n&&"annotation-shape__editing"),key:t.properties.id,color:n?"black":"white",weight:1.5,editable:e.editable,lineCap:"butt",onClick:e.onLayerClick,annotation:t,selected:n})})))}),vo=(n("66a1c366ea57fb65bda8"),regeneratorRuntime.mark(Co)),yo=regeneratorRuntime.mark(Oo),Eo=regeneratorRuntime.mark(So),xo=ta();function Co(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(rt.put)(fo(e));case 2:case"end":return t.stop()}},vo)}function Oo(e){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.select)(xo);case 2:if(t=e.sent,!Object(te.isImmutable)(t)){e.next=9;break}return e.next=6,ct.getItem("slideshows");case 6:return n=e.sent,e.next=9,ct.setItem("slideshows",n.map(Object($.when)(function(e){return e.id===t.id},function(e){return t.toJS()})));case 9:case"end":return e.stop()}},yo)}function So(e){var t,n,a,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.match.params.id,o.next=3,Object(rt.takeLatest)(Xn.CREATE_ANNOTATION,Oo);case 3:return o.next=5,Object(rt.takeLatest)(Xn.REMOVE_ANNOTATION,Oo);case 5:return o.next=7,Object(rt.takeLatest)(Xn.EDIT_ANNOTATION,Oo);case 7:return o.next=9,Object(rt.takeLatest)(Xn.CHANGE_ORDER,Oo);case 9:return o.next=11,Object(rt.takeLatest)(Xn.EDIT_SLIDESHOW,Oo);case 11:return o.prev=11,o.next=14,Object(rt.select)(xo);case 14:if(!(n=o.sent)||n.id!==t){o.next=17;break}return o.abrupt("return");case 17:return o.next=19,ct.getItem("slideshows");case 19:if(a=o.sent,!(r=a.find(function(e){return e.id===t}))){o.next=24;break}return o.next=24,Co(r);case 24:o.next=29;break;case 26:o.prev=26,o.t0=o.catch(11),console.error(o.t0);case 29:case"end":return o.stop()}},Eo,null,[[11,26]])}var jo=n("59060a782db56111824b");function ko(e){return(ko="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _o(e){return Math.ceil(Math.log(e)/Math.LN2)}var Io=ue.a.TileLayer.extend({options:{continuousWorld:!0,tileSize:512,updateWhenIdle:!0,tileFormat:"jpg",fitBounds:!0,setMaxBounds:!1},x:0,y:0,_levels:{},_tyles:{},_baseUrl:"",initialize:function(e){var t=this;e.maxZoom&&(this._customMaxZoom=!0),e.tileSize&&(this._explicitTileSize=!0),e.quality&&(this._explicitQuality=!0),e=ue.a.setOptions(this,e),this._infoDeferred=this._getInfo().then(function(e){return t.onInfo(e)})},onInfo:function(e){this.y=e.height,this.x=e.width;var t,n,a,r,o,i=[],c=[];this.profile=e.profile instanceof Array?this.profile=e.profile[0]:this.profile=e.profile,this._setQuality(),this._explicitTileSize||(this.options.tileSize=512,e.tiles?this.options.tileSize=e.tiles[0].width:e.tile_width&&(this.options.tileSize=e.tile_width)),this.maxNativeZoom=Math.max(_o(this.x/this.options.tileSize),_o(this.y/this.options.tileSize)),this.options.maxNativeZoom=this.maxNativeZoom,this.maxZoom=this._customMaxZoom&&this.options.maxZoom>this.maxNativeZoom?this.options.maxZoom:this.maxNativeZoom;for(var l=0;l<=this.maxZoom;l++)t=Math.pow(2,this.maxNativeZoom-l),n=Math.ceil(this.x/t),a=Math.ceil(this.y/t),r=Math.ceil(n/this.options.tileSize),o=Math.ceil(a/this.options.tileSize),i.push([r,o]),c.push(ue.a.point(n,a));this._tierSizes=i,this._imageSizes=c},getTileUrl:function(e){var t=e.x,n=e.y,a=this._getZoomForUrl(),r=Math.pow(2,this.maxNativeZoom-a),o=this.options.tileSize*r,i=t*o,c=n*o,l=Math.min(i+o,this.x)-i,s=Math.min(c+o,this.y)-c,d=Math.ceil(l/r),u={format:this.options.tileFormat,quality:this.quality,region:[i,c,l,s].join(","),rotation:0,size:d+","};return ue.a.Util.template(this._baseUrl,Object.assign({},u,this.options))},onAdd:function(e){var t=this;this._infoDeferred.then(function(){t._imageSizesOriginal=t._imageSizes.slice(0),e._layersMaxZoom=t.maxZoom;for(var n=t._imageSizes[0],a=0,r=t._map.getSize(),o=1;o<=5&&(n.x>r.x||n.y>r.y);o++)n=n.divideBy(2),t._imageSizes.unshift(n),a=-o;t.options.minZoom=a,t.options.minNativeZoom=a,t._prev_map_layersMinZoom=t._map._layersMinZoom,t._map._layersMinZoom=a,ue.a.TileLayer.prototype.onAdd.call(t,e),t.options.fitBounds&&t._fitBounds(),t.options.setMaxBounds&&t._setMaxBounds(),t.on("tileload",function(e,t){var n=e.tile.naturalHeight,a=e.tile.naturalWidth;512===n&&512===a||(e.tile.style.width=a+"px",e.tile.style.height=n+"px")})})},onRemove:function(e){e._layersMinZoom=this._prev_map_layersMinZoom,this._imageSizes=this._imageSizesOriginal,this.options.setMaxBounds&&e.setMaxBounds(null)},_fitBounds:function(){var e=this._getInitialZoom(this._map.getSize()),t=this._imageSizes.length-1-this.options.maxNativeZoom,n=this._imageSizes[e+t],a=this._map.options.crs.pointToLatLng(ue.a.point(0,n.y),e),r=this._map.options.crs.pointToLatLng(ue.a.point(n.x,0),e),o=ue.a.latLngBounds(a,r);this._map.fitBounds(o,!0)},_setMaxBounds:function(){var e=this._getInitialZoom(this._map.getSize()),t=this._imageSizes[e],n=this._map.options.crs.pointToLatLng(ue.a.point(0,t.y),e),a=this._map.options.crs.pointToLatLng(ue.a.point(t.x,0),e),r=ue.a.latLngBounds(n,a);this._map.setMaxBounds(r,!0)},_setQuality:function(){var e=this.profile;this._explicitQuality||("object"===ko(e)&&(e=e["@id"]),this.options.quality="native")},_isValidTile:function(e){var t=this._getZoomForUrl(),n=this._tierSizes[t],a=e.x,r=e.y;return t<0&&a>=0&&r>=0||!!n&&!(a<0||n[0]<=a||r<0||n[1]<=r)},_getInitialZoom:function(e){for(var t,n=this._imageSizes.length-1-this.options.maxNativeZoom,a=this._imageSizes.length-1;a>=0;a--)if(.8*(t=this._imageSizes[a]).x<e.x&&.8*t.y<e.y)return a-n;return 2}}),Ao=Io.extend({initialize:function(e){this._infoUrl=e.url,this._baseUrl=this._templateUrl(),Io.prototype.initialize.call(this,e)},_getInfo:function(){return fetch("".concat(this._infoUrl)).then(function(e){return e.json()})},_setQuality:function(){switch(Io.prototype._setQuality.call(this),!0){case/^http:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html.*$/.test(this.profile):this.options.quality="native";break;default:this.options.quality="default"}},_infoToBaseUrl:function(){return this._infoUrl.replace("info.json","")},_templateUrl:function(){return this._infoToBaseUrl()+"images/{region}/{size}/{rotation}/{quality}.{format}"}}),To=n("1f8e7a84f488d67c82c1"),Ro=n.n(To),Lo=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function c(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,c)}l((a=a.apply(e,t||[])).next())})},Do=Io.extend({_baseUrl:"/{id}/{region}/{size}/{rotation}/{quality}.{format}",urls:new Ro.a(72),createTile:function(e,t){var n=this,a=document.createElement("img");de.DomEvent.on(a,"load",function(e){n._tileOnLoad(t,a),e.target&&0===e.target.width&&(e.target.style.width="",e.target.style.height="")}),de.DomEvent.on(a,"error",function(e){n._tileOnError(t,a,e)}),(this.options.crossOrigin||""===this.options.crossOrigin)&&(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),a.alt="",a.setAttribute("role","presentation");var r=this.getTileUrl(e);return this.urls.has(r)?a.src=this.urls.get(r):ct.getItem(r).then(function(e){if(e){var o=window.URL.createObjectURL(e);n.urls.set(r,o),a.src=o}else console.log("\ud83d\udd25",r,"\ud83d\udd25"),t(new Error("not in memory: "+r))}),a},onRemove:function(e){this.urls.forEach(window.URL.revokeObjectURL),this.urls.clear(),Io.prototype.onRemove.call(this,e)},_getInfo:function(){return Lo(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ct.getItem("/info/".concat(this.options.id,".json"));case 3:if(null!==(t=e.sent)){e.next=6;break}throw new Error("info.json is null");case 6:return e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}))}});function Mo(e){return(Mo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function No(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Po(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Fo(e,t,n){return t&&Po(e.prototype,t),n&&Po(e,n),e}function zo(e,t){return!t||"object"!==Mo(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Go(e,t,n){return(Go="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bo(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ho(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uo(e,t)}function Uo(e,t){return(Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vo=Object(Ra.d)(function(e){function t(){return No(this,t),zo(this,Bo(t).apply(this,arguments))}return Ho(t,jo["a"]),Fo(t,[{key:"createLeafletElement",value:function(e){return new Ao(this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,n){Go(Bo(t.prototype),"updateLeafletElement",this).call(this,e,n),n.url!==e.url&&n.leafletElement.setUrl(n.url)}}]),t}()),Wo=Object(Ra.d)(function(e){function t(){return No(this,t),zo(this,Bo(t).apply(this,arguments))}return Ho(t,jo["a"]),Fo(t,[{key:"createLeafletElement",value:function(e){return new Do(this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,n){Go(Bo(t.prototype),"updateLeafletElement",this).call(this,e,n)}}]),t}()),qo=n("d919039d7265280b3f13");function Zo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Yo,Jo=Object(K.b)({slideshow:ta(),selectedAnnotations:na}),Xo=Object(c.connect)(Jo,{createAnnotation:co,changeSelection:mo}),Qo=Z({key:"editor",reducer:$n}),Ko=N({key:"editor",saga:So}),$o=Object(f.compose)(Qo,Ko,Xo),ei=function(e){Yo&&Yo.disable(),Yo=e,e&&e.enable()},ti=Object(Ra.d)(function(e){var t=e.slideshow,n=e.setTool,o=e.tool,i=e.leaflet.map;Bn(i,e.slideshow.image);var l=Object(c.useDispatch)(),s=Object(a.useCallback)(function(){ei(),n("selector")},[]),d=Object(a.useCallback)(function(){n("rectangle")},[i]),u=Object(a.useCallback)(function(){n("circle")},[i]),p=Object(a.useCallback)(function(){n("polygon")},[i]),m=Object(a.useCallback)(function(){l(lo())},[]);Object(a.useEffect)(function(){if("selector"!==o)switch(o){case"rectangle":return ei(new ue.a.Draw.Rectangle(i));case"circle":return ei(new ue.a.Draw.Circle(i));case"polygon":case"polyline":return ei(new ue.a.Draw.Polygon(i))}}),Object(Pn.a)("p",p),Object(Pn.a)("r",d),Object(Pn.a)("c",u),Object(Pn.a)("n",m),Object(Pn.a)("esc",s);var f=Object(a.useCallback)(function(t){"selector"===o&&e.changeSelection(t)},[e.changeSelection,o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(wo,{editable:!0,onLayerClick:f,onCreated:e.createAnnotation,data:t.annotations,selectedAnnotations:e.selectedAnnotations}),Me(t.image.file)?r.a.createElement(La.a,{url:zn(t.image.file),bounds:Object(a.useMemo)(function(){return Gn(t.image)},[t.image])}):r.a.createElement(Wo,{tileSize:512,id:e.slideshow.image.id}),r.a.createElement(ar,{onSelectClick:s,activeButton:o,onCircleClick:u,onRectangleClick:d,onInvisibleClick:m,onPolygonClick:p}))}),ni=Object(a.memo)(function(e){var t=Zo(Object(a.useState)("selector"),2),n=t[0],o=t[1],i=Object(c.useDispatch)(),l=Object(a.useCallback)(function(){"selector"===n&&e.changeSelection()},[]),s=Zo(Object(a.useState)(!0),2),d=s[0],u=s[1],p=Object(a.useCallback)(function(){return u(!1)},[]),m=Object(a.useCallback)(function(){return u(!0)},[]),f=Object(a.useCallback)(Object($.pipe)(fo,i),[]),h=Object(a.useCallback)(Object($.pipe)(so,i),[]),b=Object(a.useCallback)(function(t){if(!e.selectedAnnotations.includes(t))return o("selector"),ei(),e.changeSelection(t)},[e.selectedAnnotations]),g=Object(a.useCallback)(Object($.pipe)(uo,i),[]),w=Object(a.useCallback)(Object($.pipe)(po,i),[]);return r.a.createElement("div",{className:"map"},r.a.createElement(Pr,{onCommentCreation:Object(a.useCallback)(function(){return i(lo())},[]),onAnnotationClick:b,onAnnotationChange:g,onOrderChange:w,slideshow:e.slideshow,selectedAnnotations:e.selectedAnnotations,visible:d,onClose:p,onRemove:h,onOpen:m,onNameChange:f}),r.a.createElement(Da.a,{onClick:l,boxZoom:!1,setTool:o,doubleClickZoom:!1,zoomControl:!1,crs:ue.a.CRS.Simple,minZoom:1,maxZoom:20},r.a.createElement(Ma.a,{position:"topright"}),r.a.createElement(ti,Object.assign({},e,{setTool:o,tool:n}))))}),ai=$o(function(e){var t=Zo(Object(a.useState)(!1),2),n=t[0],o=t[1],i=Object(a.useRef)();return Object(a.useEffect)(function(){i.current=setTimeout(function(){o(!0)},1e3)},[]),Object(a.useEffect)(function(){e.slideshow&&i.current&&clearTimeout(i.current)},[e.slideshow]),e.slideshow?r.a.createElement(ni,Object.assign({},e)):n?r.a.createElement(qo.a,{URL:e.history.location.pathname}):r.a.createElement(Gr,null)}),ri=n("14dfcfc3d87b200d2dd3"),oi=n("911781dbbff79a49ee79"),ii=n("77b65055e069a0f8c746"),ci=n("fd107da5869b7ae197ce"),li=n.n(ci),si=n("72aa67ece7d4c3c27941"),di=n("d9b587b33c69341314c6"),ui=n("7601f58bc69ebe6e7079");function pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var mi=function(e){return r.a.createElement("div",{className:"sidebar--header-container sidebar--spacing"},r.a.createElement(J.Title,{isSize:5},e.viewerMode?r.a.createElement("a",{href:"https://medialab.github.io/tesselle",target:"blank",rel:"noopener"},r.a.createElement("img",{"data-tip":"Made with tesselle","data-for":"tooltip",src:xr.a,style:{maxWidth:"2rem"}})):r.a.createElement(m.Link,{to:"/"},r.a.createElement("img",{"data-tip":"Back to home","data-for":"tooltip",src:xr.a,style:{maxWidth:"2rem"}}))),r.a.createElement(J.Title,{isSize:6,className:"is-stretch player-title"},e.title),!!e.allowPlay&&r.a.createElement(J.Button,{isRounded:!0,onClick:e.onButtonClick,style:{marginRight:".3rem"},"data-tip":e.minified?"Exit play mode":"Play sequentially","data-for":"tooltip",className:"play-playmode-toggle"},r.a.createElement(J.Icon,null,e.minified?r.a.createElement(Rn.FontAwesomeIcon,{icon:ba.faTimes}):r.a.createElement(Rn.FontAwesomeIcon,{icon:si.faPlay}))))},fi=function(e){var t=Object(a.useCallback)(function(t){e.onClick(e.annotation)},[e.annotation]),n="invisible"===e.annotation.properties.type;return r.a.createElement("div",{className:cr()({"sidebar--menu-item sidebar--spacing":!0,"sidebar--menu-item__selected":e.selected,"sidebar--menu-item__invisible":n})},r.a.createElement(J.Box,{className:"player-card",onClick:t},r.a.createElement(J.StretchedLayoutContainer,{isDirection:"horizontal"},r.a.createElement(J.StretchedLayoutItem,{style:{paddingRight:"1rem"},isFlex:1},r.a.createElement(J.Content,{isSize:"small",className:cr()("sidebar--item-field",{"sidebar--item-field--selected":e.selected})},e.children)))))},hi=function(e){return r.a.createElement("div",{className:cr()({"sidebar--menu-item sidebar--spacing":!0,"sidebar--menu-item__selected":e.selected,"sidebar--menu-item__minified":!0})},r.a.createElement(r.a.Fragment,null,r.a.createElement(J.StretchedLayoutContainer,{isDirection:"vertical",className:"utils__space-between"},r.a.createElement(J.StretchedLayoutItem,{isFlex:1},r.a.createElement(J.Content,{isSize:"small",className:cr()("sidebar--item-field",{"sidebar--item-field--selected":e.selected,"sidebar--item-field--minified":!0})},e.children)),r.a.createElement(J.StretchedLayoutItem,null,r.a.createElement(J.StretchedLayoutContainer,{isDirection:"horizontal",className:"minified-nav-container"},r.a.createElement(J.StretchedLayoutItem,null,r.a.createElement(J.Button,{disabled:!e.onPrev,isRounded:!0,onClick:e.onPrev,style:{margin:".2rem"}},r.a.createElement(J.Icon,null,r.a.createElement(Rn.FontAwesomeIcon,{icon:di.faCaretLeft})))),r.a.createElement(J.StretchedLayoutItem,null,r.a.createElement(J.Button,{disabled:!e.onNext,isRounded:!0,onClick:e.onNext,style:{margin:".2rem"}},r.a.createElement(J.Icon,null,r.a.createElement(Rn.FontAwesomeIcon,{icon:ui.faCaretRight})))))))))},bi=Object(Ra.d)(function(e){var t=e.selectedAnnotations.first(),n=r.a.useCallback(function(){e.visible?e.onClose():e.onOpen(),t||e.changeSelection(e.slideshow.annotations.first())},[e.visible,e.slideshow.annotations,t]),o=Object(a.useCallback)(function(t){"invisible"!==t.properties.type&&e.leaflet.map.fitBounds(Oe(t),{animate:!0})},[e.leaflet.map]),i=pi(Un(!1),3),c=i[0],l=i[1],s=i[2],d=!e.slideshow.annotations.size,u=pi(kr(),1)[0];return r.a.createElement("div",{className:cr()({sidebar:!0,"player-sidebar":!0,visible:e.visible,hidden:!e.visible,"has-selected":e.selectedAnnotations.size>0,empty:d,"viewer-mode":e.viewerMode})},r.a.createElement(J.StretchedLayoutContainer,{style:{height:"100%",flex:1}},r.a.createElement(J.StretchedLayoutItem,null,r.a.createElement(mi,{minified:!e.visible,title:e.slideshow.name,onButtonClick:n,viewerMode:e.viewerMode,allowPlay:!!e.slideshow.annotations.size})),r.a.createElement(J.StretchedLayoutItem,{isFlex:1,style:{overflow:"hidden"}},r.a.createElement("div",{className:"sidebar--wrapper play-sidebar--container"},e.visible?r.a.createElement(r.a.Fragment,null,d&&!e.viewerMode?r.a.createElement(J.Notification,{isColor:"warning"},"No annotations yet.",r.a.createElement("br",null),"You can download this image as a simple viewer or add annotations in ",r.a.createElement(m.Link,{to:"/editor/".concat(e.slideshow.id)},"edition mode"),"."):e.slideshow.annotations.map(function(t){return r.a.createElement(fi,{onGoTo:o,onClick:e.changeSelection,annotation:t,key:t.properties.id,selected:e.selectedAnnotations.includes(t)},r.a.createElement(li.a,{source:t.properties.content}))})):r.a.createElement(hi,{selected:t,onNext:e.onNext,onPrev:e.onPrev},r.a.createElement(li.a,{source:t.properties.content})))),!e.viewerMode&&r.a.createElement(J.StretchedLayoutItem,null,r.a.createElement("footer",{className:"sidebar--footer-container sidebar--spacing"},r.a.createElement(J.StretchedLayoutContainer,{isDirection:"horizontal",style:{width:"100%"},className:"player-footer-container"},r.a.createElement(J.StretchedLayoutItem,{isFlex:1},r.a.createElement(m.Link,{to:"/editor/".concat(e.slideshow.id),className:"button is-fullwidth is-primary"},"Back to edition")),r.a.createElement(J.StretchedLayoutItem,{isFlex:1},r.a.createElement(J.StretchedLayoutContainer,{isDirection:"horizontal"},r.a.createElement(J.StretchedLayoutItem,{isFlex:1},r.a.createElement(hr,null)),r.a.createElement(J.StretchedLayoutItem,{isFlex:1},u),r.a.createElement(J.StretchedLayoutItem,{isFlex:1},r.a.createElement(J.Button,{"data-for":"tooltip","data-tip":"Learn how to publish your image online",onClick:s,isColor:"warning",isFullWidth:!0},"Publish")))))))),r.a.createElement(yr,{isOpen:c,onRequestClose:l}))});n("c43d0e331cb4aefacbc7");function gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ha.a.setAppElement("#app");var wi=Object(Ra.d)(function(e){var t,n=e.selectedAnnotations.first(),o=n&&"invisible"===n.properties.type;return Bn(e.leaflet.map,n&&!o?n:e.slideshow.image),t=e.url?Me(e.slideshow.image)?r.a.createElement(La.a,{url:"".concat(e.url,"/../thumbnail.svg"),bounds:Object(a.useMemo)(function(){return Gn(e.slideshow.image)},[e.slideshow.image])}):r.a.createElement(Vo,{url:e.url}):Me(e.slideshow.image)?r.a.createElement(La.a,{url:zn(e.slideshow.image.file),bounds:Object(a.useMemo)(function(){return Gn(e.slideshow.image)},[e.slideshow.image])}):r.a.createElement(Wo,{tileSize:512,id:e.slideshow.image.id}),r.a.createElement(r.a.Fragment,null,r.a.createElement(wo,{onLayerClick:e.playing?void 0:e.changeSelection,data:e.slideshow.annotations,selectedAnnotations:e.selectedAnnotations}),t)}),vi=function(e,t){if(!e)return t.first();var n=t.indexOf(e);return n+1<t.size?t.get(n+1):t.first()},yi=function(e){var t=e.selectedAnnotations.first(),n=gi(Object(a.useState)(!1),2),o=n[0],c=n[1],l=gi(Object(a.useState)(!1),2),s=l[0],d=l[1],u=gi(Un(),3),p=u[0],m=u[1],f=u[2],h=Object(ri.useFullScreen)(),b=Object(a.useCallback)(function(){f(),t||g()},[f]),g=Object(a.useCallback)(e.slideshow.annotations.size>1?function(){return e.changeSelection(vi(t,e.slideshow.annotations))}:void 0,[t,e.slideshow.annotations]),w=Object(a.useCallback)(e.slideshow.annotations.size>1?function(){return e.changeSelection(vi(t,e.slideshow.annotations.reverse()))}:void 0,[t,e.slideshow.annotations]);Object(Pn.a)("k",g),Object(Pn.a)("j",w);var v=Object(a.useCallback)(function(t){if(p)return e.changeSelection()},[p,e.changeSelection]),y=Object(a.useCallback)(function(){return d(!s)},[s]),E=Object(a.useRef)(null),x=e.viewerMode;return r.a.createElement("div",{className:"map player-map"},r.a.createElement("div",{ref:function(e){E.current||(E.current=e,c(!!e))}}),r.a.createElement(Da.a,{boxZoom:!1,dragging:!0,doubleClickZoom:!1,zoomControl:!1,crs:ue.a.CRS.Simple,onClick:v,minZoom:1,maxZoom:20},E.current&&o&&i.a.createPortal(r.a.createElement(bi,{slideshow:e.slideshow,selectedAnnotations:e.selectedAnnotations,visible:p,onClose:m,onOpen:b,onPrev:w,onNext:g,changeSelection:e.changeSelection,viewerMode:x}),E.current),r.a.createElement(Ma.a,{position:"topright"}),r.a.createElement(wi,{url:e.url,playing:!p,slideshow:e.slideshow,changeSelection:e.changeSelection,selectedAnnotations:e.selectedAnnotations})),r.a.createElement("div",{className:"player-actions-container"},x&&r.a.createElement(J.Button,{"data-for":"tooltip","data-tip":"share this view",onClick:y,isRounded:!0},r.a.createElement(J.Icon,null,r.a.createElement(Rn.FontAwesomeIcon,{icon:oi.faShare}))),r.a.createElement(J.Button,{"data-for":"tooltip","data-tip":"fullscreen mode",onClick:h.toggle,isRounded:!0},r.a.createElement(J.Icon,null,r.a.createElement(Rn.FontAwesomeIcon,{icon:ii.faExpand})))),x&&r.a.createElement(ha.a,{isOpen:s,onRequestClose:y,contentLabel:"Share this document"},r.a.createElement("div",{className:"modal-content-container"},r.a.createElement("div",{className:"modal-content-header"},r.a.createElement(J.Title,{isSize:"3"},r.a.createElement("span",null,"Share this document"),r.a.createElement("span",null,r.a.createElement(J.Button,{onClick:y,isRounded:!0},r.a.createElement(J.Icon,null,r.a.createElement(Rn.FontAwesomeIcon,{icon:ba.faTimes})))))),r.a.createElement("div",{className:"modal-content-body"},r.a.createElement("div",null,"Share the URL address of this document:"),r.a.createElement("pre",null,r.a.createElement("code",null,window.location.href)),r.a.createElement("div",null,"Embed this document in another page or application:"),r.a.createElement("pre",null,r.a.createElement("code",null,'<iframe src="'.concat(window.location.href,'"></iframe>')))))),r.a.createElement(za.a,{id:"tooltip",place:"left",effect:"solid"}))},Ei=$o(function(e){return e.slideshow?r.a.createElement(yi,Object.assign({},e,{local:!0})):r.a.createElement(Gr,null)}),xi=n("91876d1143b1a531e930"),Ci=n.n(xi);function Oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Si=function(e){var t=new URLSearchParams(e.location.search),n=Ci()(window.location.protocol+t.get("url")),o=Vn("".concat(t.get("url"),"/slideshow.json")),i=Oi(Object(a.useState)(Object(te.List)([])),2),c=i[0],l=i[1],s=Object(a.useCallback)(function(e){var t=e?Object(te.List)([e]):Object(te.List)([]);if(!t.equals(c))return l(t)},[c]);return o?"error"===o.status?r.a.createElement(qo.a,{URL:n}):r.a.createElement(yi,{url:"".concat(n,"/info.json"),slideshow:new Ye(o.data),selectedAnnotations:c,changeSelection:s,viewerMode:!0}):r.a.createElement(Gr,null)},ji=n("be49ece3c9ac38c7621f"),ki=Object(ji.a)(function(){return n.e(3).then(n.bind(null,"df852b79991469f7a807"))}),_i=(n("e38bb916e65710571921"),Z({key:"slicer",reducer:Pt})),Ii=N({key:"slicer",saga:bn}),Ai=Object(f.compose)(_i,Ii)(function(){return a.createElement(m.Switch,null,a.createElement(m.Route,{exact:!0,path:"/",component:Ta}),a.createElement(m.Route,{exact:!0,path:"/editor/:id",component:ai}),a.createElement(m.Route,{exact:!0,path:"/player/:id",component:Ei}),a.createElement(m.Route,{exact:!0,path:"/viewer/",component:Si}),a.createElement(m.Route,{component:ki}))}),Ti=function(e){return e.language};function Ri(e){return(Ri="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Li(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Di(e,t){return!t||"object"!==Ri(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ni(e,t){return(Ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Di(this,Mi(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ni(e,t)}(t,a["PureComponent"]),n=t,(r=[{key:"render",value:function(){return a.createElement(Q.IntlProvider,{locale:this.props.locale,key:this.props.locale,messages:this.props.messages[this.props.locale]},a.Children.only(this.props.children))}}])&&Li(n.prototype,r),o&&Li(n,o),t}(),Fi=Object(K.a)(Object(K.a)(Ti,function(e){return e.locale}),function(e){return{locale:e}});var zi=Object(c.connect)(Fi,function(e){return{dispatch:e}})(Pi),Gi=(n("9c6be9f00377ac8be3d8"),n("0cbc23df16a5c6ceec4d"),n("3562001638983595ee40"));var Bi=n.n(Gi)()();var Hi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=[Bi,Object(l.routerMiddleware)(t)],a=[f.applyMiddleware.apply(void 0,n)],r=f.compose,o=Object(f.createStore)(W(),e,r.apply(void 0,a));return o.runSaga=Bi.run,o.injectedReducers={},o.injectedSagas={},o}({},d),Ui=document.getElementById("app"),Vi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ai;o.render(a.createElement(c.Provider,{store:Hi},a.createElement(zi,{messages:e},a.createElement(a.Fragment,null,a.createElement(p.a,{timeOut:5e3,newestOnTop:!0,preventDuplicates:!0,position:"top-right",transitionIn:"fadeIn",transitionOut:"fadeOut",closeOnToastrClick:!0}),a.createElement(l.ConnectedRouter,{history:d},a.createElement(t,null))))),Ui)};window.Intl?Vi(H):new Promise(function(e){e(Promise.all([n.e(0),n.e(4)]).then(n.t.bind(null,"97694e21b72f8e9351c4",7)))}).then(function(){return Promise.all([n.e(0).then(n.t.bind(null,"f030ad8f70186ef5cb63",7)),n.e(0).then(n.t.bind(null,"14584c41c196d3540f41",7))])}).then(function(){return Vi(H)}).catch(function(e){throw e}),n("30d14b3a3295666f3aba").install()},"776f7b15d44f70e7504d":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='740px' height='740px' viewBox='0 0 740 740' enable-background='new 0 0 740 740' xml:space='preserve'%3E %3Crect x='370' fill='%2300A99D' width='370' height='370'/%3E %3Crect fill='%233849A2' width='370' height='370'/%3E %3Crect x='370' y='370' fill='%2309C6A2' width='370' height='370'/%3E %3Crect y='370' fill='%23039385' width='370' height='370'/%3E %3C/svg%3E"},"7b1d6ef55c12f5ddfe2a":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='891.5px' viewBox='0 0 1280 891.5' enable-background='new 0 0 1280 891.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Ccircle fill='none' stroke='%23F9F9F9' stroke-width='45' stroke-miterlimit='10' cx='650.463' cy='455.344' r='401.57'/%3E %3C/svg%3E"},"7be22f45e71448e65245":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='895.5px' viewBox='0 0 1280 895.5' enable-background='new 0 0 1280 895.5' xml:space='preserve'%3E %3Cpolygon fill='none' stroke='%23000000' stroke-width='45' stroke-linecap='square' stroke-miterlimit='10' points='1026.427,74.25 274.5,74.25 274.5,659.091 556.957,659.091 556.957,826.177 723.043,659.091 1026.427,659.091 '/%3E %3C/svg%3E"},"7bffbf7599523c159899":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n.sidebar--header-container img{\n    transition: all .3s ease;\n}\n\n.sidebar--header-container img:hover{\n   transform: rotate(-45deg);\n}\n\n.sidebar--header-container .input{\n    margin: 0\n}\n\n.map .leaflet-marker-icon{\n    background: #3849a2;\n    border: none;\n    border-radius: 50%;\n}\n\n.map .annotation-shape,\n.map .annotation-shape__editing{\n    stroke: darkgrey;\n    fill: white;\n}\n\n.map .annotation-shape__editing{\n    stroke: #3849a2;\n}\n\n.map .leaflet-control-zoom{\n    box-shadow: none;\n    border: none;\n    margin-right: 1.5rem;\n    margin-top: 1rem;\n}\n\n.map .leaflet-control{\n    margin-right: 1.5rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n}\n\n.map .leaflet-control .buttons-container{\n    bottom: 0;\n}\n\n.map .leaflet-control-attribution {\n    display: none\n}\n\n.map .leaflet-control-zoom-in,\n.map .leaflet-control-zoom-out{\n    border: none;\n    box-shadow: none;\n    font-size: 1.3rem;\n}\n\n.map .leaflet-tooltip{\n    display: none;\n}\n\n.map .leaflet-draw-tooltip .leaflet-draw-tooltip-subtext, \n.map .leaflet-draw-tooltip br {\n    display: none;\n}",""])},"7dd68a64079d1d4cd439":function(e){e.exports=[]},"80a8300d301683bde127":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n\n.viewer404-container{\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    padding: 1rem;\n}\n\n.viewer404-content{\n    text-align: center;\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: flex-start;\n    align-items: flex-start;\n    max-width: 30rem;\n}\n\n.viewer404-title-container{\n    display: flex;\n    flex-flow: row nowrap;\n    font-weight: bold;\n    padding-bottom: 0;\n    margin-bottom: 0;\n\n}\n\n.viewer404-content .logo{\n    max-height: 2rem;\n    margin-right: 1rem;\n    position: relative;\n    top: .7rem;\n}\n\n.viewer404-content .content{\n    margin-left: 3.5rem;\n    text-align: left;\n}",""])},"81569eb04b5d565f29bc":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"textarea.textarea {\n  transition: none;\n}\n.sidebar {\n  position: absolute;\n  width: 25%;\n  max-width: 450px;\n  z-index: 420;\n  max-height: 100vh;\n  overflow: hidden;\n  background: white;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: stretch;\n  /* min-height: 200px; */\n  transition: all .5s ease;\n}\n.sidebar.visible {\n  bottom: 0;\n  left: 0;\n  height: 100%;\n}\n.sidebar.hidden {\n  bottom: 2rem;\n  left: 2rem;\n}\n.textarea:not([rows]) {\n  max-height: initial;\n  min-height: initial;\n}\n.sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified) {\n  background: #3849a2;\n  color: white;\n}\n\n.sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified)::placeholder{\n  color: white;\n}\n\n.sidebar--minified-placeholder{\n  height: 100%;\n  width: 100%;\n}\n\n.sidebar--wrapper{\n  padding: 1rem;\n  flex: 1;\n  overflow-y: auto;\n}\n.sidebar--container {\n  background: white;\n  /* max-height: calc(100vh - 45px - 70px); */\n  /* overflow: auto; */\n}\n.sidebar--menu-item .box {\n  background: white;\n}\n.sidebar--menu-item__selected .box {\n  background: #3849a2;\n}\ntextarea.textarea {\n  resize: none;\n}\n\n.sidebar--spacing {\n  padding: 5px 5px;\n}\n\n.sidebar--header-container {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.sidebar--header-container .title{\n  margin: .5rem 1rem;\n}\n\n.sidebar--header-container .title a{\n  color: white;\n}\n\n.sidebar--header-container .minify-toggle{\n  cursor: pointer;\n  margin-right: 1rem;\n}\n\n.sidebar--footer-container {\n  display: flex;\n  justify-content: space-between;\n  color: white;\n  padding: 0\n}\n.sidebar--menu-item .box {\n  background: white;\n}\n.sidebar--menu-item__selected .box {\n  background: #3849a2;\n}\n.input__invisible {\n  width: calc(100% - 1rem);\n  border: none;\n  margin: 1rem .5rem;\n}\n.add-comment-container{\n  padding: .5rem .25rem;\n}\n\n",""])},"955a6a725544659a0b42":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"#app {\n  position: relative;\n  user-select: none;\n}\n\nbody { --rgba-primary-0: #343477; } /* rgba( 52, 52,119,1); */\nbody { --rgba-primary-1: #8080E5; } /* rgba(128,128,229,1); */\nbody { --rgba-primary-2: #5454A8; } /* rgba( 84, 84,168,1); */\nbody { --rgba-primary-3: #1A1A46; } /* rgba( 26, 26, 70,1); */\nbody { --rgba-primary-4: #060614; } /* rgba(  6,  6, 20,1); */\n\nbody {\n  max-height: 100vh;\n  overflow: hidden;\n}\n\n.leaflet-container {\n  height: 100%;\n  width: 100%;\n  min-width: 100px;\n  margin: 0 auto;\n}\n\n.App-link {\n  color: #61dafb;\n}\n.zoom-level {\n  position: absolute;\n}\n.react-dat-gui {\n  z-index: 9999;\n}\n\n.map {\n  height: 100vh;\n  width: 100vw;\n}\n.map.creating {\n  cursor: crosshair;\n}\n\n.rectangle {\n  pointer-events: none;\n}\n\n\n.button{\n  text-transform: none;\n}\n\n.box,.button{\n  border-radius: 0;\n}\n\n.ReactModal__Overlay{\n  z-index: 1000;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n}\n\n.ReactModal__Content{\n  position: relative!important;\n  max-width: 80vw;\n  max-height: 80vh;\n  overflow: hidden!important;\n  inset: unset!important;\n  padding: 0!important;\n}\n\n.ReactModal__Content .modal-content-container {\n  overflow: hidden;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: stretch;\n  max-height: 80vh;\n  position: relative;\n}\n\n.ReactModal__Content .modal-content-header,\n.ReactModal__Content .modal-content-header .title {\n  background: var(--rgba-primary-2);\n  color: white;\n  padding: .5rem;\n}\n\n.ReactModal__Content .modal-content-header .title{\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: stretch;\n}\n\n.ReactModal__Content .modal-content-header .title span:first-of-type{\n  flex: 1;\n}\n\n.ReactModal__Content .modal-content-body{\n  padding: .5rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  flex: 1;\n  overflow: auto;\n  max-height: calc(100% - 4rem);\n}\n\n.ReactModal__Content .modal-content-body code{\n  user-select: all;\n  -moz-user-select: all;\n  -ms-user-select: element;\n  -webkit-user-select: all;\n}\n\n.modal-content-body iframe{\n  min-width: 50vw;\n  min-height: 50vh;\n  width: 100%;\n}",""])},"9c6be9f00377ac8be3d8":function(e,t,n){e.exports=n.p+"favicon.ico"},"9ff90a0cc5204b4629a4":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='803.14px' height='803.14px' viewBox='0 0 803.14 803.14' enable-background='new 0 0 803.14 803.14' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23000000' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' points=' 402.764,634.289 147.59,128.713 653.166,383.887 '/%3E %3Cline fill='none' stroke='%23000000' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' x1='706.302' y1='687.427' x2='527.964' y2='509.087'/%3E %3C/svg%3E"},a4bdf3e5032d230f45cd:function(e,t,n){var a=n("d91476fada1b30a0d8ff");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},c43d0e331cb4aefacbc7:function(e,t,n){var a=n("401aa70511af71beb6b9");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},cc76f763c4e09ef29989:function(e,t){e.exports="data:image/svg+xml,%3Csvg version='1.1' id='medialab-logo-svg' x='0px' y='0px' viewBox='0 0 283.5 72.6' xmlns='http://www.w3.org/2000/svg' aria-labelledby='Science Po %7C Medialab'%3E %3Ctitle%3EScience Po %7C Medialab%3C/title%3E %3Cdesc%3ELogo of Science Po Medialab%3C/desc%3E %3Cg%3E %3Cpath class='st0' d='M4.2,32.7c0,0,4.7,4.5,10.7,4.5c3.3,0,6.2-1.7,6.2-5.2c0-7.7-20.3-6.4-20.3-19.6C0.9,5.3,7.1,0,15.3,0 c8.5,0,12.8,4.6,12.8,4.6L24.8,11c0,0-4.1-3.8-9.5-3.8c-3.6,0-6.5,2.1-6.5,5.1C8.8,20,29,18.1,29,31.9c0,6.8-5.2,12.6-14.2,12.6 C5.3,44.5,0,38.6,0,38.6L4.2,32.7z'%3E%3C/path%3E%3Cpath class='st0' d='M47.1,15.2c7.3,0,10.7,4.1,10.7,4.1l-3.1,4.7c0,0-2.9-3-7.3-3c-5.1,0-8.5,3.9-8.5,8.6c0,4.7,3.4,8.7,8.7,8.7 c4.7,0,8.2-3.5,8.2-3.5l2.7,4.9c0,0-4,4.5-11.5,4.5c-9.2,0-15.1-6.5-15.1-14.6C32,21.9,37.9,15.2,47.1,15.2'%3E%3C/path%3E%3Cpath class='st0' d='M62.6,5h6.9v6.2h-6.9V5z M62.6,15.9h6.9v27.8h-6.9V15.9z'%3E%3C/path%3E%3Cpath class='st0' d='M88.3,15.2c8,0,12.3,5.8,12.3,13.2c0,0.8-0.2,2.7-0.2,2.7H81.3c0.4,4.9,4.2,7.4,8.4,7.4c4.5,0,8-3.1,8-3.1 l2.7,5c0,0-4.3,4-11.2,4c-9.2,0-15-6.7-15-14.6C74.2,21.2,80,15.2,88.3,15.2 M93.7,26.4c-0.1-3.8-2.5-5.8-5.5-5.8 c-3.5,0-6,2.2-6.7,5.8H93.7z'%3E%3C/path%3E%3Cpath class='st0' d='M105.3,15.9h6.7v3.2c0,1-0.1,1.9-0.1,1.9h0.1c1.2-2.3,4.3-5.8,9.9-5.8c6.2,0,9.7,3.2,9.7,10.6v17.9h-6.9V27.2 c0-3.4-0.9-5.7-4.4-5.7c-3.7,0-6.4,2.3-7.5,5.7c-0.4,1.1-0.5,2.4-0.5,3.7v12.8h-6.9L105.3,15.9L105.3,15.9z'%3E%3C/path%3E%3Cpath class='st0' d='M150.8,15.2c7.3,0,10.7,4.1,10.7,4.1l-3.1,4.7c0,0-2.9-3-7.3-3c-5.1,0-8.5,3.9-8.5,8.6c0,4.7,3.4,8.7,8.7,8.7 c4.7,0,8.2-3.5,8.2-3.5l2.7,4.9c0,0-4,4.5-11.5,4.5c-9.2,0-15.1-6.5-15.1-14.6C135.6,21.9,141.5,15.2,150.8,15.2'%3E%3C/path%3E%3Cpath class='st0' d='M178.5,15.2c8,0,12.3,5.8,12.3,13.2c0,0.8-0.2,2.7-0.2,2.7h-19.2c0.4,4.9,4.2,7.4,8.4,7.4c4.5,0,8-3.1,8-3.1 l2.7,5c0,0-4.3,4-11.2,4c-9.2,0-15-6.7-15-14.6C164.4,21.2,170.2,15.2,178.5,15.2 M183.8,26.4c-0.1-3.8-2.5-5.8-5.5-5.8 c-3.5,0-6,2.2-6.7,5.8H183.8z'%3E%3C/path%3E%3Cpath class='st0' d='M197.4,35.4c0,0,3.1,3.1,7.6,3.1c2,0,3.7-0.9,3.7-2.5c0-4.1-13.5-3.6-13.5-12.6c0-5.2,4.6-8.2,10.6-8.2 c6.3,0,9.3,3.2,9.3,3.2l-2.6,5.1c0,0-2.6-2.4-6.8-2.4c-1.8,0-3.5,0.8-3.5,2.5c0,3.9,13.5,3.4,13.5,12.4c0,4.6-4,8.4-10.6,8.4 c-6.9,0-10.8-4.1-10.8-4.1L197.4,35.4z'%3E%3C/path%3E%3Cpath class='st0' d='M221.8,0.7h16.6c8.1,0,13.7,5.6,13.7,14s-5.6,14.2-13.7,14.2h-8.8v14.8h-7.8V0.7z M236.9,22.1 c4.5,0,7.2-2.9,7.2-7.4c0-4.4-2.7-7.3-7.1-7.3h-7.4v14.7H236.9z'%3E%3C/path%3E%3Cpath class='st0' d='M268.1,15.2c8.5,0,15.3,6.1,15.3,14.6c0,8.6-6.8,14.6-15.3,14.6c-8.5,0-15.3-6-15.3-14.6 C252.8,21.3,259.7,15.2,268.1,15.2 M268.2,38.5c4.5,0,8.2-3.5,8.2-8.7c0-5.1-3.8-8.7-8.2-8.7c-4.5,0-8.3,3.5-8.3,8.7 C259.9,35,263.6,38.5,268.2,38.5'%3E%3C/path%3E%3Cpath class='st0' d='M1.3,57.7h2.9L7.1,65c0.3,0.9,0.8,2.2,0.8,2.2h0c0,0,0.4-1.3,0.7-2.2l2.9-7.4h2.9l1.2,14.9h-2.7l-0.6-8.3 c-0.1-1,0-2.3,0-2.3h0c0,0-0.4,1.4-0.8,2.3L9,70H6.7l-2.4-5.8c-0.4-0.9-0.8-2.3-0.8-2.3h0c0,0,0,1.3,0,2.3l-0.6,8.3H0L1.3,57.7z'%3E%3C/path%3E%3Cpath class='st0' d='M18.9,57.7h8.9V60h-6.2v3.9h5v2.3h-5v4h6.6v2.3h-9.3C18.9,72.6,18.9,57.7,18.9,57.7z M24.1,53.8h2.8l-2.2,2.9 h-2.1L24.1,53.8z'%3E%3C/path%3E%3Cpath class='st0' d='M31,57.7h5.1c4.6,0,7.6,2.7,7.6,7.4c0,4.7-3,7.5-7.6,7.5H31V57.7z M36,70.3c3,0,5-1.8,5-5.1c0-3.3-2-5.1-5-5.1 h-2.2v10.2L36,70.3L36,70.3z'%3E%3C/path%3E%3Crect x='46.5' y='57.7' class='st0' width='2.7' height='14.9'%3E%3C/rect%3E%3Cpath class='st0' d='M60.4,68.8h-5.2l-1.3,3.8h-2.8l5.2-14.9h2.8l5.2,14.9h-2.8L60.4,68.8z M57.8,60.3c0,0-0.3,1.5-0.6,2.3l-1.3,4 h3.9l-1.3-4C58.2,61.7,57.9,60.3,57.8,60.3L57.8,60.3z'%3E%3C/path%3E%3Cpolygon class='st0' points='66.4,57.7 69.1,57.7 69.1,70.3 75.6,70.3 75.6,72.6 66.4,72.6 '%3E%3C/polygon%3E%3Cpath class='st0' d='M85.6,68.8h-5.2l-1.3,3.8h-2.8l5.2-14.9h2.8l5.2,14.9h-2.8L85.6,68.8z M83,60.3c0,0-0.3,1.5-0.6,2.3l-1.3,4 h3.9l-1.3-4C83.3,61.7,83,60.3,83,60.3L83,60.3z'%3E%3C/path%3E%3Cpath class='st0' d='M91.6,57.7h5.3c2.7,0,4.6,1.4,4.6,3.8c0,1.4-0.7,2.6-1.8,3.2v0c1.6,0.5,2.4,2,2.4,3.5c0,3-2.4,4.3-5.1,4.3 h-5.4L91.6,57.7L91.6,57.7z M96.9,63.8c1.2,0,1.8-0.8,1.8-1.9S98.1,60,96.9,60h-2.6v3.8H96.9z M97.2,70.3c1.4,0,2.2-0.9,2.2-2.2 c0-1.2-0.8-2.1-2.2-2.1h-2.9v4.3H97.2z'%3E%3C/path%3E%3C/g%3E %3C/svg%3E"},cd3c01f111da6ab3f495:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n\n.SlideshowCartouche .thumbnail-container {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: flex-start;\n    justify-content: flex-start;\n    margin-right: 1rem;\n}\n\n.SlideshowCartouche .content{\n    color:#4a4a4a;\n}\n\n.SlideshowCartouche .content a{\n    outline: none;\n}\n\n.SlideshowCartouche .annotations-container{\n    display: flex;\n}\n\n.SlideshowCartouche .annotations-number{\n    background:#f2f2f2;\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 50%;\n    font-size: .7em;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: center;\n    margin-right: .5rem;\n}\n\n.SlideshowCartouche .stats-info {\n    margin-bottom: .5rem;\n}\n\n.SlideshowCartouche .dates-info{\n    padding-left: 2rem;\n}",""])},cf3389da37ebf2d831db:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"/**\n* ----------------------------------------------\n* Demo styles\n* ----------------------------------------------\n**/\n.accordion {\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 2px;\n}\n\n.accordion__item + .accordion__item {\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.accordion__button {\n  background-color: #f4f4f4;\n  color: #444;\n  cursor: pointer;\n  padding: 18px;\n  width: 100%;\n  text-align: left;\n  border: none;\n}\n\n.accordion__button:hover {\n  background-color: #ddd;\n}\n\n.accordion__button[aria-expanded='true']::before,\n.accordion__button[aria-selected='true']::before {\n  transform: rotate(45deg);\n}\n\n.accordion__panel {\n  padding: 20px;\n  animation: fadein 0.35s ease-in;\n}\n\n/* -------------------------------------------------- */\n/* ---------------- Animation part ------------------ */\n/* -------------------------------------------------- */\n\n@keyframes fadein {\n  0% {\n      opacity: 0;\n  }\n\n  100% {\n      opacity: 1;\n  }\n}\n",""])},d91476fada1b30a0d8ff:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,".annotation-shape:not(.annotation-shape__editing):hover {\n  stroke-width: 2.5;\n  stroke: teal;\n}\n",""])},d919039d7265280b3f13:function(e,t,n){"use strict";var a=n("8af190b70a6bc55c6f1b"),r=n("3fed36c1ff12008a7601"),o=n.n(r);n("fd6d387ae573f4041c53");t.a=function(e){return a.createElement("div",{className:"viewer404-container"},a.createElement("div",{className:"viewer404-content"},a.createElement("a",{className:"title is-1 viewer404-title-container",href:"https://medialab.github.io/tesselle",target:"blank",rel:"noopener"},a.createElement("img",{className:"logo",src:o.a}),a.createElement("span",{className:"app-name"},"Tesselle")),a.createElement("div",{className:"content"},"The data you are trying to access with ",a.createElement("a",{href:"https://medialab.github.io/tesselle",target:"blank",rel:"noopener"},"Tesselle"),e.URL?" does not exist (anymore ?) at the address ".concat(e.URL,"."):" does not exist (anymore ?).")))}},dcda6ef0b88628a2b364:function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='895.5px' viewBox='0 0 1280 895.5' enable-background='new 0 0 1280 895.5' xml:space='preserve'%3E %3Cg id='Calque_1_1_'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3C/g%3E %3Cg id='Calque_1_2_'%3E %3Cg id='Layer_1_1_'%3E %3C/g%3E %3Cg id='Mode_Isolation_2_'%3E %3C/g%3E %3C/g%3E %3Cg id='Mode_Isolation_1_'%3E %3Crect x='274.5' y='74.25' fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linecap='square' stroke-miterlimit='10' width='751.927' height='751.927'/%3E %3C/g%3E %3C/svg%3E"},e081bc46499358fd0f25:function(e,t,n){var a=n("ff180e8fd4df45c2816c");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},e44b2a44b28b33d820c5:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n\n.loader-container{\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n.loader-content{\n    text-align: center;\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: center;\n    align-items: center;\n}\n\n.loader-title-container{\n    display: flex;\n    flex-flow: row nowrap;\n    font-weight: bold;\n    padding-bottom: 0;\n    margin-bottom: 0;\n\n}\n\n.loader-content .spinner{\n    animation: spinAround 5000ms infinite linear;\n    max-height: 2rem;\n    margin-right: 1rem;\n    position: relative;\n    top: .5rem;\n}\n\n.loader-content .is-3{\n    margin-top: 0;\n    font-style: italic;\n}",""])},fd6d387ae573f4041c53:function(e,t,n){var a=n("80a8300d301683bde127");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},ff180e8fd4df45c2816c:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"#app{\n  max-height: 100vh;\n  min-height: 100vh;\n  overflow-x: hidden;\n  overflow-y: auto;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: stretch;\n}\n\n.home-container {\n  padding-left: 1.3rem;\n  padding-top: 1.4rem;\n  padding-top: 2rem;\n  flex: 1;\n}\n\n.home-container .aside-column,\n.footer .logos-column\n{\n  padding-left: 3rem;\n}\n\n.home-container .app-title{\n  position: relative;\n}\n\n.home-container .app-title img{\n  position: absolute;\n  left: -3rem;\n  max-height: .7em;\n  max-width: .7em;\n  top: .2em;\n}\n\n.home-container .list-projects__title{\n  padding-top: .5rem;\n  font-weight: bold;\n}\n\n.home-container .cards-column .card-wrapper{\n  margin-bottom: 1rem;\n  padding-right: 1rem;\n}\n\n.home-container .drop-zone{\n  cursor: pointer;\n  margin-bottom: 1rem;\n}\n\n.footer .logo-img{\n  max-width: 150px;\n  padding-bottom: .5rem;\n  padding-top: .5rem;\n  box-sizing: content-box;\n  padding-left: 2rem;\n  display: block;\n}\n\n.footer .about-column p:first-of-type{\n  padding-top: 1rem;\n}",""])}},[[1,2,0]]]);