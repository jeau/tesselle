(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t){},"03e5aaee93020dcb97eb":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,".buttons-container {\n  bottom: 30px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}",""])},"0cbc23df16a5c6ceec4d":function(e,t,n){e.exports=n.p+".htaccess"},1:function(e,t,n){n("5b15df55c1316f23e9d0"),e.exports=n("74a2325ee1817d991dfc")},"1b104b4ebf37bca69f40":function(e,t,n){var r=n("cd3c01f111da6ab3f495");"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(r,a);r.locals&&(e.exports=r.locals)},"1d1992de665ce089503e":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='895.5px' viewBox='0 0 1280 895.5' enable-background='new 0 0 1280 895.5' xml:space='preserve'%3E %3Cg id='Calque_1_1_'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3C/g%3E %3Cg id='Mode_Isolation_1_'%3E %3Crect x='274.5' y='74.25' fill='none' stroke='%23000000' stroke-width='45' stroke-linecap='square' stroke-miterlimit='10' width='751.927' height='751.927'/%3E %3C/g%3E %3C/svg%3E"},2:function(e,t){},"24e2ac89b53a62ce0fe1":function(e,t,n){var r=n("81569eb04b5d565f29bc");"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(r,a);r.locals&&(e.exports=r.locals)},"29af6943dd72dd3f0f6d":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='643.019px' height='99.119px' viewBox='0.159 0 643.019 99.119' enable-background='new 0.159 0 643.019 99.119' xml:space='preserve'%3E %3Cg%3E %3Cpath d='M0.159,88.109V1.518h53.726V13.78H14.19V42.98h32.994v12.262H14.19v32.867H0.159L0.159,88.109z'/%3E %3Cpath d='M127.9,78.881C122.717,85.96,113.592,89.5,100.53,89.5c-13.064,0-22.208-3.559-27.432-10.682 c-5.227-7.121-7.838-18.308-7.838-33.562c0-15.252,2.633-26.587,7.901-34.004c5.265-7.416,14.39-11.125,27.369-11.125 c12.978,0,22.079,3.688,27.305,11.061c5.225,7.375,7.838,18.731,7.838,34.068C135.673,60.595,133.082,71.802,127.9,78.881z M84.096,69.78c2.864,4.973,8.344,7.458,16.434,7.458s13.546-2.443,16.371-7.331c2.822-4.887,4.235-13.084,4.235-24.587 c0-11.504-1.454-19.867-4.361-25.094c-2.907-5.225-8.324-7.837-16.244-7.837c-7.922,0-13.358,2.613-16.308,7.837 c-2.952,5.227-4.424,13.548-4.424,24.967C79.798,56.613,81.23,64.808,84.096,69.78z'/%3E %3Cpath d='M168.539,57.264v30.844h-14.032V1.517h32.868c19.551,0,29.328,9.187,29.328,27.558c0,12.306-4.722,20.649-14.159,25.031 l14.285,34.004h-15.423l-12.515-30.844L168.539,57.264L168.539,57.264z M202.292,29.201c0-10.366-4.974-15.549-14.917-15.549 h-18.835v31.477h19.089c5.057,0,8.764-1.454,11.123-4.361C201.111,37.86,202.292,34.004,202.292,29.201z'/%3E %3Cpath d='M264.235,89.5c-12.642,0-21.218-3.496-25.725-10.492c-4.509-6.994-6.762-18.498-6.762-34.51 c0-16.011,2.275-27.41,6.826-34.195c4.551-6.783,13.104-10.176,25.662-10.176c7.5,0,15.758,1.055,24.777,3.16l-0.507,11.377 c-7.583-1.346-15.169-2.022-22.753-2.022c-7.585,0-12.728,2.256-15.423,6.763c-2.698,4.509-4.045,12.979-4.045,25.41 c0,12.432,1.306,20.901,3.918,25.409c2.612,4.509,7.711,6.762,15.296,6.762c7.583,0,15.252-0.631,23.006-1.896l0.38,11.631 C280.205,88.571,271.987,89.5,264.235,89.5z'/%3E %3Cpath d='M335.152,89.5c-12.641,0-21.218-3.496-25.725-10.492c-4.508-6.994-6.762-18.498-6.762-34.51 c0-16.011,2.275-27.41,6.826-34.195c4.551-6.783,13.104-10.176,25.662-10.176c7.5,0,15.758,1.055,24.777,3.16l-0.507,11.377 c-7.583-1.346-15.169-2.022-22.754-2.022s-12.727,2.256-15.421,6.763c-2.698,4.509-4.046,12.979-4.046,25.41 c0,12.432,1.306,20.901,3.919,25.409c2.612,4.509,7.711,6.762,15.296,6.762c7.583,0,15.252-0.631,23.006-1.896l0.379,11.631 C351.123,88.571,342.905,89.5,335.152,89.5z'/%3E %3Cpath d='M369.914,88.109l21.364-86.592h27.937l21.491,86.592h-14.159l-4.678-18.583h-33.247l-4.677,18.583H369.914L369.914,88.109z M402.15,13.272l-10.745,43.866h27.685l-10.618-43.866H402.15L402.15,13.272z'/%3E %3Cpath d='M480.148,12.388c-10.703,0-16.054,3.75-16.054,11.251c0,3.877,1.265,6.636,3.792,8.28c2.529,1.644,8.11,3.666,16.75,6.068 c8.639,2.402,14.728,5.268,18.268,8.596c3.539,3.33,5.309,8.577,5.309,15.738c0,9.101-2.591,15.909-7.774,20.416 c-5.183,4.508-12.242,6.762-21.175,6.762c-7.164,0-15.086-0.844-23.765-2.528l-4.55-0.885l1.39-11.25 c11.377,1.518,20.058,2.276,26.041,2.276c10.449,0,15.675-4.634,15.675-13.906c0-3.623-1.182-6.299-3.54-8.027 c-2.359-1.727-7.669-3.621-15.929-5.688c-8.259-2.064-14.41-4.91-18.455-8.533c-4.044-3.622-6.068-9.354-6.068-17.192 s2.548-13.758,7.648-17.761C462.81,2.003,469.867,0,478.884,0c6.49,0,14.16,0.759,23.008,2.276l4.424,0.758l-1.138,11.377 C493.379,13.063,485.035,12.388,480.148,12.388z'/%3E %3Cpath d='M517.568,14.031V1.517h63.207v12.515h-24.399v74.078h-14.158V14.031H517.568z'/%3E %3C/g%3E %3C/svg%3E"},"2d09681354dad995b763":function(e,t,n){var r=n("955a6a725544659a0b42");"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(r,a);r.locals&&(e.exports=r.locals)},3:function(e,t){},"401aa70511af71beb6b9":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n\n.player-map .sidebar--header-container{\n    padding: .5rem;\n    padding-right: 1rem;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: stretch;\n}\n\n.player-map .player-sidebar{\n    min-height: 300px;\n}\n\n.player-map .play-sidebar--container{\n    height: 100%;\n    padding: 1rem;\n}\n.player-map .sidebar--header-container .title{\n    color: white;\n    flex: 1;\n}\n\n.player-map .sidebar--menu-item.sidebar--spacing .content{\n    padding: 1rem;\n}\n\n.sidebar.player-sidebar .sidebar--item-field--selected.sidebar--item-field--minified {\n    background: white;\n    color: #363636;\n    padding: 0;\n}",""])},"6034ec4c48cf13fdf8f7":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='803.14px' height='803.14px' viewBox='0 0 803.14 803.14' enable-background='new 0 0 803.14 803.14' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' points=' 402.764,634.289 147.59,128.713 653.166,383.887 '/%3E %3Cline fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' x1='706.302' y1='687.427' x2='527.964' y2='509.087'/%3E %3C/svg%3E"},"622ec8036aaf28780be2":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='915.5px' viewBox='0 0 1280 915.5' enable-background='new 0 0 1280 915.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23000000' stroke-width='45' stroke-linejoin='round' stroke-miterlimit='10' points='400.268,843.677 240.671,352.489 658.5,48.919 1076.329,352.489 916.732,843.677 '/%3E %3C/svg%3E"},"64dac7de12fb65a47bbf":function(e,t,n){var r=n("03e5aaee93020dcb97eb");"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(r,a);r.locals&&(e.exports=r.locals)},"65487e27ba6ae8e8f9c5":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='887.5px' viewBox='0 0 1280 887.5' enable-background='new 0 0 1280 887.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Ccircle fill='none' stroke='%23000000' stroke-width='45' stroke-miterlimit='10' cx='650.463' cy='456.406' r='401.57'/%3E %3C/svg%3E"},"66a1c366ea57fb65bda8":function(e,t,n){var r=n("7bffbf7599523c159899");"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(r,a);r.locals&&(e.exports=r.locals)},"6a95e2c254c73be60618":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='915.5px' viewBox='0 0 1280 915.5' enable-background='new 0 0 1280 915.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linejoin='round' stroke-miterlimit='10' points='400.268,843.677 240.671,352.489 658.5,48.919 1076.329,352.489 916.732,843.677 '/%3E %3C/svg%3E"},"74a2325ee1817d991dfc":function(e,t,n){"use strict";n.r(t);n("8c8e4f08a118a28666b0");var r=n("8af190b70a6bc55c6f1b"),a=n.n(r),o=n("63f14ac74ce296f77f4d"),i=n.n(o),c=n("d7dd51e1bf6bfc2c9c3d"),s=n("3aced5b508e7389026da"),l=n("3fb509045374147eb7e3"),u=n.n(l)()({basename:"/tesselle"}),d=(n("6735bdf1a3a541ab43fd"),n("da713d1d0d97c7c3b188"),n("a5a9a0d2e379224a5853"),n("b8989a0d313aa2f520d5"),n("2d09681354dad995b763"),n("e95a63b25fb92ed15721")),p=n("0d64d0cb24dd542fe0cf"),f=n("0d7f0986bcd2f33d8a2a"),m=n("ab039aecd4a1d4fedc0e"),h=n("a28fc3c963a1d4d1a2e5"),b=n("ab4cb61bcb2dc161defb"),g=n("229f5bf90804a8ad1495"),E=n("f2873ecf7390fe7d7c89"),v=n.n(E),w=n("6a4f9c383785f9168266"),y=n.n(w),x=n("a1cf5d6fa4ed65a6ddd5"),O=n.n(x),C=n("f3b0ff1628e56352bcbf"),S=n.n(C),j=n("5fa3f8487e09c6182715"),k=n.n(j),_=n("d3a850c4000d77bccc89"),I=n.n(_);function R(e){var t={dispatch:S.a,subscribe:S.a,getState:S.a,replaceReducer:S.a,runSaga:S.a,injectedReducers:I.a,injectedSagas:I.a};y()(v()(e,t),"(app/utils...) injectors: Expected a valid redux store")}var L="@@saga-injector/restart-on-remount",A="@@saga-injector/daemon",T="@@saga-injector/once-till-unmount",D=[L,A,T],P=function(e){return y()(k()(e)&&!O()(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},N=function(e){var t={saga:S.a,mode:function(e){return k()(e)&&D.includes(e)}};y()(v()(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function M(e,t){return function(n,r,a){t||R(e);var o=Object.assign({},r,{mode:r.mode||L}),i=o.saga,c=o.mode;P(n),N(o);var s=Reflect.has(e.injectedSagas,n);(!s||s&&c!==A&&c!==T)&&(e.injectedSagas[n]=Object.assign({},o,{task:e.runSaga(i,a)}))}}function z(e,t){return function(n){if(t||R(e),P(n),Reflect.has(e.injectedSagas,n)){var r=e.injectedSagas[n];r.mode!==A&&(r.task.cancel(),e.injectedSagas[n]="done")}}}function F(e){var t=e.key,n=e.saga,a=e.mode;return function(e){var o=function(o){var i=r.useContext(c.ReactReduxContext);return r.useEffect(function(){var e,r=(R(e=i.store),{injectSaga:M(e,!0),ejectSaga:z(e,!0)});return r.injectSaga(t,{saga:n,mode:a},o),function(){r.ejectSaga(t)}},[]),r.createElement(e,Object.assign({},o))};return o.displayName="withSaga(".concat(e.displayName||e.name||"Component",")"),o}}var H="app/LanguageToggle/CHANGE_LOCALE";var B=n("ab039aecd4a1d4fedc0e").addLocaleData,U=n("58d82b287428be065a42"),V=n("529d37966b19afdce782"),G=n("7dd68a64079d1d4cd439");B(U),B(V);var W={en:function e(t,n){var r="en"!==t?e("en",G):{};return Object.keys(n).reduce(function(e,a){var o=n[a]||"en"===t?n[a]:r[a];return Object.assign({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,o))},{})}("en",G)},Z={locale:"en"};var q,J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{locale:t.locale};default:return e}};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.connectRouter)(u);return Object(b.combineReducers)(Object.assign({language:J,router:t},e))}function X(e,t){return function(n,r){t||R(e),y()(k()(n)&&!O()(n)&&S()(r),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===r||(e.injectedReducers[n]=r,e.replaceReducer(Y(e.injectedReducers)))}}function Q(e){var t=e.key,n=e.reducer;return function(e){return function(a){var o=r.useContext(c.ReactReduxContext);return r.useEffect(function(){var e;(R(e=o.store),{injectReducer:X(e,!0)}).injectReducer(t,n)}),r.createElement(e,Object.assign({},a))}}}!function(e){e.LOAD_SLIDESHOWS="app/HomePage/LOAD_SLIDESHOWS",e.CREATE_SLIDESHOW="app/HomePage/CREATE_SLIDESHOW",e.CREATE_SLIDESHOW_SUCCESS="app/HomePage/CREATE_SLIDESHOW_SUCCESS",e.CREATE_SLIDESHOW_FAILURE="app/HomePage/CREATE_SLIDESHOW_FAILURE",e.REMOVE_SLIDESHOW="app/HomePage/REMOVE_SLIDESHOW",e.REMOVE_SLIDESHOW_SUCCESS="app/HomePage/REMOVE_SLIDESHOW_SUCCESS",e.REMOVE_SLIDESHOW_FAILURE="app/HomePage/REMOVE_SLIDESHOW_FAILURE",e.SLIDESHOW_DUPLICATE="app/HomePage/SLIDESHOW_DUPLICATE"}(q||(q={}));var $=q,K=n("54f683fcda7806277002"),ee=n("3e9c7e5351d86134f5f6"),te=n.n(ee);function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==ne(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e?(e.id||(e.id=te()()),n=ae(this,oe(t).call(this,e))):n=ae(this,oe(t).call(this)),ae(n)}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,Object(K["Record"])({id:"",file:{},width:0,height:0})),n=t,(r=[{key:"with",value:function(e){return this.merge(e)}}])&&re(n.prototype,r),a&&re(n,a),t}(),se=n("6e841ed3e83e93f20bf1"),le=n.n(se),ue=n("57850442df7b7252c5b5"),de=n.n(ue),pe=n("64cae832d9247bf4c049"),fe=Object(K.Record)({id:"emptyId",content:"",type:"rectangle"},"AnnotationProperties"),me=Object(K.Record)({id:"emptyId",content:"",radius:0,type:"circle"},"AnnotationCircleProperties"),he=function(e){var t=e.get("id");return"emptyId"===t||void 0===t?e.set("id",te()()):e},be=Object(g.pipe)(he,fe),ge=Object(g.pipe)(he,me);function Ee(e,t){try{return t.has("radius")?ge(t.toMap()):be(t.toMap())}catch(n){return console.error("fromJS error"),console.log(e,t),Object(K.fromJS)(t)}}var ve=function(e){switch(e.type){case void 0:return Object(K.Map)({properties:Ee("properties",Object(K.fromJS)(e.properties))});case"FeatureCollection":return Object(pe.FeatureCollection)(e,Ee);case"Feature":return Object(pe.Feature)(e,Ee);case"GeometryCollection":return Object(pe.GeometryCollection)(e);case"Point":return Object(pe.Point)(e);case"MultiPoint":return Object(pe.MultiPoint)(e);case"LineString":return Object(pe.LineString)(e);case"MultiLineString":return Object(pe.MultiLineString)(e);case"Polygon":return Object(pe.Polygon)(e);case"MultiPolygon":return Object(pe.MultiPolygon)(e)}throw new Error("Shape not supported in fromJS")};var we=function(e){return new le.a.LatLng(e[1],e[0],e[2])},ye=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:we;return Object(g.map)(n?function(t){return e(t,n-1,r)}:we,t)};function xe(e){switch(e.properties.type){case"circle":return ye(de()(e.geometry.coordinates.toJS(),e.properties.radius,5).coordinates,1);case"rectangle":case"polygon":return ye(e.geometry.coordinates,"Polygon"===e.geometry.type?1:2).toJS()}throw new Error("Unsupportd shape:"+e.properties.type)}["editable:shape:new","editable:shape:delete","editable:shape:deleted","editable:vertex:new","editable:vertex:click","editable:vertex:clicked","editable:vertex:rawclick","editable:vertex:deleted","editable:vertex:ctrlclick","editable:vertex:shiftclick","editable:vertex:metakeyclick","editable:vertex:altclick","editable:vertex:contextmenu","editable:vertex:mousedown","editable:vertex:drag","editable:vertex:dragstart","editable:vertex:dragend","editable:middlemarker:mousedown","editable:drawing:start","editable:drawing:end","editable:drawing:cancel","editable:drawing:commit","editable:drawing:mousedown","editable:drawing:mouseup","editable:drawing:click","editable:drawing:clicked","editable:created","editable:enable","editable:disable","editable:editing","editable:dragend"].join(" ");function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ce(e,t,n,r){var a=Math.min(n/e,r/t);return{width:e*a,height:t*a}}var Se=document.createElement("canvas"),je=Se.getContext("2d");function ke(e,t,n){var r=Oe(n,2),a=r[0],o=r[1],i=Oe(t,4),c=i[0],s=i[1],l=i[2],u=i[3];return e.width=a,e.height=o,Se.width=a,Se.height=o,je.drawImage(e,c,s,l,u,0,0,Se.width,Se.height),new Promise(function(e,t){Se.toBlob(function(t){e(new File([t],"default.jpg",{type:"image/jpeg"}))})})}var _e=function(e,t){return new Promise(function(n,r){var a=new Image,o=document.createElement("canvas"),i=o.getContext("2d"),c=t.right-t.left,s=t.bottom-t.top,l=Ce(c,s,t.maxWidth,t.maxHeight),u=l.width,d=l.height;a.width=u,a.height=d,o.width=u,o.height=d,a.onload=function(){i.drawImage(a,t.left,t.top,c,s,0,0,o.width,o.height),o.toBlob(function(r){n(new File([r],t.name?t.name:e.name,{type:e.type}))})},a.src=window.URL.createObjectURL(e),a.onerror=r})};function Ie(e){return(Ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return!t||"object"!==Ie(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function c(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,c)}s((r=r.apply(e,t||[])).next())})},Pe=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e)e.annotations instanceof Array&&(e.annotations=Object(K.List)(e.annotations.map(ve))),e.id||(e.id=te()()),n=Le(this,Ae(t).call(this,e));else{var r={id:te()()};n=Le(this,Ae(t).call(this,r))}return Le(n)}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,Object(K["Record"])({id:"",name:"Unnamed Slideshow",annotations:Object(K["List"])(),image:{}})),n=t,(r=[{key:"with",value:function(e){return this.merge(e)}}])&&Re(n.prototype,r),a&&Re(n,a),t}(),Ne=Pe,Me=Object(g.curry)(function(e,t){return Object(g.map)(function(e){return e(t)},e)}),ze=Object(g.pipe)(Object(g.nth)(2),Number),Fe=Object(g.pipe)(Object(g.nth)(3),Number),He=function(e){var t=e.getAttribute("width"),n=e.getAttribute("height"),r=e.getAttribute("viewBox");if(t&&n)return{width:+t,height:+n};if(r)return function(e){return Me({width:ze,height:Fe},Object(g.split)(" ",e))}(r);throw new Error("No width / height nor viewBox")},Be=function(e,t){return new Promise(function(t,n){if("image/svg+xml"===e.type){var r=new FileReader;r.onload=function(){var e=document.createElement("div");e.innerHTML=r.result;var n=e.getElementsByTagName("svg")[0];try{var a=He(n);return t([new Pe({image:new ce({file:{},width:a.width,height:a.height})}),n])}catch(e){n.setAttribute("width","1000"),n.setAttribute("height","1000");var o=He(n);return t([new Pe({image:new ce({file:{},width:o.width,height:o.height})}),n])}},r.readAsText(e),r.onerror=n}else{var a=window.URL.createObjectURL(e),o=new Image;o.onload=function(){return De(void 0,void 0,void 0,regeneratorRuntime.mark(function r(){var i,c,s,l;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==o.width){r.next=2;break}return r.abrupt("return",n(new Error("Slideshow.image has a width of 0")));case 2:if(0!==o.height){r.next=4;break}return r.abrupt("return",n(new Error("Slideshow.image has a height of 0")));case 4:return 100,i=o.width>o.height?100:o.width/o.height*100,c=o.height>o.height?100:o.height/o.width*100,r.next=9,_e(e,{maxWidth:i,maxHeight:c,left:0,top:0,bottom:o.height,right:o.width,name:"thumbnail.jpg"});case 9:return s=r.sent,l=new Pe({image:new ce({file:s,width:o.width,height:o.height})}),window.URL.revokeObjectURL(a),r.abrupt("return",t([l,o]));case 13:case"end":return r.stop()}},r)}))},o.onerror=function(e){console.error(e),n(e)},o.src=a}})},Ue={slideshows:Object(K.List)([])},Ve=Object(b.combineReducers)({slideshows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue.slideshows,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.LOAD_SLIDESHOWS:return Object(K.List)(t.payload.map(function(e){return new Ne(e)}));case $.REMOVE_SLIDESHOW_SUCCESS:return e.remove(e.indexOf(t.payload));default:return e}}}),Ge=function(e){return e&&e.homePage?e.homePage:Ue},We=function(){return Object(h.a)(Ge,function(e){return e.slideshows})},Ze=n("d782b72bc5b680c7122c"),qe=n("7a6a68cd2a7df90b2b34"),Je=n.n(qe);Je.a.config({driver:[Je.a.INDEXEDDB],name:"GLISSE ET MONTRE",version:1,size:4980736,storeName:"keyvaluepairs",description:"some description"}),window.db=Je.a;var Ye=Je.a,Xe=n("7e8762fdbf69fdc6312a"),Qe=function(e){return Object(Xe.action)($.LOAD_SLIDESHOWS,e)},$e=Object(Xe.createAsyncAction)($.CREATE_SLIDESHOW,$.CREATE_SLIDESHOW_SUCCESS,$.CREATE_SLIDESHOW_FAILURE)(),Ke=Object(Xe.createAsyncAction)($.REMOVE_SLIDESHOW,$.REMOVE_SLIDESHOW_SUCCESS,$.REMOVE_SLIDESHOW_FAILURE)(),et=n("d38d86e64281de1369ff"),tt=n.n(et),nt="\n<html>\n  <head>\n    <style>p { color: lightblue }</style>\n    <script>\n      locationUrl = window.location.href.replace(window.location.protocol, '').replace('/index.html', '');\n      const url = 'http://medialab.github.io/tesselle/#/viewer/?url=' + locationUrl;\n      function setUrl () {\n        const iframe = document.getElementById('iframe');\n        iframe.src = url;\n      }\n      if(window.addEventListener) {\n        window.addEventListener('load', setUrl, false);\n      } else {\n        window.attachEvent('onload', setUrl);\n      }\n    <\/script>\n  </head>\n  <style>\n      iframe{\n        width: 100%;\n        height: 100%;\n        left: 0;\n        top: 0;\n        position: fixed;\n        border: none;\n      }\n  </style>\n  <body>\n    <iframe></iframe>\n  </body>\n</html>\n";function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var at,ot=regeneratorRuntime.mark(st),it=regeneratorRuntime.mark(dt),ct=function(e,t,n){return{"@context":"http://library.stanford.edu/iiif/image-api/1.1/context.json","@id":n,formats:["jpg"],height:e.height,profile:"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",qualities:["default"],scale_factors:t,tile_height:512,tile_width:512,width:e.width}};function st(e,t,n,r){var a,o,i,c,s,l,u,d,p,f,m,h,b,g,E,v,w,y,x;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:a=!0,o=!1,i=void 0,O.prev=3,c=r[Symbol.iterator]();case 5:if(a=(s=c.next()).done){O.next=37;break}if(!((l=s.value)*n>e&&l*n>=t)){O.next=9;break}return O.abrupt("continue",34);case 9:u=n*l,d=Math.floor((e-1)/u)+1,p=Math.floor((t-1)/u)+1,f=0;case 13:if(!(f<=d)){O.next=34;break}(h=(m=f*u)+u)>e&&(h=e),b=h-m,g=Math.floor((b+l-1)/l),E=0;case 20:if(!(E<p)){O.next=31;break}return(w=(v=E*u)+u)>t&&(w=t),y=w-v,x=Math.floor((y+l-1)/l),O.next=28,[[m,v,b,y],[g,x],l];case 28:E++,O.next=20;break;case 31:f++,O.next=13;break;case 34:a=!0,O.next=5;break;case 37:O.next=43;break;case 39:O.prev=39,O.t0=O.catch(3),o=!0,i=O.t0;case 43:O.prev=43,O.prev=44,a||null==c.return||c.return();case 46:if(O.prev=46,!o){O.next=49;break}throw i;case 49:return O.finish(46);case 50:return O.finish(43);case 51:case"end":return O.stop()}},ot,null,[[3,39,43,51],[44,,46,50]])}function lt(e,t){return"/".concat(e.join(","),"/").concat(t[0],",/0/native.jpg")}function ut(e,t,n,r){for(var a=1,o=[a],i=0;i<30&&!(e*(a*=2)>t&&n*a>r);i++)o.push(a);return o}function dt(e,t){var n,r,a,o,i,c,s,l,u,d,p,f,m;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:n=e.width,r=e.height,a=t.tileSize,o=t.scaleFactors?t.scaleFactors:ut(a,n,a,r),i=!0,c=!1,s=void 0,h.prev=6,l=regeneratorRuntime.mark(function t(){var n,r,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=rt(d.value,3),r=n[0],a=n[1],o=n[2],t.next=3,[lt(r,a),function(){return ke(e,r,a)},o];case 3:case"end":return t.stop()}},t)}),u=st(n,r,a,o)[Symbol.iterator]();case 9:if(i=(d=u.next()).done){h.next=14;break}return h.delegateYield(l(),"t0",11);case 11:i=!0,h.next=9;break;case 14:h.next=20;break;case 16:h.prev=16,h.t1=h.catch(6),c=!0,s=h.t1;case 20:h.prev=20,h.prev=21,i||null==u.return||u.return();case 23:if(h.prev=23,!c){h.next=26;break}throw s;case 26:return h.finish(23);case 27:return h.finish(20);case 28:return p=Ce(n,r,480,512),f=[0,0,n,r],m=[p.width,p.height],h.next=33,[lt(f,m),function(){return ke(e,f,m)},Object(g.last)(o)];case 33:case"end":return h.stop()}},it,null,[[6,16,20,28],[21,,23,27]])}!function(e){e.SET_PROGRESS="app/Slicer/SET_PROGRESS",e.EXPORT_START="app/Slicer/EXPORT_START",e.EXPORT_SUCCESS="app/Slicer/EXPORT_SUCCESS",e.EXPORT_FAILURE="app/Slicer/EXPORT_FAILURE",e.IMPORT_SLIDESHOW="app/Slicer/IMPORT_SLIDESHOW",e.IMPORT_SLIDESHOW_SUCCESS="app/Slicer/IMPORT_SLIDESHOW_SUCCESS",e.IMPORT_SLIDESHOW_FAILURE="app/Slicer/IMPORT_SLIDESHOW_FAILURE"}(at||(at={}));var pt=at,ft=function(e){return Object(Xe.action)(pt.SET_PROGRESS,e)},mt=Object(Xe.createAsyncAction)(pt.EXPORT_START,pt.EXPORT_SUCCESS,pt.EXPORT_FAILURE)(),ht=Object(Xe.createAsyncAction)(pt.IMPORT_SLIDESHOW,pt.IMPORT_SLIDESHOW_SUCCESS,pt.IMPORT_SLIDESHOW_FAILURE)();function bt(e){return(bt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){return!t||"object"!==bt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xt=function(e){function t(){return gt(this,t),Et(this,vt(t).apply(this,arguments))}return wt(t,Object(K["Record"])({"@context":"http://library.stanford.edu/iiif/image-api/1.1/context.json","@id":"null",formats:["jpg"],height:0,width:0,profile:"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",qualities:["default"],scale_factors:[1],tile_height:0,tile_width:0})),t}(),Ot=new(function(e){function t(){var e;return gt(this,t),(e=Et(this,vt(t).apply(this,arguments))).info=new xt,e}return wt(t,Object(K["Record"])({total:0,present:0,level:1})),t}());var Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt.SET_PROGRESS:return t.payload?t.payload:Ot;default:return e}},St=function(e){return e&&e.slicer?e.slicer:Ot},jt=function(){return Object(h.a)(St,function(e){return e})},kt=n("fa2ed8a2363df0bb047b"),_t=n.n(kt);function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Rt=regeneratorRuntime.mark(Vt),Lt=regeneratorRuntime.mark(Gt),At=regeneratorRuntime.mark(Wt),Tt=regeneratorRuntime.mark(Zt),Dt=regeneratorRuntime.mark(qt),Pt=regeneratorRuntime.mark(Jt),Nt=regeneratorRuntime.mark(Yt),Mt=regeneratorRuntime.mark(Xt),zt=regeneratorRuntime.mark(Qt),Ft=regeneratorRuntime.mark($t),Ht=jt(),Bt=We(),Ut=512;function Vt(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(K.isImmutable)(e)){t.next=3;break}return t.next=3,Ye.setItem("slideshows",e.toJS());case 3:return t.next=5,Object(Ze.put)(Qe(e));case 5:case"end":return t.stop()}},Rt)}function Gt(e,t,n){var r,a,o,i,c,s,l,u,d,p,f,m,h,b,E;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:r=!0,a=!1,o=void 0,v.prev=3,i=e[Symbol.iterator]();case 5:if(r=(c=i.next()).done){v.next=42;break}s=c.value,l=Object(g.last)(Object(g.last)(s)),u=!0,d=!1,p=void 0,v.prev=11,f=s[Symbol.iterator]();case 13:if(u=(m=f.next()).done){v.next=23;break}return h=It(m.value,2),b=h[0],E=h[1],t=t.set("present",t.present+1).set("level",l),v.next=18,Object(Ze.put)(ft(t));case 18:return v.next=20,Object(Ze.call)([Ye,Ye.setItem],"/"+n+b,E());case 20:u=!0,v.next=13;break;case 23:v.next=29;break;case 25:v.prev=25,v.t0=v.catch(11),d=!0,p=v.t0;case 29:v.prev=29,v.prev=30,u||null==f.return||f.return();case 32:if(v.prev=32,!d){v.next=35;break}throw p;case 35:return v.finish(32);case 36:return v.finish(29);case 37:return v.next=39,Object(Ze.put)(ft(t));case 39:r=!0,v.next=5;break;case 42:v.next=48;break;case 44:v.prev=44,v.t1=v.catch(3),a=!0,o=v.t1;case 48:v.prev=48,v.prev=49,r||null==i.return||i.return();case 51:if(v.prev=51,!a){v.next=54;break}throw o;case 54:return v.finish(51);case 55:return v.finish(48);case 56:case"end":return v.stop()}},Lt,null,[[3,44,48,56],[11,25,29,37],[30,,32,36],[49,,51,55]])}function Wt(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ze.select)(Ht);case 2:return t=(t=n.sent).set("total",e).set("present",0),n.next=6,Object(Ze.put)(ft(t));case 6:return n.abrupt("return",t);case 7:case"end":return n.stop()}},At)}function Zt(e,t){var n,r,a,o,i,c,s,l=arguments;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=!(l.length>2&&void 0!==l[2])||l[2],r=ut(Ut,e.width,Ut,e.height),Ye.setItem("/info/".concat(t,".json"),ct(e,r,t)),!n){u.next=30;break}return u.prev=4,a=Array.from(dt(e,{tileSize:512,scaleFactors:r})),u.next=8,Wt(a.length);case 8:return o=Object(g.pipe)(Object(g.groupBy)(g.last),g.values,Object(g.sort)(function(e){return Object(g.last)(Object(g.last)(e))}),Object(g.splitAt)(2))(a),i=It(o,2),c=i[0],s=i[1],u.t0=Gt,u.t1=s,u.next=13,Object(Ze.select)(Ht);case 13:return u.t2=u.sent,u.t3=t,u.delegateYield((0,u.t0)(u.t1,u.t2,u.t3),"t4",16);case 16:return u.t5=Ze.spawn,u.t6=regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Gt(t,n,r),"t0",1);case 1:return e.next=3,Object(Ze.put)(ft());case 3:case"end":return e.stop()}},e)}),u.t7=c,u.next=21,Object(Ze.select)(Ht);case 21:return u.t8=u.sent,u.t9=t,u.next=25,(0,u.t5)(u.t6,u.t7,u.t8,u.t9);case 25:u.next=30;break;case 27:u.prev=27,u.t10=u.catch(4),console.error(u.t10);case 30:case"end":return u.stop()}},Tt,null,[[4,27]])}function qt(e){var t,n,r,a,o,i,c,s,l,u,d,p,f;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,t=e.payload,(n=new _t.a).file(t.image.file.name,t.image.file),n.file("slideshow.json",JSON.stringify(t)),n.file("_headers","/*\n    Access-Control-Allow-Origin: *"),n.file("index.html",nt),m.next=9,Ye.getItem("/info/".concat(t.image.id,".json"));case 9:return r=m.sent,n.file("info.json",JSON.stringify(r)),a=n.folder("images"),m.next=14,Ye.keys();case 14:return o=m.sent,m.next=17,Object(Ze.all)(o.filter(function(e){return e.startsWith("/".concat(t.image.id))}));case 17:i=m.sent,c=!0,s=!1,l=void 0,m.prev=21,u=i[Symbol.iterator]();case 23:if(c=(d=u.next()).done){m.next=32;break}return p=d.value,m.next=27,Object(Ze.call)([Ye,Ye.getItem],p);case 27:f=m.sent,a.file(p.replace("/".concat(t.image.id),""),f);case 29:c=!0,m.next=23;break;case 32:m.next=38;break;case 34:m.prev=34,m.t0=m.catch(21),s=!0,l=m.t0;case 38:m.prev=38,m.prev=39,c||null==u.return||u.return();case 41:if(m.prev=41,!s){m.next=44;break}throw l;case 44:return m.finish(41);case 45:return m.finish(38);case 46:n.generateAsync({type:"blob"}).then(function(e){return tt()(e,"".concat(t.name,".zip"))}),m.next=53;break;case 49:m.prev=49,m.t1=m.catch(0),console.log("error"),console.error(m.t1);case 53:case"end":return m.stop()}},Dt,null,[[0,49],[21,34,38,46],[39,,41,45]])}function Jt(e){var t,n,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ze.select)(Bt);case 2:return t=a.sent,a.t0=JSON,a.next=6,e.file("slideshow.json").async("string");case 6:return a.t1=a.sent,n=a.t0.parse.call(a.t0,a.t1),t.some(function(e){return e.id===n.id})&&delete n.id,(r=t.find(function(e){return e.name.startsWith(n.name)}))&&(n.name="".concat(r.name," - 2")),a.abrupt("return",new Ne(n));case 12:case"end":return a.stop()}},Pt)}function Yt(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.file("info.json"),n.t0=JSON,n.next=4,Object(Ze.call)([t,t.async],"string");case 4:return n.t1=n.sent,t=n.t0.parse.call(n.t0,n.t1),Ye.setItem("/info/".concat(t["@id"],".json"),t),n.abrupt("return",t);case 8:case"end":return n.stop()}},Nt)}function Xt(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=File,t.next=3,e.file("thumbnail.jpg").async("blob");case 3:return t.t1=t.sent,t.t2=[t.t1],t.t3={type:"image/jpeg"},t.abrupt("return",new t.t0(t.t2,"thumbnail.jpg",t.t3));case 7:case"end":return t.stop()}},Mt)}function Qt(e){var t,n,r,a,o,i,c,s,l,u,d,p,f,m,h,b,g;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return t=new _t.a,E.next=3,t.loadAsync(e.payload);case 3:return n=t.filter(function(e){return e.startsWith("images")&&e.endsWith("jpg")}),E.next=6,Object(Ze.all)([Object(Ze.call)(Yt,t),Object(Ze.call)(Xt,t),Object(Ze.call)(Wt,n.length),Object(Ze.call)(Jt,t)]);case 6:r=E.sent,a=It(r,4),o=a[0],i=a[1],c=a[2],s=(s=a[3]).set("image",new ce(s.image).set("file",i)),l=!0,u=!1,d=void 0,E.prev=16,p=n[Symbol.iterator]();case 18:if(l=(f=p.next()).done){E.next=36;break}return m=f.value,h=m.name,E.t0=File,E.next=24,m.async("blob");case 24:return E.t1=E.sent,E.t2=[E.t1],E.t3={type:"image/jpeg"},b=new E.t0(E.t2,"native.jpg",E.t3),E.next=30,Ye.setItem("/".concat(o["@id"],"/").concat(h.slice(8)),b);case 30:return c=c.set("present",c.present+1).set("level",1),E.next=33,Object(Ze.put)(ft(c));case 33:l=!0,E.next=18;break;case 36:E.next=42;break;case 38:E.prev=38,E.t4=E.catch(16),u=!0,d=E.t4;case 42:E.prev=42,E.prev=43,l||null==p.return||p.return();case 45:if(E.prev=45,!u){E.next=48;break}throw d;case 48:return E.finish(45);case 49:return E.finish(42);case 50:return E.next=52,Object(Ze.select)(Bt);case 52:return g=E.sent,E.next=55,Vt(g.push(s));case 55:return E.next=57,Object(Ze.put)(ft());case 57:case"end":return E.stop()}},zt,null,[[16,38,42,50],[43,,45,49]])}function $t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ze.takeLatest)(pt.EXPORT_START,qt);case 2:return e.next=4,Object(Ze.takeLatest)(pt.IMPORT_SLIDESHOW,Qt);case 4:case"end":return e.stop()}},Ft)}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var en=regeneratorRuntime.mark(ln),tn=regeneratorRuntime.mark(un),nn=regeneratorRuntime.mark(dn),rn=regeneratorRuntime.mark(pn),an=regeneratorRuntime.mark(fn),on=regeneratorRuntime.mark(mn),cn=We(),sn=jt();function ln(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(K.isImmutable)(e)){t.next=3;break}return t.next=3,Ye.setItem("slideshows",e.toJS());case 3:return t.next=5,Object(Ze.put)(Qe(e));case 5:case"end":return t.stop()}},en)}function un(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(Ze.select)(cn);case 3:return n=r.sent,r.next=6,ln(n.push(t.set("id",te()()).set("name","".concat(t.name," - duplicate"))));case 6:case"end":return r.stop()}},tn)}function dn(e,t){var n,r,a,o,i;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Be(e.payload,t);case 3:return n=c.sent,r=Kt(n,2),a=r[0],o=r[1],c.delegateYield(Zt(o,a.image.id,t),"t0",8);case 8:return c.next=10,Object(Ze.select)(cn);case 10:return i=c.sent,c.next=13,ln(i.push(a));case 13:return c.abrupt("return",a);case 16:c.prev=16,c.t1=c.catch(0),console.info("This should not happend"),console.error(c.t1);case 20:case"end":return c.stop()}},nn,null,[[0,16]])}function pn(e){var t,n,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ze.select)(sn);case 2:return t=a.sent,n=t.set("total",500),a.next=6,Object(Ze.put)(ft(n));case 6:return a.next=8,dn(e,!0);case 8:return r=a.sent,a.next=11,Object(Ze.put)(Object(s.push)("/editor/"+r.id));case 11:case"end":return a.stop()}},rn)}function fn(e){var t,n,r,a,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,i.next=3,Object(Ze.call)([Ye,Ye.getItem],"slideshows");case 3:if((n=i.sent).forEach(function(e){return console.log(e.image.id)}),r=t.id,a=t.image.id,n=n.filter(function(e){return e.id!==r}),Ye.setItem("slideshows",n),n.some(function(e){return e.image.id===t.image.id})){i.next=15;break}return i.next=12,Ye.keys();case 12:return o=i.sent,i.next=15,Object(Ze.all)(o.filter(function(e){return e.startsWith("/".concat(a))}).map(function(e){return Object(Ze.call)([Ye,Ye.removeItem],e)}));case 15:return i.next=17,Object(Ze.put)(Ke.success(e));case 17:case"end":return i.stop()}},an)}function mn(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ze.takeLatest)($.CREATE_SLIDESHOW,pn);case 2:return t.next=4,Object(Ze.takeLatest)($.REMOVE_SLIDESHOW,fn);case 4:return t.next=6,Object(Ze.takeLatest)($.SLIDESHOW_DUPLICATE,un);case 6:return t.prev=6,t.next=9,Ye.getItem("slideshows");case 9:return null===(e=t.sent)&&(e=[]),t.next=13,ln(e);case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(6),console.error("Could not retrive slideshows"),console.error(t.t0);case 19:case"end":return t.stop()}},on,null,[[6,15]])}var hn="app.containers.HomePage",bn=Object(m.defineMessages)({header:{id:"".concat(hn,".header"),defaultMessage:"This is the HomePage container!"},chapo:{id:"".concat(hn,".chapo"),defaultMessage:"Tesselle is an image annotation & publication tool. It allows to comment on specific parts of photographs, maps, visualizations, etc. to make precise visual analysis. It also embeds a tiling feature which allows to seamlessly display and navigate very large images on the web. Eventually, Tesselle allows to export your work as a simple folder to upload anywhere on the web."}}),gn=(n("e081bc46499358fd0f25"),n("6643a48240e3ce4e96c0")),En=n("ba6ee886c72d0bb1c2a8"),vn=n("1e92c0da6675aefbf270"),wn=n("d16b3e87513ded4886cf"),yn=n("28dd61a68578ef9b7927"),xn=n("421468d1f321052f0ad7");function On(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Cn=function(e,t){Object(r.useEffect)(function(){t.height?e.fitBounds(new se.LatLngBounds(e.unproject([0,2*t.height],e.getMaxZoom()),e.unproject([2*t.width,0],e.getMaxZoom())),{animate:!0}):e.fitBounds(xe(t),{animate:!0})},[e,t])},Sn=function(e,t){Object(r.useEffect)(function(){e.current&&(t?e.current.leafletElement.editing.enable():e.current.leafletElement.editing.disable())})};var jn=function(e,t){var n=On(Object(r.useState)(),2),a=n[0],o=n[1];return Object(r.useEffect)(function(){var n=window.fetch(e).then(function(e){return e.json()});t&&(n=n.then(t)),n.then(o)},[]),a},kn=Object(m.defineMessages)({header:{id:"".concat("app.components.SlideshowCartouche",".header"),defaultMessage:"This is the SlideshowCartouche component!"}});n("1b104b4ebf37bca69f40");function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var In=function(e){var t=e.children;return r.createElement("span",{style:{marginLeft:".5rem",marginRight:"1rem"}},r.createElement(p.Icon,{isSize:"small"},t))},Rn=function(e){var t,n,a=Object(c.useDispatch)(),o=r.useCallback(function(){return a(Object(s.push)("/editor/".concat(e.slideshow.id)))},[e.slideshow.id]),i=r.useCallback(function(){return a(Object(s.push)("/player/".concat(e.slideshow.id)))},[e.slideshow.id]),l=_n(r.useState(!1),2),u=l[0],f=l[1],h=_n(r.useState(!1),2),b=h[0],g=h[1],E=function(){g(!1)},v=r.useCallback(function(t,n){switch(t){case"delete":return g(!0);case"open":return o();case"read":return i();case"duplicate":return e.onDuplicate(e.slideshow)}},[e.slideshow]),w=(t=e.slideshow.image.file,n=Object(r.useMemo)(function(){return window.URL.createObjectURL(t)},[t]),Object(r.useEffect)(function(){return function(){return window.URL.revokeObjectURL(n)}},[n]),n);return r.createElement(p.Level,{className:"SlideshowCartouche"},r.createElement(p.Column,null,r.createElement(p.Card,{onAction:v,asideActions:[{label:r.createElement("span",null,r.createElement(In,null,r.createElement(gn.FontAwesomeIcon,{icon:En.faPencilAlt})),"edit"),isDisabled:u,isColor:"primary",id:"open"},{label:r.createElement("span",null,r.createElement(In,null,r.createElement(gn.FontAwesomeIcon,{icon:yn.faEye})),"read"),isDisabled:u,id:"read"},{label:r.createElement("span",null,r.createElement(In,null,r.createElement(gn.FontAwesomeIcon,{icon:vn.faCopy})),"duplicate"),isDisabled:u,id:"duplicate"},{label:r.createElement("span",null,r.createElement(In,null,r.createElement(gn.FontAwesomeIcon,{icon:wn.faTrash})),"delete"),isDisabled:u,isColor:"warning",id:"delete"}],bodyContent:r.createElement(d.Link,{to:"/editor/".concat(e.slideshow.id)},r.createElement(p.Columns,null,r.createElement(p.Column,{isSize:"1/4",className:"thumbnail-container",style:{marginRight:"1rem"}},r.createElement("img",{src:w,style:{width:"auto",height:"auto"}})),r.createElement(p.Column,{isSize:"3/4"},r.createElement(p.Title,null,r.createElement("b",null,e.slideshow.name)),r.createElement(p.Content,null,r.createElement("p",{className:"annotations-container"},r.createElement("span",{className:"annotations-number"},e.slideshow.annotations.size)," ","annotation",1===e.slideshow.annotations.size?"":"s")))))},r.createElement(p.Columns,null,r.createElement(p.Column,null,r.createElement(m.FormattedMessage,Object.assign({},kn.header)))))),r.createElement(p.ModalCard,{isActive:b,onClose:E,headerContent:"Deleting a slideshow",mainContent:"Are you sure you want to delete this slideshow ?",footerContent:[r.createElement(p.StretchedLayoutContainer,{style:{width:"100%"},isDirection:"horizontal",key:0},r.createElement(p.StretchedLayoutItem,{isFlex:1},r.createElement(p.Button,{isFullWidth:!0,onClick:function(){f(!0),e.onDelete(e.slideshow),g(!1)},isColor:"danger"},"Delete")),r.createElement(p.StretchedLayoutItem,{isFlex:1},r.createElement(p.Button,{isFullWidth:!0,onClick:E,isColor:"warning"},"Cancel")))]}))};n("9f468a05a14162c70bcf");function Ln(e){return e.slicer&&0===e.slicer.total?a.a.createElement(a.a.Fragment,null):a.a.createElement("div",null,a.a.createElement("progress",{className:"progress is-primary",value:"".concat(e.slicer.present/e.slicer.total*100),max:"100"},100*Math.floor(e.slicer.present/e.slicer.total)))}var An=Object(h.b)({slicer:jt()}),Tn=Object(c.connect)(An,{exportSlideshow:mt,importSlideshow:ht.request}),Dn=Q({key:"slicer",reducer:Ct}),Pn=F({key:"slicer",saga:$t}),Nn=Object(b.compose)(Dn,Pn,Tn),Mn=Nn(Ln),zn=n("cc76f763c4e09ef29989"),Fn=n.n(zn),Hn=n("29af6943dd72dd3f0f6d"),Bn=n.n(Hn),Un=["image/svg+xml","image/jpeg","image/png","image/bmp","image/webp"],Vn=["application/zip"],Gn=[].concat(Un,Vn),Wn=Object(g.propSatisfies)(Object(g.includes)(g.__,Un),"type"),Zn=Object(g.propSatisfies)(Object(g.includes)(g.__,Vn),"type");var qn=Object(h.b)({slideshows:We()}),Jn=Object(c.connect)(qn,{createSlideshow:$e.request,duplicateSlideshow:function(e){return Object(Xe.action)($.SLIDESHOW_DUPLICATE,e)},importSlideshow:ht.request}),Yn=Q({key:"homePage",reducer:Ve}),Xn=F({key:"homePage",saga:mn}),Qn=Object(b.compose)(Nn,Yn,Xn,Jn)(function(e){var t=Object(c.useDispatch)(),n=Object(r.useCallback)(function(t){var n=Object(g.head)(t);return Wn(n)?e.createSlideshow(n):Zn(n)?e.importSlideshow(n):void 0},[e.createSlideshow,e.importSlideshow]),o=Object(r.useCallback)(Object(g.pipe)(Ke.request,t),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.Container,{className:"home-container"},a.a.createElement(f.Helmet,null,a.a.createElement("title",null,"Tesselle"),a.a.createElement("meta",{name:"description",content:"An image annotation and publishing tool"})),a.a.createElement(p.Columns,null,a.a.createElement(p.Column,{isSize:"1/3"},a.a.createElement(p.Content,null,a.a.createElement(p.Title,{isSize:1},"Tesselle"),a.a.createElement("p",null,a.a.createElement(m.FormattedMessage,Object.assign({},bn.chapo)))),0===e.slicer.total?a.a.createElement(p.DropZone,{accept:Gn,onDrop:n},e.loading?"Loading...":"Drop an image file (.jpg, .png, or .svg) or a tesselle project (.zip)"):a.a.createElement(Ln,Object.assign({},e))),a.a.createElement(p.Column,{isSize:"2/3",className:"cards-column"},a.a.createElement("div",{className:"list-projects__container"},a.a.createElement("h4",{className:"list-projects__title title is-2"},"Your documents"),a.a.createElement("ul",{className:"cards-container"},e.slideshows.map(function(t){return a.a.createElement("li",{className:"card-wrapper",key:t.id},a.a.createElement(Rn,{onDelete:o,slideshow:t,onDuplicate:e.duplicateSlideshow}))})))))),a.a.createElement(p.Footer,{id:"footer"},a.a.createElement(p.Container,null,a.a.createElement(p.Columns,null,a.a.createElement(p.Column,{isSize:"1/3"},a.a.createElement("div",null,a.a.createElement("a",{target:"blank",href:"http://controverses.org/"},a.a.createElement("img",{className:"logo-img",src:Bn.a})),a.a.createElement("a",{target:"blank",href:"https://medialab.sciencespo.fr"},a.a.createElement("img",{className:"logo-img",src:Fn.a})))),a.a.createElement(p.Column,{isSize:"2/3",className:"about-column"},a.a.createElement(p.Content,{style:{paddingLeft:"1rem"},isSize:"small"},a.a.createElement("p",null,"Provided by the ",a.a.createElement("a",{target:"blank",href:"http://controverses.org/"},"FORCCAST")," program, fostering pedagogical innovations in controversy mapping."),a.a.createElement("p",null,"Made at the ",a.a.createElement("a",{target:"blank",href:"http://medialab.sciencespo.fr/"},"m\xe9dialab SciencesPo"),", a research laboratory that connects social sciences with inventive methods."),a.a.createElement("p",null,"The source code of Tesselle is licensed under free software license ",a.a.createElement("a",{target:"blank",href:"http://www.gnu.org/licenses/agpl-3.0.html"},"AGPL v3")," and is hosted on ",a.a.createElement("a",{target:"blank",href:"https://github.com/medialab/tesselle/"},"Github"),".")))))))}),$n=n("2f81fe237cff4b1ceb95"),Kn=n("bc8430cd73a0376eedfe"),er=n("4b503b4982128a0cb856"),tr=n("051ed348cf16ded10853"),nr=n.n(tr),rr=n("eee9a5d5a7404d3c0293"),ar=n.n(rr),or=n("7b1d6ef55c12f5ddfe2a"),ir=n.n(or),cr=n("65487e27ba6ae8e8f9c5"),sr=n.n(cr),lr=n("6a95e2c254c73be60618"),ur=n.n(lr),dr=n("622ec8036aaf28780be2"),pr=n.n(dr),fr=n("dcda6ef0b88628a2b364"),mr=n.n(fr),hr=n("1d1992de665ce089503e"),br=n.n(hr),gr=n("6034ec4c48cf13fdf8f7"),Er=n.n(gr),vr=n("9ff90a0cc5204b4629a4"),wr=n.n(vr),yr={anchorEllipse:{white:ir.a,black:sr.a},anchorPolygon:{white:ur.a,black:pr.a},anchorRectangle:{white:mr.a,black:br.a},select:{white:Er.a,black:wr.a}},xr=(n("64dac7de12fb65a47bbf"),function(e){var t=[{icon:yr.select,tool:"selector",event:e.onSelectClick,helpMessage:"select (shortcut: escape)"},{icon:yr.anchorRectangle,tool:"rectangle",event:e.onRectangleClick,helpMessage:"rectangle (shortcut: r)"},{icon:yr.anchorEllipse,tool:"circle",event:e.onCircleClick,helpMessage:"circle (shortcut: c)"},{icon:yr.anchorPolygon,tool:"polygon",event:e.onPolygonClick,helpMessage:"polygon (shortcut: p)"}];return r.createElement(nr.a,{position:"bottomright"},r.createElement("div",{className:"buttons-container"},t.map(function(t){var n=t.icon,a=t.tool,o=t.event,i=t.helpMessage;return r.createElement(p.Button,{onClick:o,key:a,"data-tip":i,"data-for":"tool-tooltip",isColor:a===e.activeButton?"primary":"",style:{marginBottom:".5rem"},isRounded:!0},r.createElement(p.Icon,{isSize:"medium",isAlign:"left"},r.createElement("img",{src:n[a===e.activeButton?"white":"black"]})))})),r.createElement(ar.a,{id:"tool-tooltip",place:"left",effect:"solid"}))}),Or=n("78069eb42d60e3550082"),Cr=n("92ea29a0324dc2b17b83"),Sr=n("b912ecc4473ae8a2ff0b"),jr=n.n(Sr),kr=n("0c162607d512e05180f3"),_r=n("d1d62a0cf46d05aa2d40"),Ir=n("c0db3ee9a00da1fc5dd8"),Rr=n("55695ecc07069e5266f8"),Lr=n.n(Rr),Ar=(n("24e2ac89b53a62ce0fe1"),Object(m.defineMessages)({annotationPlaceholder:{id:"".concat("app.components.Sidebar",".annotationPlaceholder"),defaultMessage:"Write an annotation about this image part"}})),Tr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Dr=function(e){var t=e.field,n=e.form,o=n.touched,i=n.errors,c=Tr(e,["field","form"]),s=Object(r.useRef)(null);return Object(r.useEffect)(function(){c.selected&&s.current.focus()},[c.selected]),a.a.createElement("div",null,a.a.createElement(m.FormattedMessage,Object.assign({},Ar.annotationPlaceholder),function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(kr.a,Object.assign({inputRef:s,autoFocus:c.selected},t,c,{placeholder:e})),o[t.name]&&i[t.name]&&a.a.createElement("div",{className:"error"},i[t.name]))}))},Pr=function(e){return!e.content&&e.content.length,{}},Nr=a.a.forwardRef(function(e,t){var n=a.a.useCallback(function(t){t.stopPropagation(),e.onClick(e.data)},[e.onClick,e.data]),o=Object(r.useCallback)(function(t){t.content!==e.data.properties.content&&e.onChange(e.data,e.data.set("properties",e.data.properties.set("content",t.content)))},[e.data,e.onChange]),i=Object(r.useCallback)(function(t){se.DomEvent.preventDefault(t),e.onRemove(e.data)},[e.data,e.onRemove]),c=e.minified?a.a.Fragment:p.Box;return a.a.createElement("div",Object.assign({className:jr()({"sidebar--menu-item sidebar--spacing":!0,"sidebar--menu-item__selected":e.selected,"sidebar--menu-item__minified":e.minified}),ref:t},e.draggableProps,{onClick:n}),a.a.createElement(c,null,a.a.createElement(p.StretchedLayoutContainer,{isDirection:"horizontal"},a.a.createElement(p.StretchedLayoutItem,{style:{paddingRight:"1rem"},isFlex:1},a.a.createElement(Cr.Formik,{initialValues:Object(r.useMemo)(function(){return e.data.properties.toJS()},[e.data.properties]),onSubmit:o,validate:Pr},function(t){return a.a.createElement(Cr.Form,null,a.a.createElement(Cr.Field,{minRows:1,maxRows:5,selected:e.selected,onBlur:function(e){t.handleBlur(e),t.submitForm()},className:jr()("textarea","sidebar--item-field",{"sidebar--item-field--selected":e.selected,"sidebar--item-field--minified":e.minified}),name:"content",component:Dr}))})),a.a.createElement(p.StretchedLayoutItem,null,a.a.createElement(p.StretchedLayoutContainer,{isDirection:"horizontal"},a.a.createElement(p.Button,{onClick:i,style:{marginBottom:".5rem"},"data-for":"card-action","data-tip":"delete this annotation"},a.a.createElement(p.Icon,{isSize:"small",isAlign:"left"},a.a.createElement("img",{src:Lr.a.remove.black.svg}))),e.dragHandleProps&&a.a.createElement("div",Object.assign({},e.dragHandleProps),a.a.createElement("div",{className:"button is-lock-status-open",style:{marginBottom:".5rem"},"data-for":"card-action","data-tip":"drag to change annotation order"},a.a.createElement(p.Icon,{isSize:"small",isAlign:"left"},a.a.createElement("img",{src:Lr.a.move.black.svg})))))))))}),Mr=function(e){var t=Object(r.useCallback)(function(t){var n,r,a,o;t.destination&&e.onOrderChange((n=e.slideshow.annotations,r=t.source.index,a=t.destination.index,(o=n.get(r))?n.splice(r,1).splice(a,0,o):n))},[]);return a.a.createElement(Or.DragDropContext,{onDragEnd:t},a.a.createElement(Or.Droppable,{droppableId:"droppable"},function(t){return a.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef}),e.slideshow.annotations.map(function(t,n){return a.a.createElement(Or.Draggable,{key:t.properties.id,draggableId:t.properties.id,index:n},function(n){return a.a.createElement(Nr,{onChange:e.onAnnotationChange,onClick:e.onAnnotationClick,onRemove:e.onRemove,ref:n.innerRef,draggableProps:n.draggableProps,dragHandleProps:n.dragHandleProps,data:t,selected:e.selectedAnnotations.includes(t)})})}),t.placeholder)}))},zr=function(e){return a.a.createElement("div",{className:"sidebar--header-container sidebar--spacing"},a.a.createElement(p.Title,{isSize:5},a.a.createElement(d.Link,{to:"/"},a.a.createElement("b",null,"Tesselle"))),a.a.createElement("span",{className:"minify-toggle",onClick:e.onButtonClick},a.a.createElement(p.Icon,null,e.visible?a.a.createElement(gn.FontAwesomeIcon,{icon:_r.faMinusSquare}):a.a.createElement(gn.FontAwesomeIcon,{icon:Ir.faPlusSquare}))))},Fr=function(e){return a.a.createElement(Cr.Formik,{initialValues:e,onSubmit:e.onChange},function(e){return a.a.createElement(Cr.Form,null,a.a.createElement(Cr.Field,{className:"input__invisible input",onBlur:function(t){e.handleBlur(t),e.submitForm()},name:"title"}))})},Hr=function(e){var t=Object(c.useDispatch)(),n=Object(r.useCallback)(function(){return t(mt.request(e.slideshow))},[t,e.slideshow]),o=Object(r.useCallback)(function(t){return t.stopPropagation(),e.onAnnotationClick()},[]),i=Object(r.useCallback)(function(t){return e.onNameChange(e.slideshow.set("name",t.title))},[e.slideshow]),s=e.selectedAnnotations.first();return a.a.createElement("div",{className:jr()({sidebar:!0,visible:e.visible,hidden:!e.visible})},a.a.createElement(zr,{onButtonClick:e.visible?e.onClose:e.onOpen,visible:e.visible}),a.a.createElement("div",{className:"sidebar--wrapper"},e.visible&&a.a.createElement(Fr,{title:e.slideshow.name,onChange:i}),a.a.createElement(Mn,null),a.a.createElement("div",{onClick:o,className:"sidebar--container"},e.visible?a.a.createElement(Mr,Object.assign({},e)):s?a.a.createElement(Nr,{onChange:e.onAnnotationChange,onClick:e.onAnnotationClick,onRemove:e.onRemove,data:s,selected:!!s,minified:void 0!==e.visible}):a.a.createElement("span",{className:"sidebar--minified-placeholder"},"select or create an annotation"))),a.a.createElement("footer",{className:"sidebar--footer-container sidebar--spacing"},a.a.createElement(p.StretchedLayoutContainer,{isDirection:"horizontal",style:{width:"100%"}},a.a.createElement(p.StretchedLayoutItem,{isFlex:1},a.a.createElement(d.Link,{to:"/player/".concat(e.slideshow.id),className:"button is-fullwidth is-primary"},"Preview")),a.a.createElement(p.StretchedLayoutItem,{isFlex:1},a.a.createElement(p.StretchedLayoutContainer,{isDirection:"horizontal"},a.a.createElement(p.StretchedLayoutItem,{isFlex:1},a.a.createElement(p.Button,{onClick:n,isFullWidth:!0,isColor:"info",disabled:!e.slideshow.annotations.size},"Download \u2193")),a.a.createElement(p.StretchedLayoutItem,null,a.a.createElement(p.Button,{isColor:"info"},"?")))))))},Br=n("7405c1b7e17104032f85"),Ur=n("71fe54f7c370c768d3d7"),Vr=(n("900f2aad7b7accbbe90d"),n("77cdcf6d92804c8937e7")),Gr=n("92e6c4ceeedd014a9ad5");function Wr(e){return(Wr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t){return!t||"object"!==Wr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jr(e,t,n){return(Jr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yr(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qr={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"},$r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=qr(this,Yr(t).apply(this,arguments))).onDrawCreate=function(t){var n=e.props.onCreated;n&&(e.props.leaflet&&e.props.leaflet.layerContainer&&n(t))},e}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(t,Gr["a"]),n=t,(r=[{key:"createLeafletElement",value:function(e){return Kr(e)}},{key:"componentDidMount",value:function(){if(Jr(Yr(t.prototype),"componentDidMount",this)&&Jr(Yr(t.prototype),"componentDidMount",this).call(this),this.props.leaflet){var e=this.props.leaflet.map,n=this.props.onMounted;if(e){for(var r in Qr)this.props[r]&&e.on(Qr[r],this.props[r]);e.on(le.a.Draw.Event.CREATED,this.onDrawCreate),n&&n(this.props.leaflet.layerContainer)}}}},{key:"componentWillUnmount",value:function(){if(Jr(Yr(t.prototype),"componentWillUnmount",this)&&Jr(Yr(t.prototype),"componentWillUnmount",this).call(this),this.props.leaflet){var e=this.props.leaflet.map;if(e)for(var n in e.off(le.a.Draw.Event.CREATED,this.onDrawCreate),Qr)this.props[n]&&e.off(Qr[n],this.props[n])}}},{key:"componentDidUpdate",value:function(e,n){if(Jr(Yr(t.prototype),"componentDidUpdate",this)&&Jr(Yr(t.prototype),"componentDidUpdate",this).call(this,e,n),this.props.leaflet&&this.props.leaflet.map){for(var r in Qr)e[r]!==this.props[r]&&(this.props.leaflet.map.off(Qr[r],e[r]),this.props.leaflet.map.on(Qr[r],this.props[r]));if(Object(Vr.a)(this.props.draw,e.draw)||this.props.position!==e.position)return!1;this.leafletElement.remove(),this.leafletElement=Kr(this.props),this.leafletElement.addTo(this.props.leaflet.map)}return null}}])&&Zr(n.prototype,r),a&&Zr(n,a),t}();function Kr(e){var t=e.leaflet.layerContainer,n=e.draw,r=e.edit,a=e.position,o={edit:Object.assign({},r,{featureGroup:t})};return n&&(o.draw=Object.assign({},n)),a&&(o.position=a),new se.Control.Draw(o)}var ea,ta=Object($n.d)($r),na=(n("a4bdf3e5032d230f45cd"),n("84750c66bab2128a0ec5")),ra=n("e40000278404232776b0"),aa=function(e){var t=e.annotation,n=e.selected,o=Object(r.useRef)(null),i=Object(r.useMemo)(function(){return ye(t.geometry.coordinates,"Polygon"===t.geometry.type?1:2).toJS()},[n]);return Sn(o,e.editable&&n),a.a.createElement(na.a,Object.assign({key:e.className,ref:o},e,{positions:i,editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&a.a.createElement(ra.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))},oa=n("e71336624e460c019bdb"),ia=function(e){var t=e.annotation,n=e.selected,o=Object(r.useMemo)(function(){return we(t.geometry.coordinates)},[t.geometry.coordinates]),i=Object(r.useRef)(null);return Sn(i,e.editable&&n),a.a.createElement(oa.a,Object.assign({key:e.className,ref:i},e,{center:o,radius:t.properties.radius,editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&a.a.createElement(ra.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))};!function(e){e.DEFAULT_ACTION="app/Editor/DEFAULT_ACTION",e.CREATE_ANNOTATION="app/Editor/CREATE_ANNOTATION",e.REMOVE_ANNOTATION="app/Editor/REMOVE_ANNOTATION",e.EDIT_ANNOTATION="app/Editor/EDIT_ANNOTATION",e.CHANGE_ORDER="app/Editor/CHANGE_ORDER",e.EDIT_SLIDESHOW="app/Editor/EDIT_SLIDESHOW",e.CHANGE_SELECTED_ANNOTATION="app/Editor/CHANGE_SELECTED_ANNOTATION"}(ea||(ea={}));var ca=ea,sa=Object(Xe.createAction)(ca.CREATE_ANNOTATION,function(e){return function(t){return e(t)}}),la=Object(Xe.createAction)(ca.REMOVE_ANNOTATION,function(e){return function(t){return e(t)}}),ua=Object(Xe.createAction)(ca.EDIT_ANNOTATION,function(e){return function(t,n){return e({annotation:t,editedFeature:n})}}),da=Object(Xe.createAction)(ca.CHANGE_ORDER,function(e){return function(t){return e(t)}}),pa=Object(Xe.createAction)(ca.CHANGE_SELECTED_ANNOTATION,function(e){return function(t,n){return e(t,n)}}),fa=Object(Xe.createAction)(ca.EDIT_SLIDESHOW,function(e){return function(t){return e(t)}}),ma=n("c056c018ed67cc493b37"),ha=(n("2cd43a1b9fb52d2cee96"),function(e){var t=e.annotation,n=e.selected,o=Object(r.useMemo)(function(){return ye(t.geometry.coordinates,1).toJS()},[t.geometry.coordinates]),i=Object(r.useRef)(null);return Sn(i,e.editable&&n),a.a.createElement(ma.a,Object.assign({key:e.className,ref:i},e,{bounds:o,editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&a.a.createElement(ra.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))}),ba=function(e){var t=e.annotation,n=e.onClick,o=Object(r.useCallback)(function(e){return se.DomEvent.stopPropagation(e),n&&n(t)},[n,t]);switch(t.geometry.type){case"Point":return a.a.createElement(ia,Object.assign({},e,{onClick:o}));case"Polygon":case"MultiPolygon":return"rectangle"===t.properties.type?a.a.createElement(ha,Object.assign({},e,{onClick:o})):a.a.createElement(aa,Object.assign({},e,{onClick:o}))}return a.a.createElement(a.a.Fragment,null)},ga=Object($n.d)(function(e){var t=e.leaflet.map,n=Object(c.useDispatch)(),o=Object(r.useRef)(null),i=Object(r.useCallback)(function(){e.selectedAnnotations&&o.current&&e.onCreated&&o.current.leafletElement.getLayers().forEach(function(t){var r=e.selectedAnnotations.find(function(e){return e.properties.id===t.options.properties.id});if(r){var a=t.toGeoJSON();return"circle"===r.properties.type&&n(ua(r,r.set("geometry",ve(a.geometry)).setIn(["properties","radius"],t.getRadius()))),n(ua(r,ve(a).set("properties",r.properties)))}})},[e.selectedAnnotations,e.onCreated,o.current]),s=Object(r.useCallback)(function(n){if("circle"===n.layerType){var r=n.layer.toGeoJSON();return r.properties.radius=n.layer.getRadius(),n.layer.remove(t),e.onCreated(r)}var a=n.layer.toGeoJSON();return a.properties.type=n.layerType,n.layer.remove(t),e.onCreated(a)},[]);return a.a.createElement(Br.a,null,a.a.createElement(Ur.a,{ref:o},e.editable&&a.a.createElement(ta,{position:"topright",onEdited:i,onCreated:s,onEditMove:i,onEditResize:i,onEditVertex:i,edit:{edit:!1,remove:!1},draw:{circlemarker:!1,marker:!1,polyline:!1,circle:!1,rectangle:!1,polygon:!1}}),e.data.map(function(t){var n=e.selectedAnnotations.contains(t);return a.a.createElement(ba,{className:"annotation-shape ".concat(n&&"annotation-shape__editing"),key:t.properties.id,color:n?"black":"white",weight:1.5,editable:e.editable,lineCap:"butt",onClick:e.onLayerClick,annotation:t,selected:n})})))}),Ea=(n("66a1c366ea57fb65bda8"),{slideshow:null,selectedAnnotations:Object(K.List)()}),va=function(e){return Object(g.when)(e.payload.annotation.equals.bind(e.payload.annotation),function(t){return t.merge(Object(K.isImmutable)(e.payload.editedFeature)?e.payload.editedFeature:ve(e.payload.editedFeature))})},wa=Object(b.combineReducers)({selectedAnnotations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea.selectedAnnotations,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ca.CHANGE_SELECTED_ANNOTATION:if(t.payload){if(t.payload instanceof K.List)return t.payload;var n=t.payload;return e.contains(n)?e.remove(e.indexOf(n)):Object(K.List)([n])}return Ea.selectedAnnotations;case ca.EDIT_ANNOTATION:return e.map(va(t));case ca.REMOVE_ANNOTATION:return e.remove(e.indexOf(t.payload))}return e},slideshow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea.slideshow,t=arguments.length>1?arguments[1]:void 0;if(e)switch(t.type){case $.LOAD_SLIDESHOWS:return Ea.slideshow;case ca.CHANGE_ORDER:return e.set("annotations",t.payload);case ca.CREATE_ANNOTATION:return e.set("annotations",e.annotations.push(ve(t.payload)));case ca.EDIT_ANNOTATION:return e.set("annotations",e.annotations.map(va(t)));case ca.REMOVE_ANNOTATION:return e.set("annotations",e.annotations.remove(e.annotations.indexOf(t.payload)))}switch(t.type){case ca.EDIT_SLIDESHOW:return Object(K.isImmutable)(t.payload)?t.payload:new Ne({id:t.payload.id,name:t.payload.name,image:new ce(t.payload.image),annotations:t.payload.annotations.map(ve)})}return e}}),ya=function(e){return e&&e.editor?e.editor:Ea},xa=function(){return Object(h.a)(ya,function(e){return e&&e.slideshow})},Oa=Object(h.a)(ya,function(e){return e.selectedAnnotations}),Ca=regeneratorRuntime.mark(_a),Sa=regeneratorRuntime.mark(Ia),ja=regeneratorRuntime.mark(Ra),ka=xa();function _a(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(K.isImmutable)(e)){t.next=3;break}return t.next=3,Ye.setItem("slideshow",e.toJS());case 3:return t.next=5,Object(Ze.put)(fa(e));case 5:case"end":return t.stop()}},Ca)}function Ia(e){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ze.select)(ka);case 2:if(t=e.sent,!Object(K.isImmutable)(t)){e.next=9;break}return e.next=6,Ye.getItem("slideshows");case 6:return n=e.sent,e.next=9,Ye.setItem("slideshows",n.map(Object(g.when)(function(e){return e.id===t.id},function(e){return t.toJS()})));case 9:case"end":return e.stop()}},Sa)}function Ra(e){var t,n,r,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.match.params.id,o.next=3,Object(Ze.takeLatest)(ca.CREATE_ANNOTATION,Ia);case 3:return o.next=5,Object(Ze.takeLatest)(ca.REMOVE_ANNOTATION,Ia);case 5:return o.next=7,Object(Ze.takeLatest)(ca.EDIT_ANNOTATION,Ia);case 7:return o.next=9,Object(Ze.takeLatest)(ca.CHANGE_ORDER,Ia);case 9:return o.next=11,Object(Ze.takeLatest)(ca.EDIT_SLIDESHOW,Ia);case 11:return o.prev=11,o.next=14,Object(Ze.select)(ka);case 14:if(!(n=o.sent)||n.id!==t){o.next=17;break}return o.abrupt("return");case 17:return o.next=19,Ye.getItem("slideshows");case 19:if(r=o.sent,!(a=r.find(function(e){return e.id===t}))){o.next=24;break}return o.next=24,_a(a);case 24:o.next=29;break;case 26:o.prev=26,o.t0=o.catch(11),console.error(o.t0);case 29:case"end":return o.stop()}},ja,null,[[11,26]])}var La=n("59060a782db56111824b");function Aa(e){return(Aa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ta(e){return Math.ceil(Math.log(e)/Math.LN2)}var Da=le.a.TileLayer.extend({options:{continuousWorld:!0,tileSize:512,updateWhenIdle:!0,tileFormat:"jpg",fitBounds:!0,setMaxBounds:!1},x:0,y:0,_levels:{},_tyles:{},_baseUrl:"",initialize:function(e){var t=this;e.maxZoom&&(this._customMaxZoom=!0),e.tileSize&&(this._explicitTileSize=!0),e.quality&&(this._explicitQuality=!0),e=le.a.setOptions(this,e),this._infoDeferred=this._getInfo().then(function(e){return t.onInfo(e)})},onInfo:function(e){this.y=e.height,this.x=e.width;var t,n,r,a,o,i=[],c=[];this.profile=e.profile instanceof Array?this.profile=e.profile[0]:this.profile=e.profile,this._setQuality(),this._explicitTileSize||(this.options.tileSize=512,e.tiles?this.options.tileSize=e.tiles[0].width:e.tile_width&&(this.options.tileSize=e.tile_width)),this.maxNativeZoom=Math.max(Ta(this.x/this.options.tileSize),Ta(this.y/this.options.tileSize)),this.options.maxNativeZoom=this.maxNativeZoom,this.maxZoom=this._customMaxZoom&&this.options.maxZoom>this.maxNativeZoom?this.options.maxZoom:this.maxNativeZoom;for(var s=0;s<=this.maxZoom;s++)t=Math.pow(2,this.maxNativeZoom-s),n=Math.ceil(this.x/t),r=Math.ceil(this.y/t),a=Math.ceil(n/this.options.tileSize),o=Math.ceil(r/this.options.tileSize),i.push([a,o]),c.push(le.a.point(n,r));this._tierSizes=i,this._imageSizes=c},getTileUrl:function(e){var t=e.x,n=e.y,r=this._getZoomForUrl(),a=Math.pow(2,this.maxNativeZoom-r),o=this.options.tileSize*a,i=t*o,c=n*o,s=Math.min(i+o,this.x)-i,l=Math.min(c+o,this.y)-c,u=Math.ceil(s/a),d={format:this.options.tileFormat,quality:this.quality,region:[i,c,s,l].join(","),rotation:0,size:u+","};return le.a.Util.template(this._baseUrl,Object.assign({},d,this.options))},onAdd:function(e){var t=this;this._infoDeferred.then(function(){t._imageSizesOriginal=t._imageSizes.slice(0),e._layersMaxZoom=t.maxZoom;for(var n=t._imageSizes[0],r=0,a=t._map.getSize(),o=1;o<=5&&(n.x>a.x||n.y>a.y);o++)n=n.divideBy(2),t._imageSizes.unshift(n),r=-o;t.options.minZoom=r,t.options.minNativeZoom=r,t._prev_map_layersMinZoom=t._map._layersMinZoom,t._map._layersMinZoom=r,le.a.TileLayer.prototype.onAdd.call(t,e),t.options.fitBounds&&t._fitBounds(),t.options.setMaxBounds&&t._setMaxBounds(),t.on("tileload",function(e,t){var n=e.tile.naturalHeight,r=e.tile.naturalWidth;512===n&&512===r||(e.tile.style.width=r+"px",e.tile.style.height=n+"px")})})},onRemove:function(e){e._layersMinZoom=this._prev_map_layersMinZoom,this._imageSizes=this._imageSizesOriginal,this.options.setMaxBounds&&e.setMaxBounds(null)},_fitBounds:function(){var e=this._getInitialZoom(this._map.getSize()),t=this._imageSizes.length-1-this.options.maxNativeZoom,n=this._imageSizes[e+t],r=this._map.options.crs.pointToLatLng(le.a.point(0,n.y),e),a=this._map.options.crs.pointToLatLng(le.a.point(n.x,0),e),o=le.a.latLngBounds(r,a);this._map.fitBounds(o,!0)},_setMaxBounds:function(){var e=this._getInitialZoom(this._map.getSize()),t=this._imageSizes[e],n=this._map.options.crs.pointToLatLng(le.a.point(0,t.y),e),r=this._map.options.crs.pointToLatLng(le.a.point(t.x,0),e),a=le.a.latLngBounds(n,r);this._map.setMaxBounds(a,!0)},_setQuality:function(){var e=this.profile;this._explicitQuality||("object"===Aa(e)&&(e=e["@id"]),this.options.quality="native")},_isValidTile:function(e){var t=this._getZoomForUrl(),n=this._tierSizes[t],r=e.x,a=e.y;return t<0&&r>=0&&a>=0||!!n&&!(r<0||n[0]<=r||a<0||n[1]<=a)},_getInitialZoom:function(e){for(var t,n=this._imageSizes.length-1-this.options.maxNativeZoom,r=this._imageSizes.length-1;r>=0;r--)if(.8*(t=this._imageSizes[r]).x<e.x&&.8*t.y<e.y)return r-n;return 2}}),Pa=Da.extend({initialize:function(e){this._infoUrl=e.url,this._baseUrl=this._templateUrl(),Da.prototype.initialize.call(this,e)},_getInfo:function(){return fetch("".concat(this._infoUrl)).then(function(e){return e.json()})},_setQuality:function(){switch(Da.prototype._setQuality.call(this),!0){case/^http:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html.*$/.test(this.profile):this.options.quality="native";break;default:this.options.quality="default"}},_infoToBaseUrl:function(){return this._infoUrl.replace("info.json","")},_templateUrl:function(){return this._infoToBaseUrl()+"images/{region}/{size}/{rotation}/{quality}.{format}"}}),Na=function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function c(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,c)}s((r=r.apply(e,t||[])).next())})},Ma=Da.extend({_baseUrl:"/{id}/{region}/{size}/{rotation}/{quality}.{format}",urls:new Map,createTile:function(e,t){var n=this,r=document.createElement("img");se.DomEvent.on(r,"load",se.Util.bind(this._tileOnLoad,this,t,r)),se.DomEvent.on(r,"error",se.Util.bind(this._tileOnError,this,t,r)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r.alt="",r.setAttribute("role","presentation");var a=this.getTileUrl(e);return Ye.getItem(a).then(function(e){e?(n.urls.has(a)||n.urls.set(a,window.URL.createObjectURL(e)),r.src=n.urls.get(a),r.onload=function(){t(null,r)}):(console.log("\ud83d\udd25",a,"\ud83d\udd25"),t(new Error("not in memory: "+a)))}),r},onRemove:function(e){this.urls.forEach(window.URL.revokeObjectURL),this.urls.clear(),Da.prototype.onRemove.call(this,e)},_getInfo:function(){return Na(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye.getItem("/info/".concat(this.options.id,".json"));case 3:if(null!==(t=e.sent)){e.next=6;break}throw new Error("info.json is null");case 6:return e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}))}});function za(e){return(za="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t,n){return t&&Ha(e.prototype,t),n&&Ha(e,n),e}function Ua(e,t){return!t||"object"!==za(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Va(e,t,n){return(Va="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ga(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Ga(e){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}function Za(e,t){return(Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qa=Object($n.d)(function(e){function t(){return Fa(this,t),Ua(this,Ga(t).apply(this,arguments))}return Wa(t,La["a"]),Ba(t,[{key:"createLeafletElement",value:function(e){return new Pa(this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,n){Va(Ga(t.prototype),"updateLeafletElement",this).call(this,e,n),n.url!==e.url&&n.leafletElement.setUrl(n.url)}}]),t}()),Ja=Object($n.d)(function(e){function t(){return Fa(this,t),Ua(this,Ga(t).apply(this,arguments))}return Wa(t,La["a"]),Ba(t,[{key:"createLeafletElement",value:function(e){return new Ma(this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,n){Va(Ga(t.prototype),"updateLeafletElement",this).call(this,e,n)}}]),t}());function Ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Xa,Qa=Object(h.b)({slideshow:xa(),selectedAnnotations:Oa}),$a=Object(c.connect)(Qa,{createAnnotation:sa,changeSelection:pa}),Ka=Q({key:"editor",reducer:wa}),eo=F({key:"editor",saga:Ra}),to=Object(b.compose)(Ka,eo,$a),no=function(e){Xa&&Xa.disable(),Xa=e,e&&e.enable()},ro=Object($n.d)(function(e){var t=e.slideshow,n=e.setTool,o=e.tool,i=e.leaflet.map;Cn(i,e.slideshow.image);var c=Object(r.useCallback)(function(){no(),n("selector")},[]),s=Object(r.useCallback)(function(){n("rectangle")},[i]),l=Object(r.useCallback)(function(){n("circle")},[i]),u=Object(r.useCallback)(function(){n("polygon")},[i]);Object(r.useEffect)(function(){if("selector"!==o)switch(o){case"rectangle":return no(new le.a.Draw.Rectangle(i));case"circle":return no(new le.a.Draw.Circle(i));case"polygon":case"polyline":return no(new le.a.Draw.Polygon(i))}}),Object(xn.a)("p",u),Object(xn.a)("r",s),Object(xn.a)("c",l),Object(xn.a)("esc",c);var d=Object(r.useCallback)(function(t){"selector"===o&&e.changeSelection(t)},[e.changeSelection,o]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(ga,{editable:!0,onLayerClick:d,onCreated:e.createAnnotation,data:t.annotations,selectedAnnotations:e.selectedAnnotations}),a.a.createElement(Ja,{tileSize:512,id:e.slideshow.image.id}),a.a.createElement(xr,{onSelectClick:c,activeButton:o,onCircleClick:l,onRectangleClick:s,onPolygonClick:u}))}),ao=Object(r.memo)(function(e){var t=Ya(Object(r.useState)("selector"),2),n=t[0],o=t[1],i=Object(c.useDispatch)(),s=Object(r.useCallback)(function(){"selector"===n&&e.changeSelection()},[]),l=Ya(Object(r.useState)(!0),2),u=l[0],d=l[1],p=Object(r.useCallback)(function(){return d(!1)},[]),f=Object(r.useCallback)(function(){return d(!0)},[]),m=Object(r.useCallback)(Object(g.pipe)(fa,i),[]),h=Object(r.useCallback)(Object(g.pipe)(la,i),[]),b=Object(r.useCallback)(function(t){if(!e.selectedAnnotations.includes(t))return o("selector"),no(),e.changeSelection(t)},[e.selectedAnnotations]),E=Object(r.useCallback)(Object(g.pipe)(ua,i),[]),v=Object(r.useCallback)(Object(g.pipe)(da,i),[]);return a.a.createElement("div",{className:"map"},a.a.createElement(Hr,{onAnnotationClick:b,onAnnotationChange:E,onOrderChange:v,slideshow:e.slideshow,selectedAnnotations:e.selectedAnnotations,visible:u,onClose:p,onRemove:h,onOpen:f,onNameChange:m}),a.a.createElement(Kn.a,{onClick:s,boxZoom:!1,setTool:o,doubleClickZoom:!1,zoomControl:!1,crs:le.a.CRS.Simple,minZoom:1,maxZoom:20},a.a.createElement(er.a,{position:"topright"}),a.a.createElement(ro,Object.assign({},e,{setTool:o,tool:n}))))}),oo=to(function(e){return e.slideshow?a.a.createElement(ao,Object.assign({},e)):"loading"}),io=n("72aa67ece7d4c3c27941"),co=n("c028e50ef048b4d77b1b"),so=n("d9b587b33c69341314c6"),lo=n("7601f58bc69ebe6e7079"),uo=function(e){return a.a.createElement("div",{className:"sidebar--header-container sidebar--spacing"},a.a.createElement(p.Title,{isSize:5},e.title),a.a.createElement(p.Button,{isRounded:!0,onClick:e.onButtonClick,style:{marginBottom:".5rem",marginRight:".8rem"}},a.a.createElement(p.Icon,null,e.minified?a.a.createElement(gn.FontAwesomeIcon,{icon:co.faTimes}):a.a.createElement(gn.FontAwesomeIcon,{icon:io.faPlay}))))},po=function(e){var t=Object(r.useCallback)(function(t){e.selected&&t.stopPropagation(),e.onGoTo(e.annotation)},[e.annotation]),n=Object(r.useCallback)(function(){return e.onClick(e.annotation)},[e.annotation]);return a.a.createElement("div",{className:jr()({"sidebar--menu-item sidebar--spacing":!0,"sidebar--menu-item__selected":e.selected})},a.a.createElement(p.Box,{onClick:n},a.a.createElement(p.StretchedLayoutContainer,{isDirection:"horizontal"},a.a.createElement(p.StretchedLayoutItem,{style:{paddingRight:"1rem"},isFlex:1},a.a.createElement(p.Content,{className:jr()("sidebar--item-field",{"sidebar--item-field--selected":e.selected})},e.children)),a.a.createElement(p.StretchedLayoutItem,null,a.a.createElement(p.StretchedLayoutContainer,{isDirection:"horizontal"},a.a.createElement("div",null,a.a.createElement(p.Button,{isRounded:!0,onClick:t,style:{margin:".3rem"}},a.a.createElement(p.Icon,null,a.a.createElement(gn.FontAwesomeIcon,{icon:yn.faEye})))))))))},fo=function(e){return a.a.createElement("div",{className:jr()({"sidebar--menu-item sidebar--spacing":!0,"sidebar--menu-item__selected":e.selected,"sidebar--menu-item__minified":!0})},a.a.createElement(a.a.Fragment,null,a.a.createElement(p.StretchedLayoutContainer,{isDirection:"horizontal",className:"utils__space-between"},a.a.createElement(p.StretchedLayoutItem,null,a.a.createElement(p.Button,{isRounded:!0,onClick:e.onPrev,style:{margin:".3rem",marginRight:"1rem"}},a.a.createElement(p.Icon,null,a.a.createElement(gn.FontAwesomeIcon,{icon:so.faCaretLeft})))),a.a.createElement(p.StretchedLayoutItem,{isFlex:1},a.a.createElement(p.Content,{className:jr()("sidebar--item-field",{"sidebar--item-field--selected":e.selected,"sidebar--item-field--minified":!0})},e.children)),a.a.createElement(p.StretchedLayoutItem,null,a.a.createElement(p.Button,{isRounded:!0,onClick:e.onNext,style:{margin:".3rem",marginLeft:"1rem"}},a.a.createElement(p.Icon,null,a.a.createElement(gn.FontAwesomeIcon,{icon:lo.faCaretRight})))))))},mo=Object($n.d)(function(e){var t=e.selectedAnnotations.first(),n=a.a.useCallback(function(){e.visible?e.onClose():e.onOpen(),t||e.changeSelection(e.slideshow.annotations.first())},[e.visible,e.slideshow.annotations]),o=Object(r.useCallback)(function(t){e.leaflet.map.fitBounds(xe(t),{animate:!0})},[e.leaflet&&e.leaflet.map]);return a.a.createElement("div",{className:jr()({sidebar:!0,"player-sidebar":!0,visible:e.visible,hidden:!e.visible})},a.a.createElement(p.StretchedLayoutContainer,{style:{height:"100%"}},a.a.createElement(p.StretchedLayoutItem,null,a.a.createElement(uo,{minified:!e.visible,title:e.slideshow.name,onButtonClick:n})),a.a.createElement(p.StretchedLayoutItem,{isFlex:1,style:{overflow:"hidden"}},a.a.createElement("div",{className:"sidebar--container play-sidebar--container"},e.visible?e.slideshow.annotations.map(function(t){return a.a.createElement(po,{onGoTo:o,onClick:e.changeSelection,annotation:t,key:t.properties.id,selected:e.selectedAnnotations.includes(t)},t.properties.content)}):a.a.createElement(fo,{selected:t,onNext:e.onNext,onPrev:e.onPrev},t.properties.content))),a.a.createElement(p.StretchedLayoutItem,null,a.a.createElement("footer",{className:"sidebar--footer-container sidebar--spacing"},a.a.createElement(p.StretchedLayoutContainer,{isDirection:"horizontal",style:{width:"100%"}},a.a.createElement(p.StretchedLayoutItem,{isFlex:1},a.a.createElement(d.Link,{to:"/editor/".concat(e.slideshow.id),className:"button is-fullwidth is-primary"},"Back to edition")),a.a.createElement(p.StretchedLayoutItem,{isFlex:1},a.a.createElement(p.StretchedLayoutContainer,{isDirection:"horizontal"},a.a.createElement(p.StretchedLayoutItem,{isFlex:1},a.a.createElement(p.Button,{isFullWidth:!0,isColor:"info",disabled:!e.slideshow.annotations.size},"Download \u2193")),a.a.createElement(p.StretchedLayoutItem,null,a.a.createElement(p.Button,{isColor:"info"},"?")))))))))});n("c43d0e331cb4aefacbc7");function ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var bo=Object($n.d)(function(e){var t=e.selectedAnnotations.first();return Cn(e.leaflet.map,t&&e.playing?t:e.slideshow.image),a.a.createElement(a.a.Fragment,null,a.a.createElement(ga,{data:e.slideshow.annotations,selectedAnnotations:e.selectedAnnotations}),e.url?a.a.createElement(qa,{url:e.url}):a.a.createElement(Ja,{tileSize:512,id:e.slideshow.image.id}))}),go=function(e,t){if(!e)return t.first();var n=t.indexOf(e);return n+1<t.size?t.get(n+1):t.first()},Eo=function(e){var t=e.selectedAnnotations.first(),n=ho(Object(r.useState)(!1),2),o=n[0],c=n[1],s=ho(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=On(Object(r.useState)(e),2),n=t[0],a=t[1];return[n,Object(r.useCallback)(function(){return a(!1)},[]),Object(r.useCallback)(function(){return a(!0)},[])]}(),3),l=s[0],u=s[1],d=s[2],p=Object(r.useCallback)(function(){return e.changeSelection(go(t,e.slideshow.annotations))},[t,e.slideshow.annotations]),f=Object(r.useCallback)(function(){return e.changeSelection(go(t,e.slideshow.annotations.reverse()))},[t,e.slideshow.annotations]);Object(xn.a)("k",p),Object(xn.a)("j",f);var m=Object(r.useCallback)(function(t){return e.changeSelection()},[e.changeSelection]),h=Object(r.useRef)(null);return a.a.createElement("div",{className:"map player-map"},a.a.createElement("div",{ref:function(e){h.current=e,c(!!e)}}),a.a.createElement(Kn.a,{boxZoom:!1,dragging:!0,doubleClickZoom:!1,zoomControl:!1,crs:le.a.CRS.Simple,onClick:m,center:[0,0],minZoom:1,maxZoom:20},h.current&&o&&i.a.createPortal(a.a.createElement(mo,{slideshow:e.slideshow,selectedAnnotations:e.selectedAnnotations,visible:l,onClose:u,onOpen:d,onPrev:f,onNext:p,changeSelection:e.changeSelection}),h.current),a.a.createElement(er.a,{position:"topright"}),a.a.createElement(bo,{url:e.url,playing:!l,slideshow:e.slideshow,changeSelection:e.changeSelection,selectedAnnotations:e.selectedAnnotations})))},vo=to(function(e){return e.slideshow?a.a.createElement(Eo,Object.assign({},e,{local:!0})):a.a.createElement("div",null)}),wo=n("91876d1143b1a531e930"),yo=n.n(wo);function xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Oo=function(e){var t=new URLSearchParams(e.location.search),n=yo()(window.location.protocol+t.get("url")),o=jn("".concat(t.get("url"),"/slideshow.json"),function(e){return new Ne(e)}),i=xo(Object(r.useState)(Object(K.List)([])),2),c=i[0],s=i[1],l=Object(r.useCallback)(function(e){var t=e?Object(K.List)([e]):Object(K.List)([]);if(!t.equals(c))return s(t)},[c]);return o?a.a.createElement(Eo,{url:"".concat(n,"/info.json"),slideshow:o,selectedAnnotations:c,changeSelection:l}):a.a.createElement("div",null,"Loading")},Co=n("be49ece3c9ac38c7621f"),So=Object(Co.a)(function(){return n.e(3).then(n.bind(null,"df852b79991469f7a807"))});function jo(){return r.createElement(d.Switch,null,r.createElement(d.Route,{exact:!0,path:"/",component:Qn}),r.createElement(d.Route,{exact:!0,path:"/editor/:id",component:oo}),r.createElement(d.Route,{exact:!0,path:"/player/:id",component:vo}),r.createElement(d.Route,{exact:!0,path:"/viewer/",component:Oo}),r.createElement(d.Route,{component:So}))}var ko=function(e){return e.language};function _o(e){return(_o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ro(e,t){return!t||"object"!==_o(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ao(e,t){return(Ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var To=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ro(this,Lo(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ao(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){return r.createElement(m.IntlProvider,{locale:this.props.locale,key:this.props.locale,messages:this.props.messages[this.props.locale]},r.Children.only(this.props.children))}}])&&Io(n.prototype,a),o&&Io(n,o),t}(),Do=Object(h.a)(Object(h.a)(ko,function(e){return e.locale}),function(e){return{locale:e}});var Po=Object(c.connect)(Do,function(e){return{dispatch:e}})(To),No=(n("9c6be9f00377ac8be3d8"),n("0cbc23df16a5c6ceec4d"),n("3562001638983595ee40"));var Mo=n.n(No)()();var zo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=[Mo,Object(s.routerMiddleware)(t)],r=[b.applyMiddleware.apply(void 0,n)],a=b.compose,o=Object(b.createStore)(Y(),e,a.apply(void 0,r));return o.runSaga=Mo.run,o.injectedReducers={},o.injectedSagas={},o}({},u),Fo=document.getElementById("app"),Ho=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jo;o.render(r.createElement(c.Provider,{store:zo},r.createElement(Po,{messages:e},r.createElement(s.ConnectedRouter,{history:u},r.createElement(t,null)))),Fo)};window.Intl?Ho(W):new Promise(function(e){e(Promise.all([n.e(0),n.e(4)]).then(n.t.bind(null,"97694e21b72f8e9351c4",7)))}).then(function(){return Promise.all([n.e(0).then(n.t.bind(null,"f030ad8f70186ef5cb63",7)),n.e(0).then(n.t.bind(null,"14584c41c196d3540f41",7))])}).then(function(){return Ho(W)}).catch(function(e){throw e}),n("30d14b3a3295666f3aba").install()},"7b1d6ef55c12f5ddfe2a":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='891.5px' viewBox='0 0 1280 891.5' enable-background='new 0 0 1280 891.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Ccircle fill='none' stroke='%23F9F9F9' stroke-width='45' stroke-miterlimit='10' cx='650.463' cy='455.344' r='401.57'/%3E %3C/svg%3E"},"7bffbf7599523c159899":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n\n.map .leaflet-control-attribution {\n    display: none\n}\n\n.map .leaflet-marker-icon{\n    background: #ff1f4b;\n    border: none;\n    border-radius: 50%;\n}\n\n.map .annotation-shape__editing{\n    stroke: black;\n    fill: black;\n}\n\n.map .leaflet-control-zoom{\n    box-shadow: none;\n    border: none;\n    margin-right: 1rem;\n    margin-top: 1rem;\n}\n\n.map .leaflet-control-zoom-in,\n.map .leaflet-control-zoom-out{\n    border: none;\n    box-shadow: none;\n    font-size: 1.3rem;\n}\n\n.map .leaflet-tooltip{\n    display: none;\n}",""])},"7dd68a64079d1d4cd439":function(e){e.exports=[]},"81569eb04b5d565f29bc":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"textarea.textarea {\n  transition: none;\n}\n.sidebar {\n  position: absolute;\n  width: 25%;\n  max-width: 450px;\n  z-index: 420;\n  max-height: 100vh;\n  overflow: hidden;\n  background: white;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: stretch;\n  height: 30%;\n  min-height: 200px;\n  transition: all .5s ease;\n}\n.sidebar.visible {\n  bottom: 0;\n  left: 0;\n  height: 100%;\n}\n.sidebar.hidden {\n  bottom: 25px;\n  left: 25px;\n}\n.textarea:not([rows]) {\n  max-height: initial;\n  min-height: initial;\n}\n.sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified) {\n  background: #3849a2;\n  color: white;\n}\n\n.sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified)::placeholder{\n  color: white;\n}\n\n.sidebar--minified-placeholder{\n  height: 100%;\n  width: 100%;\n  text-align: center;\n  padding: 2rem;\n}\n\n.sidebar--wrapper{\n  padding: 1rem;\n  flex: 1;\n  overflow: hidden;\n  overflow-y: auto;\n}\n.sidebar--container {\n  background: white;\n  /* max-height: calc(100vh - 45px - 70px); */\n  overflow: auto;\n}\n.sidebar--menu-item .box {\n  background: white;\n}\n.sidebar--menu-item__selected .box {\n  background: #3849a2;\n}\ntextarea.textarea {\n  resize: none;\n}\n\n.sidebar--spacing {\n  padding: 5px 5px;\n}\n\n.sidebar--header-container {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: var(--rgba-primary-2);\n  color: white;\n}\n.sidebar--header-container .title{\n  margin: .5rem 1rem;\n}\n\n.sidebar--header-container .title a{\n  color: white;\n}\n\n.sidebar--header-container .minify-toggle{\n  cursor: pointer;\n}\n\n.sidebar--footer-container {\n  display: flex;\n  justify-content: space-between;\n  /* background-color: var(--rgba-primary-2); */\n  color: white;\n  padding: 0\n}\n\n.input__invisible {\n  width: calc(100% - 1rem);\n  border: none;\n  margin: 1rem .5rem;\n}",""])},"955a6a725544659a0b42":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"#app {\n  position: relative;\n  user-select: none;\n}\n\nbody { --rgba-primary-0: #343477; } /* rgba( 52, 52,119,1); */\nbody { --rgba-primary-1: #8080E5; } /* rgba(128,128,229,1); */\nbody { --rgba-primary-2: #5454A8; } /* rgba( 84, 84,168,1); */\nbody { --rgba-primary-3: #1A1A46; } /* rgba( 26, 26, 70,1); */\nbody { --rgba-primary-4: #060614; } /* rgba(  6,  6, 20,1); */\n\nbody {\n  max-height: 100vh;\n  overflow: hidden;\n}\n\n.leaflet-container {\n  height: 100%;\n  width: 100%;\n  min-width: 100px;\n  margin: 0 auto;\n}\n\n.App-link {\n  color: #61dafb;\n}\n.zoom-level {\n  position: absolute;\n}\n.react-dat-gui {\n  z-index: 9999;\n}\n\n.map {\n  height: 100vh;\n  width: 100vw;\n}\n.map.creating {\n  cursor: crosshair;\n}\n\n.rectangle {\n  pointer-events: none;\n}\n\n\n.button{\n  text-transform: none;\n}",""])},"9c6be9f00377ac8be3d8":function(e,t,n){e.exports=n.p+"favicon.ico"},"9f468a05a14162c70bcf":function(e,t,n){var r=n("c43622a7e833109e7cdd");"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(r,a);r.locals&&(e.exports=r.locals)},"9ff90a0cc5204b4629a4":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='803.14px' height='803.14px' viewBox='0 0 803.14 803.14' enable-background='new 0 0 803.14 803.14' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23000000' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' points=' 402.764,634.289 147.59,128.713 653.166,383.887 '/%3E %3Cline fill='none' stroke='%23000000' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' x1='706.302' y1='687.427' x2='527.964' y2='509.087'/%3E %3C/svg%3E"},a4bdf3e5032d230f45cd:function(e,t,n){var r=n("d91476fada1b30a0d8ff");"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(r,a);r.locals&&(e.exports=r.locals)},c43622a7e833109e7cdd:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,".modal {\n  z-index: 420;\n}",""])},c43d0e331cb4aefacbc7:function(e,t,n){var r=n("401aa70511af71beb6b9");"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(r,a);r.locals&&(e.exports=r.locals)},cc76f763c4e09ef29989:function(e,t){e.exports="data:image/svg+xml,%3Csvg version='1.1' id='medialab-logo-svg' x='0px' y='0px' viewBox='0 0 283.5 72.6' xmlns='http://www.w3.org/2000/svg' aria-labelledby='Science Po %7C Medialab'%3E %3Ctitle%3EScience Po %7C Medialab%3C/title%3E %3Cdesc%3ELogo of Science Po Medialab%3C/desc%3E %3Cg%3E %3Cpath class='st0' d='M4.2,32.7c0,0,4.7,4.5,10.7,4.5c3.3,0,6.2-1.7,6.2-5.2c0-7.7-20.3-6.4-20.3-19.6C0.9,5.3,7.1,0,15.3,0 c8.5,0,12.8,4.6,12.8,4.6L24.8,11c0,0-4.1-3.8-9.5-3.8c-3.6,0-6.5,2.1-6.5,5.1C8.8,20,29,18.1,29,31.9c0,6.8-5.2,12.6-14.2,12.6 C5.3,44.5,0,38.6,0,38.6L4.2,32.7z'%3E%3C/path%3E%3Cpath class='st0' d='M47.1,15.2c7.3,0,10.7,4.1,10.7,4.1l-3.1,4.7c0,0-2.9-3-7.3-3c-5.1,0-8.5,3.9-8.5,8.6c0,4.7,3.4,8.7,8.7,8.7 c4.7,0,8.2-3.5,8.2-3.5l2.7,4.9c0,0-4,4.5-11.5,4.5c-9.2,0-15.1-6.5-15.1-14.6C32,21.9,37.9,15.2,47.1,15.2'%3E%3C/path%3E%3Cpath class='st0' d='M62.6,5h6.9v6.2h-6.9V5z M62.6,15.9h6.9v27.8h-6.9V15.9z'%3E%3C/path%3E%3Cpath class='st0' d='M88.3,15.2c8,0,12.3,5.8,12.3,13.2c0,0.8-0.2,2.7-0.2,2.7H81.3c0.4,4.9,4.2,7.4,8.4,7.4c4.5,0,8-3.1,8-3.1 l2.7,5c0,0-4.3,4-11.2,4c-9.2,0-15-6.7-15-14.6C74.2,21.2,80,15.2,88.3,15.2 M93.7,26.4c-0.1-3.8-2.5-5.8-5.5-5.8 c-3.5,0-6,2.2-6.7,5.8H93.7z'%3E%3C/path%3E%3Cpath class='st0' d='M105.3,15.9h6.7v3.2c0,1-0.1,1.9-0.1,1.9h0.1c1.2-2.3,4.3-5.8,9.9-5.8c6.2,0,9.7,3.2,9.7,10.6v17.9h-6.9V27.2 c0-3.4-0.9-5.7-4.4-5.7c-3.7,0-6.4,2.3-7.5,5.7c-0.4,1.1-0.5,2.4-0.5,3.7v12.8h-6.9L105.3,15.9L105.3,15.9z'%3E%3C/path%3E%3Cpath class='st0' d='M150.8,15.2c7.3,0,10.7,4.1,10.7,4.1l-3.1,4.7c0,0-2.9-3-7.3-3c-5.1,0-8.5,3.9-8.5,8.6c0,4.7,3.4,8.7,8.7,8.7 c4.7,0,8.2-3.5,8.2-3.5l2.7,4.9c0,0-4,4.5-11.5,4.5c-9.2,0-15.1-6.5-15.1-14.6C135.6,21.9,141.5,15.2,150.8,15.2'%3E%3C/path%3E%3Cpath class='st0' d='M178.5,15.2c8,0,12.3,5.8,12.3,13.2c0,0.8-0.2,2.7-0.2,2.7h-19.2c0.4,4.9,4.2,7.4,8.4,7.4c4.5,0,8-3.1,8-3.1 l2.7,5c0,0-4.3,4-11.2,4c-9.2,0-15-6.7-15-14.6C164.4,21.2,170.2,15.2,178.5,15.2 M183.8,26.4c-0.1-3.8-2.5-5.8-5.5-5.8 c-3.5,0-6,2.2-6.7,5.8H183.8z'%3E%3C/path%3E%3Cpath class='st0' d='M197.4,35.4c0,0,3.1,3.1,7.6,3.1c2,0,3.7-0.9,3.7-2.5c0-4.1-13.5-3.6-13.5-12.6c0-5.2,4.6-8.2,10.6-8.2 c6.3,0,9.3,3.2,9.3,3.2l-2.6,5.1c0,0-2.6-2.4-6.8-2.4c-1.8,0-3.5,0.8-3.5,2.5c0,3.9,13.5,3.4,13.5,12.4c0,4.6-4,8.4-10.6,8.4 c-6.9,0-10.8-4.1-10.8-4.1L197.4,35.4z'%3E%3C/path%3E%3Cpath class='st0' d='M221.8,0.7h16.6c8.1,0,13.7,5.6,13.7,14s-5.6,14.2-13.7,14.2h-8.8v14.8h-7.8V0.7z M236.9,22.1 c4.5,0,7.2-2.9,7.2-7.4c0-4.4-2.7-7.3-7.1-7.3h-7.4v14.7H236.9z'%3E%3C/path%3E%3Cpath class='st0' d='M268.1,15.2c8.5,0,15.3,6.1,15.3,14.6c0,8.6-6.8,14.6-15.3,14.6c-8.5,0-15.3-6-15.3-14.6 C252.8,21.3,259.7,15.2,268.1,15.2 M268.2,38.5c4.5,0,8.2-3.5,8.2-8.7c0-5.1-3.8-8.7-8.2-8.7c-4.5,0-8.3,3.5-8.3,8.7 C259.9,35,263.6,38.5,268.2,38.5'%3E%3C/path%3E%3Cpath class='st0' d='M1.3,57.7h2.9L7.1,65c0.3,0.9,0.8,2.2,0.8,2.2h0c0,0,0.4-1.3,0.7-2.2l2.9-7.4h2.9l1.2,14.9h-2.7l-0.6-8.3 c-0.1-1,0-2.3,0-2.3h0c0,0-0.4,1.4-0.8,2.3L9,70H6.7l-2.4-5.8c-0.4-0.9-0.8-2.3-0.8-2.3h0c0,0,0,1.3,0,2.3l-0.6,8.3H0L1.3,57.7z'%3E%3C/path%3E%3Cpath class='st0' d='M18.9,57.7h8.9V60h-6.2v3.9h5v2.3h-5v4h6.6v2.3h-9.3C18.9,72.6,18.9,57.7,18.9,57.7z M24.1,53.8h2.8l-2.2,2.9 h-2.1L24.1,53.8z'%3E%3C/path%3E%3Cpath class='st0' d='M31,57.7h5.1c4.6,0,7.6,2.7,7.6,7.4c0,4.7-3,7.5-7.6,7.5H31V57.7z M36,70.3c3,0,5-1.8,5-5.1c0-3.3-2-5.1-5-5.1 h-2.2v10.2L36,70.3L36,70.3z'%3E%3C/path%3E%3Crect x='46.5' y='57.7' class='st0' width='2.7' height='14.9'%3E%3C/rect%3E%3Cpath class='st0' d='M60.4,68.8h-5.2l-1.3,3.8h-2.8l5.2-14.9h2.8l5.2,14.9h-2.8L60.4,68.8z M57.8,60.3c0,0-0.3,1.5-0.6,2.3l-1.3,4 h3.9l-1.3-4C58.2,61.7,57.9,60.3,57.8,60.3L57.8,60.3z'%3E%3C/path%3E%3Cpolygon class='st0' points='66.4,57.7 69.1,57.7 69.1,70.3 75.6,70.3 75.6,72.6 66.4,72.6 '%3E%3C/polygon%3E%3Cpath class='st0' d='M85.6,68.8h-5.2l-1.3,3.8h-2.8l5.2-14.9h2.8l5.2,14.9h-2.8L85.6,68.8z M83,60.3c0,0-0.3,1.5-0.6,2.3l-1.3,4 h3.9l-1.3-4C83.3,61.7,83,60.3,83,60.3L83,60.3z'%3E%3C/path%3E%3Cpath class='st0' d='M91.6,57.7h5.3c2.7,0,4.6,1.4,4.6,3.8c0,1.4-0.7,2.6-1.8,3.2v0c1.6,0.5,2.4,2,2.4,3.5c0,3-2.4,4.3-5.1,4.3 h-5.4L91.6,57.7L91.6,57.7z M96.9,63.8c1.2,0,1.8-0.8,1.8-1.9S98.1,60,96.9,60h-2.6v3.8H96.9z M97.2,70.3c1.4,0,2.2-0.9,2.2-2.2 c0-1.2-0.8-2.1-2.2-2.1h-2.9v4.3H97.2z'%3E%3C/path%3E%3C/g%3E %3C/svg%3E"},cd3c01f111da6ab3f495:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n\n.SlideshowCartouche .thumbnail-container {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: center;\n}\n\n.SlideshowCartouche .content{\n    color:#4a4a4a;\n}\n\n.SlideshowCartouche .content a{\n    outline: none;\n}\n\n.SlideshowCartouche .annotations-container{\n    display: flex;\n}\n\n.SlideshowCartouche .annotations-number{\n    background:#f2f2f2;\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 50%;\n    font-size: .7em;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: center;\n    margin-right: .5rem;\n}",""])},d91476fada1b30a0d8ff:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,".annotation-shape:not(.annotation-shape__editing):hover {\n  stroke-width: 2.5;\n  stroke: teal;\n}\n",""])},dcda6ef0b88628a2b364:function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='895.5px' viewBox='0 0 1280 895.5' enable-background='new 0 0 1280 895.5' xml:space='preserve'%3E %3Cg id='Calque_1_1_'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3C/g%3E %3Cg id='Calque_1_2_'%3E %3Cg id='Layer_1_1_'%3E %3C/g%3E %3Cg id='Mode_Isolation_2_'%3E %3C/g%3E %3C/g%3E %3Cg id='Mode_Isolation_1_'%3E %3Crect x='274.5' y='74.25' fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linecap='square' stroke-miterlimit='10' width='751.927' height='751.927'/%3E %3C/g%3E %3C/svg%3E"},e081bc46499358fd0f25:function(e,t,n){var r=n("ff180e8fd4df45c2816c");"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(r,a);r.locals&&(e.exports=r.locals)},ff180e8fd4df45c2816c:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"#app{\n  max-height: 100vh;\n  min-height: 100vh;\n  overflow-x: hidden;\n  overflow-y: auto;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: stretch;\n}\n\n.home-container {\n  padding-left: 1.3rem;\n  padding-top: 1.4rem;\n  padding-top: 2rem;\n  flex: 1;\n}\n\n.home-container .list-projects__title{\n  padding-top: .5rem;\n  font-weight: bold;\n}\n\n.home-container .cards-column .card-wrapper{\n  margin-bottom: 1rem;\n  padding-right: 1rem;\n}\n\n.home-container .drop-zone{\n  cursor: pointer;\n  margin-bottom: 1rem;\n}\n\n.footer .logo-img{\n  max-width: 150px;\n  padding-bottom: .5rem;\n  padding-top: .5rem;\n  box-sizing: content-box;\n  padding-left: 2rem;\n  display: block;\n}\n\n.footer .about-column p:first-of-type{\n  padding-top: 1rem;\n}",""])}},[[1,2,0]]]);