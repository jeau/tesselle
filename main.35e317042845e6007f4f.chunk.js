(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t){},"03e5aaee93020dcb97eb":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,".buttons-container {\n  bottom: 30px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}",""])},"070f4000acc3a3139fe2":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='740px' height='740px' viewBox='0 0 740 740' enable-background='new 0 0 740 740' xml:space='preserve'%3E %3Crect x='370' fill='%2300A99D' width='370' height='370'/%3E %3Crect fill='%233849A2' width='370' height='370'/%3E %3Crect x='370' y='370' fill='%2309C6A2' width='370' height='370'/%3E %3Crect y='370' fill='%23039385' width='370' height='370'/%3E %3C/svg%3E"},"0c80db8ded60097168a5":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='740px' height='740px' viewBox='0 0 740 740' enable-background='new 0 0 740 740' xml:space='preserve'%3E %3Crect x='370' fill='%2300A99D' width='370' height='370'/%3E %3Crect fill='%233849A2' width='370' height='370'/%3E %3Crect x='370' y='370' fill='%2309C6A2' width='370' height='370'/%3E %3Crect y='370' fill='%23039385' width='370' height='370'/%3E %3C/svg%3E"},"0cbc23df16a5c6ceec4d":function(e,t,n){e.exports=n.p+".htaccess"},1:function(e,t,n){n("5b15df55c1316f23e9d0"),e.exports=n("74a2325ee1817d991dfc")},"1b104b4ebf37bca69f40":function(e,t,n){var a=n("cd3c01f111da6ab3f495");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"1d1992de665ce089503e":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='895.5px' viewBox='0 0 1280 895.5' enable-background='new 0 0 1280 895.5' xml:space='preserve'%3E %3Cg id='Calque_1_1_'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3C/g%3E %3Cg id='Mode_Isolation_1_'%3E %3Crect x='274.5' y='74.25' fill='none' stroke='%23000000' stroke-width='45' stroke-linecap='square' stroke-miterlimit='10' width='751.927' height='751.927'/%3E %3C/g%3E %3C/svg%3E"},2:function(e,t){},"24e2ac89b53a62ce0fe1":function(e,t,n){var a=n("81569eb04b5d565f29bc");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"29af6943dd72dd3f0f6d":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='643.019px' height='99.119px' viewBox='0.159 0 643.019 99.119' enable-background='new 0.159 0 643.019 99.119' xml:space='preserve'%3E %3Cg%3E %3Cpath d='M0.159,88.109V1.518h53.726V13.78H14.19V42.98h32.994v12.262H14.19v32.867H0.159L0.159,88.109z'/%3E %3Cpath d='M127.9,78.881C122.717,85.96,113.592,89.5,100.53,89.5c-13.064,0-22.208-3.559-27.432-10.682 c-5.227-7.121-7.838-18.308-7.838-33.562c0-15.252,2.633-26.587,7.901-34.004c5.265-7.416,14.39-11.125,27.369-11.125 c12.978,0,22.079,3.688,27.305,11.061c5.225,7.375,7.838,18.731,7.838,34.068C135.673,60.595,133.082,71.802,127.9,78.881z M84.096,69.78c2.864,4.973,8.344,7.458,16.434,7.458s13.546-2.443,16.371-7.331c2.822-4.887,4.235-13.084,4.235-24.587 c0-11.504-1.454-19.867-4.361-25.094c-2.907-5.225-8.324-7.837-16.244-7.837c-7.922,0-13.358,2.613-16.308,7.837 c-2.952,5.227-4.424,13.548-4.424,24.967C79.798,56.613,81.23,64.808,84.096,69.78z'/%3E %3Cpath d='M168.539,57.264v30.844h-14.032V1.517h32.868c19.551,0,29.328,9.187,29.328,27.558c0,12.306-4.722,20.649-14.159,25.031 l14.285,34.004h-15.423l-12.515-30.844L168.539,57.264L168.539,57.264z M202.292,29.201c0-10.366-4.974-15.549-14.917-15.549 h-18.835v31.477h19.089c5.057,0,8.764-1.454,11.123-4.361C201.111,37.86,202.292,34.004,202.292,29.201z'/%3E %3Cpath d='M264.235,89.5c-12.642,0-21.218-3.496-25.725-10.492c-4.509-6.994-6.762-18.498-6.762-34.51 c0-16.011,2.275-27.41,6.826-34.195c4.551-6.783,13.104-10.176,25.662-10.176c7.5,0,15.758,1.055,24.777,3.16l-0.507,11.377 c-7.583-1.346-15.169-2.022-22.753-2.022c-7.585,0-12.728,2.256-15.423,6.763c-2.698,4.509-4.045,12.979-4.045,25.41 c0,12.432,1.306,20.901,3.918,25.409c2.612,4.509,7.711,6.762,15.296,6.762c7.583,0,15.252-0.631,23.006-1.896l0.38,11.631 C280.205,88.571,271.987,89.5,264.235,89.5z'/%3E %3Cpath d='M335.152,89.5c-12.641,0-21.218-3.496-25.725-10.492c-4.508-6.994-6.762-18.498-6.762-34.51 c0-16.011,2.275-27.41,6.826-34.195c4.551-6.783,13.104-10.176,25.662-10.176c7.5,0,15.758,1.055,24.777,3.16l-0.507,11.377 c-7.583-1.346-15.169-2.022-22.754-2.022s-12.727,2.256-15.421,6.763c-2.698,4.509-4.046,12.979-4.046,25.41 c0,12.432,1.306,20.901,3.919,25.409c2.612,4.509,7.711,6.762,15.296,6.762c7.583,0,15.252-0.631,23.006-1.896l0.379,11.631 C351.123,88.571,342.905,89.5,335.152,89.5z'/%3E %3Cpath d='M369.914,88.109l21.364-86.592h27.937l21.491,86.592h-14.159l-4.678-18.583h-33.247l-4.677,18.583H369.914L369.914,88.109z M402.15,13.272l-10.745,43.866h27.685l-10.618-43.866H402.15L402.15,13.272z'/%3E %3Cpath d='M480.148,12.388c-10.703,0-16.054,3.75-16.054,11.251c0,3.877,1.265,6.636,3.792,8.28c2.529,1.644,8.11,3.666,16.75,6.068 c8.639,2.402,14.728,5.268,18.268,8.596c3.539,3.33,5.309,8.577,5.309,15.738c0,9.101-2.591,15.909-7.774,20.416 c-5.183,4.508-12.242,6.762-21.175,6.762c-7.164,0-15.086-0.844-23.765-2.528l-4.55-0.885l1.39-11.25 c11.377,1.518,20.058,2.276,26.041,2.276c10.449,0,15.675-4.634,15.675-13.906c0-3.623-1.182-6.299-3.54-8.027 c-2.359-1.727-7.669-3.621-15.929-5.688c-8.259-2.064-14.41-4.91-18.455-8.533c-4.044-3.622-6.068-9.354-6.068-17.192 s2.548-13.758,7.648-17.761C462.81,2.003,469.867,0,478.884,0c6.49,0,14.16,0.759,23.008,2.276l4.424,0.758l-1.138,11.377 C493.379,13.063,485.035,12.388,480.148,12.388z'/%3E %3Cpath d='M517.568,14.031V1.517h63.207v12.515h-24.399v74.078h-14.158V14.031H517.568z'/%3E %3C/g%3E %3C/svg%3E"},"2d09681354dad995b763":function(e,t,n){var a=n("955a6a725544659a0b42");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},3:function(e,t){},"401aa70511af71beb6b9":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n\n.player-map .sidebar--header-container{\n    padding-right: 1rem;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: stretch;\n}\n\n.player-map .player-sidebar{\n    min-height: 16rem;\n}\n\n.player-map .play-sidebar--container{\n    height: 100%;\n    padding: 1rem;\n}\n.player-map .sidebar.hidden .play-sidebar--container{\n    padding-top: 0;\n}\n.player-map .sidebar.hidden{\n    height: unset;\n    max-height: calc(100% - 4rem);\n}\n\n.player-map .sidebar.hidden .sidebar--item-field{\n    overflow: auto;\n}\n.sidebar--header-container .title.is-stretch{\n    flex: 1;\n}\n\n.player-map .sidebar--menu-item.sidebar--spacing .content{\n    padding: 1rem;\n}\n\n.share-ui-container{\n    position: absolute;\n    bottom: 1rem;\n    right: 1rem;\n    z-index: 1000;\n}\n\n.sidebar.player-sidebar .sidebar--item-field--selected.sidebar--item-field--minified {\n    background: white;\n    color: #363636;\n    padding: 0;\n}\n\n.player-map .sidebar.hidden .sidebar--wrapper{\n    overflow: hidden;\n}\n\n.sidebar--menu-item__minified{\n    height: 100%;\n    max-height: 100%;\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: stretch;\n}\n\n.sidebar--menu-item__minified > .stretched-layout-container{\n    flex: 1;\n    justify-content: stretch;\n    max-height: 100%;\n}\n.sidebar--menu-item__minified > .stretched-layout-container > .stretched-layout-item:first-of-type{\n    overflow: auto;\n}\n\n.sidebar.player-sidebar .minified-nav-container{\n    justify-content: center;\n    border-top: 1px solid rgba(0,0,0,0.05);\n    margin-top: 1rem;\n    padding-top: .5rem;\n}\n\n.player-map .player-card{\n    cursor: pointer;\n}\n\n.player-map .player-title{\n    margin: 0;\n}\n\n.player-map .annotation-shape.annotation-shape__editing.leaflet-interactive {\n    fill: black;\n    stroke: white;\n    pointer-events: none;\n    mix-blend-mode: darken;\n}\n\n@media screen and (max-width: 1024px) {\n    .sidebar--footer-container > .stretched-layout-container {\n        flex-direction: column;\n    }\n}\n\n@media screen and (max-width: 769px) {\n    .sidebar{\n        width: 40%;\n        max-width: unset;\n    }\n\n    .player-map .sidebar--header-container .title{\n        margin-right: 0.5rem;\n    }\n\n    .player-map .sidebar--header-container .title img{\n        max-height: 1rem;\n    }\n\n    .player-map .sidebar.hidden{\n        max-height: 40%;\n    }\n}\n\n@media screen and (max-width: 500px) {\n    .player-map .sidebar:not(.hidden) .player-title{\n        display: none;\n    }\n    .player-map .sidebar:not(.hidden) .sidebar--header-container .title:first-of-type{\n        display: none;\n    }\n    .player-map .sidebar:not(.hidden) .sidebar--header-container .button{\n        margin-left: 1rem;\n    }\n    .player-map .sidebar.hidden{\n        width: calc(100% - 4rem);\n    }\n    .player-map .player-card .content{\n        display: none;\n    }\n\n}",""])},"5a506235aaa5ee0bbd27":function(e,t,n){var a=n("e44b2a44b28b33d820c5");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"6034ec4c48cf13fdf8f7":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='803.14px' height='803.14px' viewBox='0 0 803.14 803.14' enable-background='new 0 0 803.14 803.14' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' points=' 402.764,634.289 147.59,128.713 653.166,383.887 '/%3E %3Cline fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' x1='706.302' y1='687.427' x2='527.964' y2='509.087'/%3E %3C/svg%3E"},"622ec8036aaf28780be2":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='915.5px' viewBox='0 0 1280 915.5' enable-background='new 0 0 1280 915.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23000000' stroke-width='45' stroke-linejoin='round' stroke-miterlimit='10' points='400.268,843.677 240.671,352.489 658.5,48.919 1076.329,352.489 916.732,843.677 '/%3E %3C/svg%3E"},"64dac7de12fb65a47bbf":function(e,t,n){var a=n("03e5aaee93020dcb97eb");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"65487e27ba6ae8e8f9c5":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='887.5px' viewBox='0 0 1280 887.5' enable-background='new 0 0 1280 887.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Ccircle fill='none' stroke='%23000000' stroke-width='45' stroke-miterlimit='10' cx='650.463' cy='456.406' r='401.57'/%3E %3C/svg%3E"},"66a1c366ea57fb65bda8":function(e,t,n){var a=n("7bffbf7599523c159899");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},"6a95e2c254c73be60618":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='915.5px' viewBox='0 0 1280 915.5' enable-background='new 0 0 1280 915.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linejoin='round' stroke-miterlimit='10' points='400.268,843.677 240.671,352.489 658.5,48.919 1076.329,352.489 916.732,843.677 '/%3E %3C/svg%3E"},"74a2325ee1817d991dfc":function(e,t,n){"use strict";n.r(t);n("8c8e4f08a118a28666b0");var a=n("8af190b70a6bc55c6f1b"),r=n.n(a),o=n("63f14ac74ce296f77f4d"),i=n.n(o),c=n("d7dd51e1bf6bfc2c9c3d"),l=n("3aced5b508e7389026da"),s=n("3fb509045374147eb7e3"),u=n.n(s)()({basename:"/tesselle"}),d=(n("6735bdf1a3a541ab43fd"),n("da713d1d0d97c7c3b188"),n("a5a9a0d2e379224a5853"),n("b8989a0d313aa2f520d5"),n("2d09681354dad995b763"),n("e95a63b25fb92ed15721")),p=n("ab4cb61bcb2dc161defb"),m=n("f2873ecf7390fe7d7c89"),f=n.n(m),h=n("6a4f9c383785f9168266"),b=n.n(h),g=n("a1cf5d6fa4ed65a6ddd5"),w=n.n(g),E=n("f3b0ff1628e56352bcbf"),v=n.n(E),y=n("5fa3f8487e09c6182715"),x=n.n(y),C=n("d3a850c4000d77bccc89"),O=n.n(C);function S(e){var t={dispatch:v.a,subscribe:v.a,getState:v.a,replaceReducer:v.a,runSaga:v.a,injectedReducers:O.a,injectedSagas:O.a};b()(f()(e,t),"(app/utils...) injectors: Expected a valid redux store")}var j="@@saga-injector/restart-on-remount",k="@@saga-injector/daemon",_="@@saga-injector/once-till-unmount",R=[j,k,_],I=function(e){return b()(x()(e)&&!w()(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},A=function(e){var t={saga:v.a,mode:function(e){return x()(e)&&R.includes(e)}};b()(f()(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function L(e,t){return function(n,a,r){t||S(e);var o=Object.assign({},a,{mode:a.mode||j}),i=o.saga,c=o.mode;I(n),A(o);var l=Reflect.has(e.injectedSagas,n);(!l||l&&c!==k&&c!==_)&&(e.injectedSagas[n]=Object.assign({},o,{task:e.runSaga(i,r)}))}}function T(e,t){return function(n){if(t||S(e),I(n),Reflect.has(e.injectedSagas,n)){var a=e.injectedSagas[n];a.mode!==k&&(a.task.cancel(),e.injectedSagas[n]="done")}}}function D(e){var t=e.key,n=e.saga,r=e.mode;return function(e){var o=function(o){var i=a.useContext(c.ReactReduxContext);return a.useEffect(function(){var e,a=(S(e=i.store),{injectSaga:L(e,!0),ejectSaga:T(e,!0)});return a.injectSaga(t,{saga:n,mode:r},o),function(){a.ejectSaga(t)}},[]),a.createElement(e,Object.assign({},o))};return o.displayName="withSaga(".concat(e.displayName||e.name||"Component",")"),o}}var N="app/LanguageToggle/CHANGE_LOCALE";var M=n("ab039aecd4a1d4fedc0e").addLocaleData,P=n("58d82b287428be065a42"),z=n("529d37966b19afdce782"),F=n("7dd68a64079d1d4cd439");M(P),M(z);var G={en:function e(t,n){var a="en"!==t?e("en",F):{};return Object.keys(n).reduce(function(e,r){var o=n[r]||"en"===t?n[r]:a[r];return Object.assign({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,o))},{})}("en",F)},B={locale:"en"};var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{locale:t.locale};default:return e}};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(l.connectRouter)(u);return Object(p.combineReducers)(Object.assign({language:U,router:t},e))}function H(e,t){return function(n,a){t||S(e),b()(x()(n)&&!w()(n)&&v()(a),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===a||(e.injectedReducers[n]=a,e.replaceReducer(V(e.injectedReducers)))}}function W(e){var t=e.key,n=e.reducer;return function(e){return function(r){var o=a.useContext(c.ReactReduxContext);return a.useEffect(function(){var e;(S(e=o.store),{injectReducer:H(e,!0)}).injectReducer(t,n)}),a.createElement(e,Object.assign({},r))}}}var q,Z=n("0d64d0cb24dd542fe0cf"),J=n("0d7f0986bcd2f33d8a2a"),Y=n("ab039aecd4a1d4fedc0e"),X=n("a28fc3c963a1d4d1a2e5"),Q=n("229f5bf90804a8ad1495");!function(e){e.LOAD_SLIDESHOWS="app/HomePage/LOAD_SLIDESHOWS",e.CREATE_SLIDESHOW="app/HomePage/CREATE_SLIDESHOW",e.CREATE_SLIDESHOW_SUCCESS="app/HomePage/CREATE_SLIDESHOW_SUCCESS",e.CREATE_SLIDESHOW_FAILURE="app/HomePage/CREATE_SLIDESHOW_FAILURE",e.REMOVE_SLIDESHOW="app/HomePage/REMOVE_SLIDESHOW",e.REMOVE_SLIDESHOW_SUCCESS="app/HomePage/REMOVE_SLIDESHOW_SUCCESS",e.REMOVE_SLIDESHOW_FAILURE="app/HomePage/REMOVE_SLIDESHOW_FAILURE",e.SLIDESHOW_DUPLICATE="app/HomePage/SLIDESHOW_DUPLICATE"}(q||(q={}));var K=q,$=n("54f683fcda7806277002"),ee=n("3e9c7e5351d86134f5f6"),te=n.n(ee);function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function re(e,t){return!t||"object"!==ne(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e?(e.id||(e.id=te()()),n=re(this,oe(t).call(this,e))):n=re(this,oe(t).call(this)),re(n)}var n,a,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,Object($["Record"])({id:"",file:{},width:0,height:0})),n=t,(a=[{key:"with",value:function(e){return this.merge(e)}}])&&ae(n.prototype,a),r&&ae(n,r),t}(),le=n("6e841ed3e83e93f20bf1"),se=n.n(le),ue=n("64cae832d9247bf4c049"),de=Object($.Record)({id:"emptyId",content:"",type:"rectangle"},"AnnotationProperties"),pe=Object($.Record)({id:"emptyId",content:"",radius:0,type:"circle"},"AnnotationCircleProperties"),me=function(e){var t=e.get("id");return"emptyId"===t||void 0===t?e.set("id",te()()):e},fe=Object(Q.pipe)(me,de),he=Object(Q.pipe)(me,pe);function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ge(e,t,n){for(var a,r=be(e,2),o=r[0],i=r[1],c=[],l=se.a.CRS.Simple,s=2*Math.PI,u=l.projection.project.bind(l.projection),d=l.projection.unproject.bind(l.projection),p=u({lng:o,lat:i}),m=0,f=0;f<n-1;f++)m-=s/n,a=new se.a.Point(p.x+t*Math.cos(m),p.y+t*Math.sin(m)),f>0&&a.equals(c[f-1])||c.push(d(a));return c}function we(e,t){try{return t.has("radius")?he(t.toMap()):fe(t.toMap())}catch(n){return console.error("fromJS error"),console.log(e,t),Object($.fromJS)(t)}}var Ee=function(e){switch(e.type){case void 0:return Object($.Map)({properties:we("properties",Object($.fromJS)(e.properties))});case"FeatureCollection":return Object(ue.FeatureCollection)(e,we);case"Feature":return Object(ue.Feature)(e,we);case"GeometryCollection":return Object(ue.GeometryCollection)(e);case"Point":return Object(ue.Point)(e);case"MultiPoint":return Object(ue.MultiPoint)(e);case"LineString":return Object(ue.LineString)(e);case"MultiLineString":return Object(ue.MultiLineString)(e);case"Polygon":return Object(ue.Polygon)(e);case"MultiPolygon":return Object(ue.MultiPolygon)(e)}throw new Error("Shape not supported in fromJS")};var ve=function(e){return new se.a.LatLng(e[1],e[0],e[2])},ye=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ve;return Object(Q.map)(n?function(t){return e(t,n-1,a)}:ve,t)};function xe(e){switch(e.properties.type){case"circle":return ge(e.geometry.coordinates.toJS(),e.properties.radius,5);case"rectangle":case"polygon":return ye(e.geometry.coordinates,"Polygon"===e.geometry.type?1:2).toJS()}throw new Error("Unsupportd shape:"+e.properties.type)}["editable:shape:new","editable:shape:delete","editable:shape:deleted","editable:vertex:new","editable:vertex:click","editable:vertex:clicked","editable:vertex:rawclick","editable:vertex:deleted","editable:vertex:ctrlclick","editable:vertex:shiftclick","editable:vertex:metakeyclick","editable:vertex:altclick","editable:vertex:contextmenu","editable:vertex:mousedown","editable:vertex:drag","editable:vertex:dragstart","editable:vertex:dragend","editable:middlemarker:mousedown","editable:drawing:start","editable:drawing:end","editable:drawing:cancel","editable:drawing:commit","editable:drawing:mousedown","editable:drawing:mouseup","editable:drawing:click","editable:drawing:clicked","editable:created","editable:enable","editable:disable","editable:editing","editable:dragend"].join(" ");function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Oe(e,t,n,a){var r=Math.min(n/e,a/t);return{width:e*r,height:t*r}}var Se=document.createElement("canvas"),je=Se.getContext("2d");function ke(e,t,n){var a=Ce(n,2),r=a[0],o=a[1],i=Ce(t,4),c=i[0],l=i[1],s=i[2],u=i[3];return e.width=r,e.height=o,Se.width=r,Se.height=o,je.drawImage(e,c,l,s,u,0,0,Se.width,Se.height),new Promise(function(e,t){Se.toBlob(function(t){e(new File([t],"default.jpg",{type:"image/jpeg"}))})})}var _e=function(e,t){return new Promise(function(n,a){var r=new Image,o=document.createElement("canvas"),i=o.getContext("2d"),c=t.right-t.left,l=t.bottom-t.top,s=Oe(c,l,t.maxWidth,t.maxHeight),u=s.width,d=s.height;r.width=u,r.height=d,o.width=u,o.height=d,r.onload=function(){i.drawImage(r,t.left,t.top,c,l,0,0,o.width,o.height),o.toBlob(function(a){n(new File([a],t.name?t.name:e.name,{type:e.type}))})},r.src=window.URL.createObjectURL(e),r.onerror=a})};function Re(e){return(Re="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ae(e,t){return!t||"object"!==Re(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function c(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,c)}l((a=a.apply(e,t||[])).next())})},Ne=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e)e.annotations instanceof Array&&(e.annotations=Object($.List)(e.annotations.map(Ee))),e.id||(e.id=te()()),n=Ae(this,Le(t).call(this,e));else{var a={id:te()()};n=Ae(this,Le(t).call(this,a))}return Ae(n)}var n,a,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,Object($["Record"])({id:"",name:"Untitled document",annotations:Object($["List"])(),image:{}})),n=t,(a=[{key:"with",value:function(e){return this.merge(e)}}])&&Ie(n.prototype,a),r&&Ie(n,r),t}(),Me=Ne,Pe=Object(Q.curry)(function(e,t){return Object(Q.map)(function(e){return e(t)},e)}),ze=Object(Q.pipe)(Object(Q.nth)(2),Number),Fe=Object(Q.pipe)(Object(Q.nth)(3),Number),Ge=function(e){var t=e.getAttribute("width"),n=e.getAttribute("height"),a=e.getAttribute("viewBox");if(t&&n)return{width:+t,height:+n};if(a)return function(e){return Pe({width:ze,height:Fe},Object(Q.split)(" ",e))}(a);throw new Error("No width / height nor viewBox")},Be=function(e,t){return new Promise(function(t,n){if("image/svg+xml"===e.type){var a=new FileReader;a.onload=function(){var e=document.createElement("div");e.innerHTML=a.result;var n=e.getElementsByTagName("svg")[0];try{var r=Ge(n);return t([new Ne({image:new ce({file:{},width:r.width,height:r.height})}),n])}catch(e){n.setAttribute("width","1000"),n.setAttribute("height","1000");var o=Ge(n);return t([new Ne({image:new ce({file:{},width:o.width,height:o.height})}),n])}},a.readAsText(e),a.onerror=n}else{var r=window.URL.createObjectURL(e),o=new Image;o.onload=function(){return De(void 0,void 0,void 0,regeneratorRuntime.mark(function a(){var i,c,l,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==o.width){a.next=2;break}return a.abrupt("return",n(new Error("Slideshow.image has a width of 0")));case 2:if(0!==o.height){a.next=4;break}return a.abrupt("return",n(new Error("Slideshow.image has a height of 0")));case 4:return 100,i=o.width>o.height?100:o.width/o.height*100,c=o.height>o.height?100:o.height/o.width*100,a.next=9,_e(e,{maxWidth:i,maxHeight:c,left:0,top:0,bottom:o.height,right:o.width,name:"thumbnail.jpg"});case 9:return l=a.sent,s=new Ne({image:new ce({file:l,width:o.width,height:o.height})}),window.URL.revokeObjectURL(r),a.abrupt("return",t([s,o]));case 13:case"end":return a.stop()}},a)}))},o.onerror=function(e){console.error(e),n(e)},o.src=r}})},Ue={slideshows:Object($.List)([])},Ve=Object(p.combineReducers)({slideshows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue.slideshows,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.LOAD_SLIDESHOWS:return Object($.List)(t.payload.map(function(e){return new Me(e)}));case K.REMOVE_SLIDESHOW_SUCCESS:return e.remove(e.indexOf(t.payload));default:return e}}}),He=function(e){return e&&e.homePage?e.homePage:Ue},We=function(){return Object(X.a)(He,function(e){return e.slideshows})},qe=n("d782b72bc5b680c7122c"),Ze=n("7a6a68cd2a7df90b2b34"),Je=n.n(Ze);Je.a.config({driver:[Je.a.INDEXEDDB],name:"GLISSE ET MONTRE",version:1,size:4980736,storeName:"keyvaluepairs",description:"some description"}),window.db=Je.a;var Ye=Je.a,Xe=n("7e8762fdbf69fdc6312a"),Qe=function(e){return Object(Xe.action)(K.LOAD_SLIDESHOWS,e)},Ke=Object(Xe.createAsyncAction)(K.CREATE_SLIDESHOW,K.CREATE_SLIDESHOW_SUCCESS,K.CREATE_SLIDESHOW_FAILURE)(),$e=Object(Xe.createAsyncAction)(K.REMOVE_SLIDESHOW,K.REMOVE_SLIDESHOW_SUCCESS,K.REMOVE_SLIDESHOW_FAILURE)(),et=n("2862a523e031319710f7"),tt=function(e){return"\n<html>\n  <head>\n    <title>".concat(e.name,'</title>\n  <link rel="icon" href="https://medialab.github.io/tesselle/favicon.ico" />\n    \x3c!-- META DUBLIN CORE --\x3e\n    <meta name="DC.Title" lang="fr" content="').concat(e.name,'" />\n    <meta name="DC.subject" xml:lang="en-GB" content="image annotation" />\n    <meta name="DC.subject" xml:lang="en-GB" content="image publication" />\n    \x3c!-- END META DUBLIN CORE --\x3e\n\n    \x3c!-- REGULAR META --\x3e\n    \x3c!--<meta name="author" content="m\xe9dialab Sciences Po" />--\x3e\n    <meta name="keywords" content="image annotation, dense captionning, image tiling" />\n    <meta name="description" content="a tesselle-made image publication" />\n    <meta name="viewport" content="user-scalable=no,width=device-width" />\n    \x3c!-- END REGULAR META --\x3e\n\n    \x3c!-- META TWITTER --\x3e\n    <meta name="twitter:card" value="summary" />\n    <meta name="twitter:site" content="https://medialab.github.io/tesselle">\n    <meta name="twitter:title" content="').concat(e.name,'" />\n    <meta name="twitter:description" content="a tesselle-made image publication" />\n    \x3c!-- Twitter Summary card images must be at least 200x200px --\x3e\n    <meta name="twitter:image" content="https://medialab.github.io/tesselle/icon-512x512.png" />\n    \x3c!-- end meta twitter--\x3e\n\n    \x3c!-- META GOOGLE + --\x3e\n    <meta itemprop="name" content="').concat(e.name,'" />\n    <meta itemprop="description" content="a tesselle-made image publication" />\n    <meta itemprop="image" content="https://medialab.github.io/tesselle/icon-512x512.png" />\n    \x3c!-- END META GOOGLE + --\x3e\n\n    \x3c!-- META OPEN GRAPH / FACEBOOK --\x3e\n    <meta property="og:title" content="').concat(e.name,'" />\n    <meta property="og:type" content="website" />\n    <meta property="og:url" content="https://medialab.github.io/tesselle/"/>\n    <meta property="og:description" content="a tesselle-made image publication" />\n    <meta property="og:image" content="https://medialab.github.io/tesselle/icon-512x512.png"/>\n    <meta property="og:image:width" content="512"/>\n    <meta property="og:image:height" content="512"/>\n    \x3c!-- END META OPEN GRAPH / FACEBOOK --\x3e\n    <style>p { color: lightblue }</style>\n    <script>\n      locationUrl = window.location.href.replace(window.location.protocol, \'\').replace(\'/index.html\', \'\');\n      const url = \'http://medialab.github.io/tesselle/#/viewer/?url=\' + locationUrl;\n      function setUrl () {\n        const iframe = document.getElementById(\'iframe\');\n        iframe.src = url;\n      }\n      if(window.addEventListener) {\n        window.addEventListener(\'load\', setUrl, false);\n      } else {\n        window.attachEvent(\'onload\', setUrl);\n      }\n    <\/script>\n  </head>\n  <style>\n      #iframe{\n        width: 100%;\n        height: 100%;\n        left: 0;\n        top: 0;\n        position: fixed;\n        border: none;\n      }\n  </style>\n  <body>\n    <iframe id="iframe"></iframe>\n  </body>\n</html>\n')};function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var at,rt=regeneratorRuntime.mark(ct),ot=regeneratorRuntime.mark(ut),it=function(e,t,n){return{"@context":"http://library.stanford.edu/iiif/image-api/1.1/context.json","@id":n,formats:["jpg"],height:e.height,profile:"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",qualities:["default"],scale_factors:t,tile_height:512,tile_width:512,width:e.width}};function ct(e,t,n,a){var r,o,i,c,l,s,u,d,p,m,f,h,b,g,w,E,v,y,x;return regeneratorRuntime.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:r=!0,o=!1,i=void 0,C.prev=3,c=a[Symbol.iterator]();case 5:if(r=(l=c.next()).done){C.next=37;break}if(!((s=l.value)*n>e&&s*n>=t)){C.next=9;break}return C.abrupt("continue",34);case 9:u=n*s,d=Math.floor((e-1)/u)+1,p=Math.floor((t-1)/u)+1,m=0;case 13:if(!(m<=d)){C.next=34;break}(h=(f=m*u)+u)>e&&(h=e),b=h-f,g=Math.floor((b+s-1)/s),w=0;case 20:if(!(w<p)){C.next=31;break}return(v=(E=w*u)+u)>t&&(v=t),y=v-E,x=Math.floor((y+s-1)/s),C.next=28,[[f,E,b,y],[g,x],s];case 28:w++,C.next=20;break;case 31:m++,C.next=13;break;case 34:r=!0,C.next=5;break;case 37:C.next=43;break;case 39:C.prev=39,C.t0=C.catch(3),o=!0,i=C.t0;case 43:C.prev=43,C.prev=44,r||null==c.return||c.return();case 46:if(C.prev=46,!o){C.next=49;break}throw i;case 49:return C.finish(46);case 50:return C.finish(43);case 51:case"end":return C.stop()}},rt,null,[[3,39,43,51],[44,,46,50]])}function lt(e,t){return"/".concat(e.join(","),"/").concat(t[0],",/0/native.jpg")}function st(e,t,n,a){for(var r=1,o=[r],i=0;i<30&&!(e*(r*=2)>t&&n*r>a);i++)o.push(r);return o}function ut(e,t){var n,a,r,o,i,c,l,s,u,d,p,m,f;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:n=e.width,a=e.height,r=t.tileSize,o=t.scaleFactors?t.scaleFactors:st(r,n,r,a),i=!0,c=!1,l=void 0,h.prev=6,s=regeneratorRuntime.mark(function t(){var n,a,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=nt(d.value,3),a=n[0],r=n[1],o=n[2],t.next=3,[lt(a,r),function(){return ke(e,a,r)},o];case 3:case"end":return t.stop()}},t)}),u=ct(n,a,r,o)[Symbol.iterator]();case 9:if(i=(d=u.next()).done){h.next=14;break}return h.delegateYield(s(),"t0",11);case 11:i=!0,h.next=9;break;case 14:h.next=20;break;case 16:h.prev=16,h.t1=h.catch(6),c=!0,l=h.t1;case 20:h.prev=20,h.prev=21,i||null==u.return||u.return();case 23:if(h.prev=23,!c){h.next=26;break}throw l;case 26:return h.finish(23);case 27:return h.finish(20);case 28:return p=Oe(n,a,480,512),m=[0,0,n,a],f=[p.width,p.height],h.next=33,[lt(m,f),function(){return ke(e,m,f)},Object(Q.last)(o)];case 33:case"end":return h.stop()}},ot,null,[[6,16,20,28],[21,,23,27]])}!function(e){e.SET_PROGRESS="app/App/SET_PROGRESS",e.EXPORT_START="app/App/EXPORT_START",e.EXPORT_SUCCESS="app/App/EXPORT_SUCCESS",e.EXPORT_FAILURE="app/App/EXPORT_FAILURE",e.IMPORT_SLIDESHOW="app/App/IMPORT_SLIDESHOW",e.IMPORT_SLIDESHOW_SUCCESS="app/App/IMPORT_SLIDESHOW_SUCCESS",e.IMPORT_SLIDESHOW_FAILURE="app/App/IMPORT_SLIDESHOW_FAILURE"}(at||(at={}));var dt=at,pt=function(e){return Object(Xe.action)(dt.SET_PROGRESS,e)},mt=Object(Xe.createAsyncAction)(dt.EXPORT_START,dt.EXPORT_SUCCESS,dt.EXPORT_FAILURE)(),ft=Object(Xe.createAsyncAction)(dt.IMPORT_SLIDESHOW,dt.IMPORT_SLIDESHOW_SUCCESS,dt.IMPORT_SLIDESHOW_FAILURE)();function ht(e){return(ht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){return!t||"object"!==ht(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e){function t(){return bt(this,t),gt(this,wt(t).apply(this,arguments))}return Et(t,Object($["Record"])({"@context":"http://library.stanford.edu/iiif/image-api/1.1/context.json","@id":"null",formats:["jpg"],height:0,width:0,profile:"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",qualities:["default"],scale_factors:[1],tile_height:0,tile_width:0})),t}(),xt=new(function(e){function t(){var e;return bt(this,t),(e=gt(this,wt(t).apply(this,arguments))).info=new yt,e}return Et(t,Object($["Record"])({total:0,present:0,level:1,exporting:false})),t}());var Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt.SET_PROGRESS:return t.payload?t.payload:xt;case dt.EXPORT_START:return e.set("exporting",!0);case dt.EXPORT_SUCCESS:case dt.EXPORT_FAILURE:return e.set("exporting",!1);default:return e}},Ot=function(e){return e&&e.slicer?e.slicer:xt},St=function(){return Object(X.a)(Ot,function(e){return e})},jt=n("fa2ed8a2363df0bb047b"),kt=n.n(jt);function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Rt=regeneratorRuntime.mark(Vt),It=regeneratorRuntime.mark(Ht),At=regeneratorRuntime.mark(Wt),Lt=regeneratorRuntime.mark(qt),Tt=regeneratorRuntime.mark(Zt),Dt=regeneratorRuntime.mark(Jt),Nt=regeneratorRuntime.mark(Yt),Mt=regeneratorRuntime.mark(Xt),Pt=regeneratorRuntime.mark(Qt),zt=regeneratorRuntime.mark(Kt),Ft=regeneratorRuntime.mark($t),Gt=St(),Bt=We(),Ut=512;function Vt(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object($.isImmutable)(e)){t.next=3;break}return t.next=3,Ye.setItem("slideshows",e.toJS());case 3:return t.next=5,Object(qe.put)(Qe(e));case 5:case"end":return t.stop()}},Rt)}function Ht(e,t,n){var a,r,o,i,c,l,s,u,d,p,m,f,h,b,g;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:a=!0,r=!1,o=void 0,w.prev=3,i=e[Symbol.iterator]();case 5:if(a=(c=i.next()).done){w.next=42;break}l=c.value,s=Object(Q.last)(Object(Q.last)(l)),u=!0,d=!1,p=void 0,w.prev=11,m=l[Symbol.iterator]();case 13:if(u=(f=m.next()).done){w.next=23;break}return h=_t(f.value,2),b=h[0],g=h[1],t=t.set("present",t.present+1).set("level",s),w.next=18,Object(qe.put)(pt(t));case 18:return w.next=20,Object(qe.call)([Ye,Ye.setItem],"/"+n+b,g());case 20:u=!0,w.next=13;break;case 23:w.next=29;break;case 25:w.prev=25,w.t0=w.catch(11),d=!0,p=w.t0;case 29:w.prev=29,w.prev=30,u||null==m.return||m.return();case 32:if(w.prev=32,!d){w.next=35;break}throw p;case 35:return w.finish(32);case 36:return w.finish(29);case 37:return w.next=39,Object(qe.put)(pt(t));case 39:a=!0,w.next=5;break;case 42:w.next=48;break;case 44:w.prev=44,w.t1=w.catch(3),r=!0,o=w.t1;case 48:w.prev=48,w.prev=49,a||null==i.return||i.return();case 51:if(w.prev=51,!r){w.next=54;break}throw o;case 54:return w.finish(51);case 55:return w.finish(48);case 56:case"end":return w.stop()}},It,null,[[3,44,48,56],[11,25,29,37],[30,,32,36],[49,,51,55]])}function Wt(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(qe.select)(Gt);case 2:return t=(t=n.sent).set("total",e).set("present",0),n.next=6,Object(qe.put)(pt(t));case 6:return n.abrupt("return",t);case 7:case"end":return n.stop()}},At)}function qt(e,t){var n,a,r,o,i,c,l,s=arguments;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=!(s.length>2&&void 0!==s[2])||s[2],a=st(Ut,e.width,Ut,e.height),Ye.setItem("/info/".concat(t,".json"),it(e,a,t)),!n){u.next=30;break}return u.prev=4,r=Array.from(ut(e,{tileSize:512,scaleFactors:a})),u.next=8,Wt(r.length);case 8:return o=Object(Q.pipe)(Object(Q.groupBy)(Q.last),Q.values,Object(Q.sort)(function(e){return Object(Q.last)(Object(Q.last)(e))}),Object(Q.splitAt)(2))(r),i=_t(o,2),c=i[0],l=i[1],u.t0=Ht,u.t1=l,u.next=13,Object(qe.select)(Gt);case 13:return u.t2=u.sent,u.t3=t,u.delegateYield((0,u.t0)(u.t1,u.t2,u.t3),"t4",16);case 16:return u.t5=qe.spawn,u.t6=regeneratorRuntime.mark(function e(t,n,a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Ht(t,n,a),"t0",1);case 1:return e.next=3,Object(qe.put)(pt());case 3:case"end":return e.stop()}},e)}),u.t7=c,u.next=21,Object(qe.select)(Gt);case 21:return u.t8=u.sent,u.t9=t,u.next=25,(0,u.t5)(u.t6,u.t7,u.t8,u.t9);case 25:u.next=30;break;case 27:u.prev=27,u.t10=u.catch(4),console.error(u.t10);case 30:case"end":return u.stop()}},Lt,null,[[4,27]])}function Zt(e){var t,n,a,r,o,i,c,l,s,u,d,p;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,t=e.payload,(n=new kt.a).file(t.image.file.name,t.image.file),n.file("slideshow.json",JSON.stringify(t)),n.file("_headers","/*\n    Access-Control-Allow-Origin: *"),n.file("index.html",tt(t)),m.next=9,Ye.getItem("/info/".concat(t.image.id,".json"));case 9:return a=m.sent,n.file("info.json",JSON.stringify(a)),r=n.folder("images"),m.next=14,Ye.keys();case 14:return o=m.sent,m.next=17,Object(qe.all)(o.filter(function(e){return e.startsWith("/".concat(t.image.id))}));case 17:i=m.sent,c=!0,l=!1,s=void 0,m.prev=21,u=i[Symbol.iterator]();case 23:if(c=(d=u.next()).done){m.next=34;break}return p=d.value,m.t0=r,m.t1=p.replace("/".concat(t.image.id),""),m.next=29,Object(qe.call)([Ye,Ye.getItem],p);case 29:m.t2=m.sent,m.t0.file.call(m.t0,m.t1,m.t2);case 31:c=!0,m.next=23;break;case 34:m.next=40;break;case 36:m.prev=36,m.t3=m.catch(21),l=!0,s=m.t3;case 40:m.prev=40,m.prev=41,c||null==u.return||u.return();case 43:if(m.prev=43,!l){m.next=46;break}throw s;case 46:return m.finish(43);case 47:return m.finish(40);case 48:return m.t4=et.saveAs,m.next=51,n.generateAsync({type:"blob"});case 51:return m.t5=m.sent,m.t6="".concat(t.name,".zip"),(0,m.t4)(m.t5,m.t6),m.next=56,Object(qe.put)(mt.success());case 56:m.next=61;break;case 58:m.prev=58,m.t7=m.catch(0),console.error(m.t7);case 61:case"end":return m.stop()}},Tt,null,[[0,58],[21,36,40,48],[41,,43,47]])}function Jt(e){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(qe.select)(Bt);case 2:return(t=a.sent).some(function(t){return t.id===e.id})&&(e=e.set("id",te()())),(n=t.filter(function(t){return t.name.startsWith(e.name)})).size>=1&&(e=e.set("name","".concat(n.first().name," - ").concat(n.size+1))),a.abrupt("return",e);case 7:case"end":return a.stop()}},Dt)}function Yt(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=JSON,n.next=3,e.file("slideshow.json").async("string");case 3:return n.t1=n.sent,t=n.t0.parse.call(n.t0,n.t1),n.delegateYield(Jt(new Me(t)),"t2",6);case 6:return n.abrupt("return",n.t2);case 7:case"end":return n.stop()}},Nt)}function Xt(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.file("info.json"),n.t0=JSON,n.next=4,Object(qe.call)([t,t.async],"string");case 4:return n.t1=n.sent,t=n.t0.parse.call(n.t0,n.t1),Ye.setItem("/info/".concat(t["@id"],".json"),t),n.abrupt("return",t);case 8:case"end":return n.stop()}},Mt)}function Qt(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=File,t.next=3,e.file("thumbnail.jpg").async("blob");case 3:return t.t1=t.sent,t.t2=[t.t1],t.t3={type:"image/jpeg"},t.abrupt("return",new t.t0(t.t2,"thumbnail.jpg",t.t3));case 7:case"end":return t.stop()}},Pt)}function Kt(e){var t,n,a,r,o,i,c,l,s,u,d,p,m,f,h,b,g;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return t=new kt.a,w.next=3,t.loadAsync(e.payload);case 3:return n=t.filter(function(e){return e.startsWith("images")&&e.endsWith("jpg")}),w.next=6,Object(qe.all)([Object(qe.call)(Xt,t),Object(qe.call)(Qt,t),Object(qe.call)(Wt,n.length),Object(qe.call)(Yt,t)]);case 6:a=w.sent,r=_t(a,4),o=r[0],i=r[1],c=r[2],l=(l=r[3]).set("image",new ce(l.image).set("file",i)),s=!0,u=!1,d=void 0,w.prev=16,p=n[Symbol.iterator]();case 18:if(s=(m=p.next()).done){w.next=36;break}return f=m.value,h=f.name,w.t0=File,w.next=24,f.async("blob");case 24:return w.t1=w.sent,w.t2=[w.t1],w.t3={type:"image/jpeg"},b=new w.t0(w.t2,"native.jpg",w.t3),w.next=30,Ye.setItem("/".concat(o["@id"],"/").concat(h.slice(8)),b);case 30:return c=c.set("present",c.present+1).set("level",1),w.next=33,Object(qe.put)(pt(c));case 33:s=!0,w.next=18;break;case 36:w.next=42;break;case 38:w.prev=38,w.t4=w.catch(16),u=!0,d=w.t4;case 42:w.prev=42,w.prev=43,s||null==p.return||p.return();case 45:if(w.prev=45,!u){w.next=48;break}throw d;case 48:return w.finish(45);case 49:return w.finish(42);case 50:return w.next=52,Object(qe.select)(Bt);case 52:return g=w.sent,w.next=55,Vt(g.push(l));case 55:return w.next=57,Object(qe.put)(pt());case 57:case"end":return w.stop()}},zt,null,[[16,38,42,50],[43,,45,49]])}function $t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.takeLatest)(dt.EXPORT_START,Zt);case 2:return e.next=4,Object(qe.takeLatest)(dt.IMPORT_SLIDESHOW,Kt);case 4:case"end":return e.stop()}},Ft)}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var tn=regeneratorRuntime.mark(un),nn=regeneratorRuntime.mark(dn),an=regeneratorRuntime.mark(pn),rn=regeneratorRuntime.mark(mn),on=regeneratorRuntime.mark(fn),cn=regeneratorRuntime.mark(hn),ln=We(),sn=St();function un(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object($.isImmutable)(e)){t.next=3;break}return t.next=3,Ye.setItem("slideshows",e.toJS());case 3:return t.next=5,Object(qe.put)(Qe(e));case 5:case"end":return t.stop()}},tn)}function dn(e){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Jt(e.payload);case 2:return t=a.sent,a.next=5,Object(qe.select)(ln);case 5:return n=a.sent,a.next=8,un(n.push(t));case 8:case"end":return a.stop()}},nn)}function pn(e,t){var n,a,r,o,i;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Be(e.payload,t);case 3:return n=c.sent,a=en(n,2),r=a[0],o=a[1],c.delegateYield(qt(o,r.image.id,t),"t0",8);case 8:return c.next=10,Object(qe.select)(ln);case 10:return i=c.sent,c.next=13,un(i.push(r));case 13:return c.abrupt("return",r);case 16:c.prev=16,c.t1=c.catch(0),console.info("This should not happend"),console.error(c.t1);case 20:case"end":return c.stop()}},an,null,[[0,16]])}function mn(e){var t,n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(qe.select)(sn);case 2:return t=r.sent,n=t.set("total",500),r.next=6,Object(qe.put)(pt(n));case 6:return r.next=8,pn(e,!0);case 8:return a=r.sent,r.next=11,Object(qe.put)(Object(l.push)("/editor/"+a.id));case 11:case"end":return r.stop()}},rn)}function fn(e){var t,n,a,r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,i.next=3,Object(qe.call)([Ye,Ye.getItem],"slideshows");case 3:if((n=i.sent).forEach(function(e){return console.log(e.image.id)}),a=t.id,r=t.image.id,n=n.filter(function(e){return e.id!==a}),Ye.setItem("slideshows",n),n.some(function(e){return e.image.id===t.image.id})){i.next=15;break}return i.next=12,Ye.keys();case 12:return o=i.sent,i.next=15,Object(qe.all)(o.filter(function(e){return e.startsWith("/".concat(r))}).map(function(e){return Object(qe.call)([Ye,Ye.removeItem],e)}));case 15:return i.next=17,Object(qe.put)($e.success(e.payload));case 17:case"end":return i.stop()}},on)}function hn(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(qe.takeLatest)(K.CREATE_SLIDESHOW,mn);case 2:return t.next=4,Object(qe.takeLatest)(K.REMOVE_SLIDESHOW,fn);case 4:return t.next=6,Object(qe.takeLatest)(K.SLIDESHOW_DUPLICATE,dn);case 6:return t.prev=6,t.next=9,Ye.getItem("slideshows");case 9:return null===(e=t.sent)&&(e=[]),t.next=13,un(e);case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(6),console.error("Could not retrive slideshows"),console.error(t.t0);case 19:case"end":return t.stop()}},cn,null,[[6,15]])}var bn="app.containers.HomePage",gn=Object(Y.defineMessages)({header:{id:"".concat(bn,".header"),defaultMessage:"This is the HomePage container!"},chapo:{id:"".concat(bn,".chapo"),defaultMessage:"Tesselle is an image annotation & publication tool. It allows to comment on specific parts of photographs, maps, or visualizations, to make precise visual analysis. It also embeds a tiling feature which allows to seamlessly display and navigate very large images on the web. Eventually, Tesselle allows to export your work as a simple folder to publish anywhere on the web."}}),wn=(n("e081bc46499358fd0f25"),n("6643a48240e3ce4e96c0")),En=n("ba6ee886c72d0bb1c2a8"),vn=n("1e92c0da6675aefbf270"),yn=n("d16b3e87513ded4886cf"),xn=n("28dd61a68578ef9b7927"),Cn=n("421468d1f321052f0ad7");function On(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Sn=function(e,t){Object(a.useEffect)(function(){if(t.height){var n=2*Object(Q.last)(st(512,t.width,512,t.height));e.fitBounds(new le.LatLngBounds(new le.LatLng(0,0),new le.LatLng(-t.height/n,t.width/n)),{animate:!0})}else e.fitBounds(xe(t),{animate:!0})},[e,t])},jn=function(e,t){Object(a.useEffect)(function(){e.current&&(t?e.current.leafletElement.editing.enable():e.current.leafletElement.editing.disable())})};function kn(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=On(Object(a.useState)(e),2),n=t[0],r=t[1];return[n,Object(a.useCallback)(function(){return r(!1)},[]),Object(a.useCallback)(function(){return r(!0)},[])]}var _n=function(e,t){var n=On(Object(a.useState)(),2),r=n[0],o=n[1];return Object(a.useEffect)(function(){var n=window.fetch(e).then(function(e){return e.json()});t&&(n=n.then(t)),n.then(o)},[]),r},Rn=Object(Y.defineMessages)({header:{id:"".concat("app.components.SlideshowCartouche",".header"),defaultMessage:"This is the SlideshowCartouche component!"}});n("1b104b4ebf37bca69f40");function In(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var An,Ln=function(e){var t=e.children;return a.createElement("span",{style:{marginLeft:".5rem",marginRight:"1rem"}},a.createElement(Z.Icon,{isSize:"small"},t))},Tn=function(e){var t=Object(c.useDispatch)(),n=a.useCallback(function(){return t(Object(l.push)("/editor/".concat(e.slideshow.id)))},[e.slideshow]),r=a.useCallback(function(){return t(Object(l.push)("/player/".concat(e.slideshow.id)))},[e.slideshow]),o=In(a.useState(!1),2),i=o[0],s=o[1],u=In(a.useState(!1),2),p=u[0],m=u[1],f=function(){m(!1)},h=a.useCallback(function(t,a){switch(t){case"delete":return m(!0);case"open":return n();case"read":return r();case"duplicate":return e.onDuplicate(e.slideshow)}},[e.slideshow]),b=function(e){if(!e)throw new Error("File is empty");var t=Object(a.useMemo)(function(){return window.URL.createObjectURL(e)},[e]);return Object(a.useEffect)(function(){return function(){return window.URL.revokeObjectURL(t)}},[t]),t}(e.slideshow.image.file);return a.createElement(Z.Level,{className:"SlideshowCartouche"},a.createElement(Z.Column,null,a.createElement(Z.Card,{onAction:h,asideActions:[{label:a.createElement("span",null,a.createElement(Ln,null,a.createElement(wn.FontAwesomeIcon,{icon:En.faPencilAlt})),"edit"),isDisabled:i,isColor:"primary",id:"open"},{label:a.createElement("span",null,a.createElement(Ln,null,a.createElement(wn.FontAwesomeIcon,{icon:xn.faEye})),"preview"),isDisabled:i,id:"read"},{label:a.createElement("span",null,a.createElement(Ln,null,a.createElement(wn.FontAwesomeIcon,{icon:vn.faCopy})),"duplicate"),isDisabled:i,id:"duplicate"},{label:a.createElement("span",null,a.createElement(Ln,null,a.createElement(wn.FontAwesomeIcon,{icon:yn.faTrash})),"delete"),isDisabled:i,isColor:"warning",id:"delete"}],bodyContent:a.createElement(d.Link,{to:"/editor/".concat(e.slideshow.id)},a.createElement(Z.Columns,null,a.createElement(Z.Column,{isSize:"1/4",className:"thumbnail-container",style:{marginRight:"1rem"}},a.createElement("img",{src:b,style:{width:"auto",height:"auto"}})),a.createElement(Z.Column,{isSize:"3/4"},a.createElement(Z.Title,null,a.createElement("b",null,e.slideshow.name)),a.createElement(Z.Content,null,a.createElement("p",{className:"annotations-container"},a.createElement("span",{className:"annotations-number"},e.slideshow.annotations.size)," ","annotation",1===e.slideshow.annotations.size?"":"s")))))},a.createElement(Z.Columns,null,a.createElement(Z.Column,null,a.createElement(Y.FormattedMessage,Object.assign({},Rn.header)))))),a.createElement(Z.ModalCard,{isActive:p,onClose:f,headerContent:"Deleting a slideshow",mainContent:"Are you sure you want to delete this document ?",footerContent:[a.createElement(Z.StretchedLayoutContainer,{style:{width:"100%"},isDirection:"horizontal",key:0},a.createElement(Z.StretchedLayoutItem,{isFlex:1},a.createElement(Z.Button,{isFullWidth:!0,onClick:function(){s(!0),e.onDelete(e.slideshow),m(!1)},isColor:"danger"},"Delete")),a.createElement(Z.StretchedLayoutItem,{isFlex:1},a.createElement(Z.Button,{isFullWidth:!0,onClick:f,isColor:"warning"},"Cancel")))]}))};!function(e){e.DEFAULT_ACTION="app/Editor/DEFAULT_ACTION",e.CREATE_ANNOTATION="app/Editor/CREATE_ANNOTATION",e.REMOVE_ANNOTATION="app/Editor/REMOVE_ANNOTATION",e.EDIT_ANNOTATION="app/Editor/EDIT_ANNOTATION",e.CHANGE_ORDER="app/Editor/CHANGE_ORDER",e.EDIT_SLIDESHOW="app/Editor/EDIT_SLIDESHOW",e.CHANGE_SELECTED_ANNOTATION="app/Editor/CHANGE_SELECTED_ANNOTATION"}(An||(An={}));var Dn=An,Nn={slideshow:null,selectedAnnotations:Object($.List)()},Mn=function(e){return Object(Q.when)(e.payload.annotation.equals.bind(e.payload.annotation),function(t){return t.merge(Object($.isImmutable)(e.payload.editedFeature)?e.payload.editedFeature:Ee(e.payload.editedFeature))})},Pn=Object(p.combineReducers)({selectedAnnotations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.selectedAnnotations,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dn.CHANGE_SELECTED_ANNOTATION:if(t.payload){if(t.payload instanceof $.List)return t.payload;var n=t.payload;return e.contains(n)?e.remove(e.indexOf(n)):Object($.List)([n])}return Nn.selectedAnnotations;case Dn.EDIT_ANNOTATION:return e.map(Mn(t));case Dn.REMOVE_ANNOTATION:return e.remove(e.indexOf(t.payload))}return e},slideshow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn.slideshow,t=arguments.length>1?arguments[1]:void 0;if(e)switch(t.type){case K.LOAD_SLIDESHOWS:return Nn.slideshow;case Dn.CHANGE_ORDER:return e.set("annotations",t.payload);case Dn.CREATE_ANNOTATION:return e.set("annotations",e.annotations.push(Ee(t.payload)));case Dn.EDIT_ANNOTATION:return e.set("annotations",e.annotations.map(Mn(t)));case Dn.REMOVE_ANNOTATION:return e.set("annotations",e.annotations.remove(e.annotations.indexOf(t.payload)))}switch(t.type){case Dn.EDIT_SLIDESHOW:return Object($.isImmutable)(t.payload)?t.payload:new Me({id:t.payload.id,name:t.payload.name,image:new ce(t.payload.image),annotations:t.payload.annotations.map(Ee)})}return e}}),zn=function(e){return e&&e.editor?e.editor:Nn},Fn=function(){return Object(X.a)(zn,function(e){return e&&e.slideshow})},Gn=Object(X.a)(zn,function(e){return e.selectedAnnotations}),Bn=Fn(),Un=St(),Vn=function(){return Object(c.useSelector)(Un)},Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(c.useSelector)(Bn),t=Object(c.useDispatch)();return[Object(c.useSelector)(Object(X.a)(Ot,function(e){return e.exporting})),r.a.useCallback(function(){return t(mt.request(e))},[t,e])]},Wn=n("cc76f763c4e09ef29989"),qn=n.n(Wn),Zn=n("29af6943dd72dd3f0f6d"),Jn=n.n(Zn),Yn=n("0c80db8ded60097168a5"),Xn=n.n(Yn);var Qn=function(){var e=Vn();return e&&0===e.total?a.createElement(a.Fragment,null):a.createElement("div",null,a.createElement("progress",{className:"progress is-primary",value:"".concat(e.present/e.total*100),max:"100"},100*Math.floor(e.present/e.total)))},Kn=["image/svg+xml","image/jpeg","image/png","image/bmp","image/webp"],$n=["application/zip"],ea=[].concat(Kn,$n),ta=Object(Q.propSatisfies)(Object(Q.includes)(Q.__,Kn),"type"),na=Object(Q.propSatisfies)(Object(Q.includes)(Q.__,$n),"type");var aa=Object(X.b)({slideshows:We()}),ra=Object(c.connect)(aa,{createSlideshow:Ke.request,duplicateSlideshow:function(e){return Object(Xe.action)(K.SLIDESHOW_DUPLICATE,e)},importSlideshow:ft.request}),oa=W({key:"homePage",reducer:Ve}),ia=D({key:"homePage",saga:hn}),ca=Object(p.compose)(oa,ia,ra)(function(e){var t=Object(c.useDispatch)(),n=Vn(),o=Object(a.useCallback)(function(t){var n=Object(Q.head)(t);return ta(n)?e.createSlideshow(n):na(n)?e.importSlideshow(n):void 0},[e.createSlideshow,e.importSlideshow]),i=Object(a.useCallback)(Object(Q.pipe)($e.request,t),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.Container,{className:"home-container"},r.a.createElement(J.Helmet,null,r.a.createElement("title",null,"Tesselle"),r.a.createElement("meta",{name:"description",content:"An image annotation and publishing tool"})),r.a.createElement(Z.Columns,null,r.a.createElement(Z.Column,{className:"aside-column",isSize:"1/3"},r.a.createElement(Z.Content,null,r.a.createElement(Z.Title,{className:"app-title",isSize:1},r.a.createElement("img",{src:Xn.a}),r.a.createElement("span",null,"Tesselle")),r.a.createElement("p",null,r.a.createElement(Y.FormattedMessage,Object.assign({},gn.chapo)))),0===n.total?r.a.createElement(Z.DropZone,{accept:ea,onDrop:o},e.loading?"Loading...":"Drop an image file (.jpg, .png, or .svg) or a tesselle project (.zip)"):r.a.createElement(Qn,null)),r.a.createElement(Z.Column,{isSize:"2/3",className:"cards-column"},r.a.createElement("div",{className:"list-projects__container"},r.a.createElement("h4",{className:"list-projects__title title is-2"},"Your documents"),r.a.createElement("ul",{className:"cards-container"},e.slideshows.map(function(t){return r.a.createElement("li",{className:"card-wrapper",key:t.id},r.a.createElement(Tn,{onDelete:i,slideshow:t,onDuplicate:e.duplicateSlideshow}))})))))),r.a.createElement(Z.Footer,{id:"footer"},r.a.createElement(Z.Container,null,r.a.createElement(Z.Columns,null,r.a.createElement(Z.Column,{className:"logos-column",isSize:"1/3"},r.a.createElement("div",null,r.a.createElement("a",{target:"blank",href:"http://controverses.org/"},r.a.createElement("img",{className:"logo-img",src:Jn.a})),r.a.createElement("a",{target:"blank",href:"https://medialab.sciencespo.fr"},r.a.createElement("img",{className:"logo-img",src:qn.a})))),r.a.createElement(Z.Column,{isSize:"2/3",className:"about-column"},r.a.createElement(Z.Content,{style:{paddingLeft:"1rem"},isSize:"small"},r.a.createElement("p",null,"Provided by the ",r.a.createElement("a",{target:"blank",href:"http://controverses.org/"},"FORCCAST")," program, fostering pedagogical innovations in controversy mapping."),r.a.createElement("p",null,"Made at the ",r.a.createElement("a",{target:"blank",href:"http://medialab.sciencespo.fr/"},"m\xe9dialab SciencesPo"),", a research laboratory that connects social sciences with inventive methods."),r.a.createElement("p",null,"The source code of Tesselle is licensed under free software license ",r.a.createElement("a",{target:"blank",href:"http://www.gnu.org/licenses/agpl-3.0.html"},"AGPL v3")," and is hosted on ",r.a.createElement("a",{target:"blank",href:"https://github.com/medialab/tesselle/"},"Github"),".")))))))}),la=n("2f81fe237cff4b1ceb95"),sa=n("bc8430cd73a0376eedfe"),ua=n("4b503b4982128a0cb856"),da=n("051ed348cf16ded10853"),pa=n.n(da),ma=n("eee9a5d5a7404d3c0293"),fa=n.n(ma),ha=n("7b1d6ef55c12f5ddfe2a"),ba=n.n(ha),ga=n("65487e27ba6ae8e8f9c5"),wa=n.n(ga),Ea=n("6a95e2c254c73be60618"),va=n.n(Ea),ya=n("622ec8036aaf28780be2"),xa=n.n(ya),Ca=n("dcda6ef0b88628a2b364"),Oa=n.n(Ca),Sa=n("1d1992de665ce089503e"),ja=n.n(Sa),ka=n("6034ec4c48cf13fdf8f7"),_a=n.n(ka),Ra=n("9ff90a0cc5204b4629a4"),Ia=n.n(Ra),Aa={anchorEllipse:{white:ba.a,black:wa.a},anchorPolygon:{white:va.a,black:xa.a},anchorRectangle:{white:Oa.a,black:ja.a},select:{white:_a.a,black:Ia.a}},La=(n("64dac7de12fb65a47bbf"),function(e){var t=[{icon:Aa.select,tool:"selector",event:e.onSelectClick,helpMessage:"select (shortcut: escape)"},{icon:Aa.anchorRectangle,tool:"rectangle",event:e.onRectangleClick,helpMessage:"rectangle (shortcut: r)"},{icon:Aa.anchorEllipse,tool:"circle",event:e.onCircleClick,helpMessage:"circle (shortcut: c)"},{icon:Aa.anchorPolygon,tool:"polygon",event:e.onPolygonClick,helpMessage:"polygon (shortcut: p)"}];return a.createElement(pa.a,{position:"bottomright"},a.createElement("div",{className:"buttons-container"},t.map(function(t){var n=t.icon,r=t.tool,o=t.event,i=t.helpMessage;return a.createElement(Z.Button,{onClick:o,key:r,"data-tip":i,"data-for":"tool-tooltip",isColor:r===e.activeButton?"primary":"",style:{marginBottom:".5rem"},isRounded:!0},a.createElement(Z.Icon,{isSize:"medium",isAlign:"left"},a.createElement("img",{src:n[r===e.activeButton?"white":"black"]})))})),a.createElement(fa.a,{id:"tool-tooltip",place:"left",effect:"solid"}))}),Ta=n("78069eb42d60e3550082"),Da=n("92ea29a0324dc2b17b83"),Na=n("b912ecc4473ae8a2ff0b"),Ma=n.n(Na),Pa=n("0c162607d512e05180f3"),za=n("5deddc6d948bb83c85b5"),Fa=n("619f7120e34c4d4f52eb"),Ga=n("55695ecc07069e5266f8"),Ba=n.n(Ga),Ua=(n("24e2ac89b53a62ce0fe1"),Object(Y.defineMessages)({content:{id:"".concat("app.components.Download",".content"),defaultMessage:"Download"}}));function Va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ha=function(e){var t=Va(Hn(),2),n=t[0],r=t[1];return a.createElement(Z.Button,Object.assign({isFullWidth:!0,onClick:r,disabled:n,isLoading:n,isColor:"info"},e),a.createElement(Y.FormattedMessage,Object.assign({},Ua.content)))},Wa=Object(Y.defineMessages)({annotationPlaceholder:{id:"".concat("app.components.Sidebar",".annotationPlaceholder"),defaultMessage:"Write an annotation about this image part"}}),qa=Object(Y.defineMessages)({header:{id:"".concat("app.components.DownloadModalHelp",".header"),defaultMessage:"Download help"}}),Za=n("4eb2980d0dff041f10f0"),Ja=n.n(Za),Ya=n("c028e50ef048b4d77b1b");Ja.a.setAppElement("#app");var Xa=function(e){var t=e.isOpen,n=e.onRequestClose;return a.createElement(Ja.a,{isOpen:t,onRequestClose:n,contentLabel:"Download help"},a.createElement("div",{className:"modal-content-container"},a.createElement("div",{className:"modal-content-header"},a.createElement(Z.Title,{isSize:"3"},a.createElement("span",null,a.createElement(Y.FormattedMessage,Object.assign({},qa.header))),a.createElement("span",null,a.createElement(Z.Button,{onClick:n,isRounded:!0},a.createElement(Z.Icon,null,a.createElement(wn.FontAwesomeIcon,{icon:Ya.faTimes})))))),a.createElement("div",{className:"modal-content-body"},a.createElement(Z.Content,null,a.createElement("p",null,"Tesselle data lives in your browser, which means all the work you are doing is private and protected by default."),a.createElement("p",null,'In order to get your data out there, the archive downloaded from Tesselle when clicking on the "download" button can be used in two ways:'),a.createElement("ol",null,a.createElement("li",null,"to archive your work, version it, or share it with coworkers, and possibly to re-upload from the homepage of the tool later"),a.createElement("li",null,"to publish your work on the web")),a.createElement("p",null,"For the matter of publication, the archived folder which is downloaded from the tool is a plain static website that can be uploaded anywhere on a personal server or web hosting service."),a.createElement("p",null,"For instance, you can use ",a.createElement("a",{href:"https://app.netlify.com/drop",target:"blank",rel:"noopener"},"Netlify drop")," as a free and straightforward way to publish the site of the web. To do so, go to the ",a.createElement("a",{href:"https://app.netlify.com/drop",target:"blank",rel:"noopener"},"Netlify drop")," webpage, drag and drop the downloaded archive file on it, and ... that's it, your document is online !"),a.createElement("p",null,"As an alternative, you can also use github pages as a publication solution. You can refer to this ",a.createElement("a",{href:"https://www.youtube.com/watch?v=8hrJ4oN1u_8",target:"blank",rel:"noopener"},"video tutorial")," for that matter.")))))},Qa=n("776f7b15d44f70e7504d"),Ka=n.n(Qa);function $a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var er=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},tr=function(e){var t=e.field,n=e.form,o=n.touched,i=n.errors,c=er(e,["field","form"]),l=Object(a.useRef)(null);return Object(a.useEffect)(function(){c.selected&&l.current.focus()},[c.selected]),r.a.createElement("div",null,r.a.createElement(Y.FormattedMessage,Object.assign({},Wa.annotationPlaceholder),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pa.a,Object.assign({inputRef:l,autoFocus:c.selected},t,c,{placeholder:e})),o[t.name]&&i[t.name]&&r.a.createElement("div",{className:"error"},i[t.name]))}))},nr=function(e){return!e.content&&e.content.length,{}},ar=r.a.forwardRef(function(e,t){var n=r.a.useCallback(function(t){t.stopPropagation(),e.onClick(e.data)},[e.onClick,e.data]),o=Object(a.useCallback)(function(t){t.content!==e.data.properties.content&&e.onChange(e.data,e.data.set("properties",e.data.properties.set("content",t.content)))},[e.data,e.onChange]),i=Object(a.useCallback)(function(t){le.DomEvent.preventDefault(t),e.onRemove(e.data)},[e.data,e.onRemove]),c=e.minified?r.a.Fragment:Z.Box;return r.a.createElement("div",Object.assign({className:Ma()({"sidebar--menu-item sidebar--spacing":!0,"sidebar--menu-item__selected":e.selected,"sidebar--menu-item__minified":e.minified}),ref:t},e.draggableProps,{onClick:n}),r.a.createElement(c,null,r.a.createElement(Z.StretchedLayoutContainer,{isDirection:"horizontal"},r.a.createElement(Z.StretchedLayoutItem,{style:{paddingRight:"1rem"},isFlex:1},r.a.createElement(Da.Formik,{initialValues:Object(a.useMemo)(function(){return e.data.properties.toJS()},[e.data.properties]),enableReinitialize:!0,onSubmit:o,validate:nr},function(t){return r.a.createElement(Da.Form,null,r.a.createElement(Da.Field,{minRows:1,maxRows:5,selected:e.selected,onBlur:function(e){t.handleBlur(e),t.submitForm()},className:Ma()("textarea","sidebar--item-field",{"sidebar--item-field--selected":e.selected,"sidebar--item-field--minified":e.minified}),name:"content",component:tr}))})),r.a.createElement(Z.StretchedLayoutItem,null,r.a.createElement(Z.StretchedLayoutContainer,{isDirection:"horizontal"},r.a.createElement(Z.Button,{onClick:i,style:{marginBottom:".5rem"},"data-for":"card-action","data-tip":"delete this annotation"},r.a.createElement(Z.Icon,{isSize:"small",isAlign:"left"},r.a.createElement("img",{src:Ba.a.remove.black.svg}))),e.dragHandleProps&&r.a.createElement("div",Object.assign({},e.dragHandleProps),r.a.createElement("div",{className:"button is-lock-status-open",style:{marginBottom:".5rem"},"data-for":"card-action","data-tip":"drag to change annotation order"},r.a.createElement(Z.Icon,{isSize:"small",isAlign:"left"},r.a.createElement("img",{src:Ba.a.move.black.svg})))))))))}),rr=function(e){var t=Object(a.useCallback)(function(t){var n,a,r,o;t.destination&&e.onOrderChange((n=e.slideshow.annotations,a=t.source.index,r=t.destination.index,(o=n.get(a))?n.splice(a,1).splice(r,0,o):n))},[e.slideshow.annotations]);return r.a.createElement(Ta.DragDropContext,{onDragEnd:t},r.a.createElement(Ta.Droppable,{droppableId:"droppable"},function(t){return r.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef}),e.slideshow.annotations.map(function(t,n){return r.a.createElement(Ta.Draggable,{key:t.properties.id,draggableId:t.properties.id,index:n},function(n){return r.a.createElement(ar,{onChange:e.onAnnotationChange,onClick:e.onAnnotationClick,onRemove:e.onRemove,ref:n.innerRef,draggableProps:n.draggableProps,dragHandleProps:n.dragHandleProps,data:t,selected:e.selectedAnnotations.includes(t)})})}),t.placeholder)}))},or=function(e){return r.a.createElement("div",{className:"sidebar--header-container sidebar--spacing"},r.a.createElement(Z.Title,{isSize:5},r.a.createElement(d.Link,{to:"/"},r.a.createElement("img",{"data-tip":"Back to home","data-for":"tooltip",src:Ka.a,style:{maxWidth:"2rem"}}))),e.visible?r.a.createElement(ir,{title:e.slideshow.name,onChange:e.onNameChange}):r.a.createElement(Z.Title,{isSize:6,className:"is-stretch"},e.slideshow.name),r.a.createElement(Z.Button,{isRounded:!0,className:"minify-toggle",onClick:e.onButtonClick},r.a.createElement(Z.Icon,null,e.visible?r.a.createElement(wn.FontAwesomeIcon,{icon:za.faMinus}):r.a.createElement(wn.FontAwesomeIcon,{icon:Fa.faPlus}))))},ir=function(e){return r.a.createElement(Da.Formik,{initialValues:e,onSubmit:e.onChange},function(e){return r.a.createElement(Da.Form,null,r.a.createElement(Da.Field,{className:"input__invisible input",onBlur:function(t){e.handleBlur(t),e.submitForm()},name:"title","data-for":"tooltip","data-tip":"document title","data-place":"bottom",placeholder:"document title"}))})},cr=function(e){var t=Object(a.useCallback)(function(t){return t.stopPropagation(),e.onAnnotationClick()},[]),n=Object(a.useCallback)(function(t){return e.onNameChange(e.slideshow.set("name",t.title))},[e.slideshow]),o=e.selectedAnnotations.first(),i=$a(Object(a.useState)(!1),2),c=i[0],l=i[1];return r.a.createElement("div",{className:Ma()({sidebar:!0,visible:e.visible,hidden:!e.visible})},r.a.createElement(or,{onButtonClick:e.visible?e.onClose:e.onOpen,visible:e.visible,onNameChange:n,slideshow:e.slideshow}),r.a.createElement("div",{className:"sidebar--wrapper"},r.a.createElement(Qn,null),r.a.createElement("div",{onClick:t,className:"sidebar--container"},e.visible?r.a.createElement(rr,Object.assign({},e)):o?r.a.createElement(ar,{onChange:e.onAnnotationChange,onClick:e.onAnnotationClick,onRemove:e.onRemove,data:o,selected:!!o,minified:void 0!==e.visible}):r.a.createElement("span",{className:"sidebar--minified-placeholder"},"select or create an annotation"))),r.a.createElement("footer",{className:"sidebar--footer-container sidebar--spacing"},r.a.createElement(Z.StretchedLayoutContainer,{isDirection:"horizontal",style:{width:"100%"}},r.a.createElement(Z.StretchedLayoutItem,{isFlex:1},r.a.createElement(d.Link,{to:"/player/".concat(e.slideshow.id),className:"button is-fullwidth is-primary"},"Preview")),r.a.createElement(Z.StretchedLayoutItem,{isFlex:1},r.a.createElement(Z.StretchedLayoutContainer,{isDirection:"horizontal"},r.a.createElement(Z.StretchedLayoutItem,{isFlex:1},r.a.createElement(Ha,{disabled:!e.slideshow.annotations.size})),r.a.createElement(Z.StretchedLayoutItem,null,r.a.createElement(Z.Button,{onClick:function(){return l(!0)},isColor:"info"},"?")))))),r.a.createElement(Xa,{isOpen:c,onRequestClose:function(){return l(!1)}}),r.a.createElement(fa.a,{id:"tooltip",place:"right",effect:"solid"}))},lr=n("070f4000acc3a3139fe2"),sr=n.n(lr),ur=(n("5a506235aaa5ee0bbd27"),function(e){return a.createElement("div",{className:"loader-container"},a.createElement("div",{className:"loader-content"},a.createElement("h1",{className:"title is-1 loader-title-container"},a.createElement("img",{className:"spinner",src:sr.a}),a.createElement("span",{className:"app-name"},"Tesselle")),a.createElement("h2",{className:"title is-3"},"Loading")))}),dr=n("7405c1b7e17104032f85"),pr=n("71fe54f7c370c768d3d7"),mr=(n("900f2aad7b7accbbe90d"),n("77cdcf6d92804c8937e7")),fr=n("92e6c4ceeedd014a9ad5");function hr(e){return(hr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function br(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function gr(e,t){return!t||"object"!==hr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wr(e,t,n){return(wr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Er(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yr={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"},xr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=gr(this,Er(t).apply(this,arguments))).onDrawCreate=function(t){var n=e.props.onCreated;n&&(e.props.leaflet&&e.props.leaflet.layerContainer&&n(t))},e}var n,a,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(t,fr["a"]),n=t,(a=[{key:"createLeafletElement",value:function(e){return Cr(e)}},{key:"componentDidMount",value:function(){if(wr(Er(t.prototype),"componentDidMount",this)&&wr(Er(t.prototype),"componentDidMount",this).call(this),this.props.leaflet){var e=this.props.leaflet.map,n=this.props.onMounted;if(e){for(var a in yr)this.props[a]&&e.on(yr[a],this.props[a]);e.on(se.a.Draw.Event.CREATED,this.onDrawCreate),n&&n(this.props.leaflet.layerContainer)}}}},{key:"componentWillUnmount",value:function(){if(wr(Er(t.prototype),"componentWillUnmount",this)&&wr(Er(t.prototype),"componentWillUnmount",this).call(this),this.props.leaflet){var e=this.props.leaflet.map;if(e)for(var n in e.off(se.a.Draw.Event.CREATED,this.onDrawCreate),yr)this.props[n]&&e.off(yr[n],this.props[n])}}},{key:"componentDidUpdate",value:function(e,n){if(wr(Er(t.prototype),"componentDidUpdate",this)&&wr(Er(t.prototype),"componentDidUpdate",this).call(this,e,n),this.props.leaflet&&this.props.leaflet.map){for(var a in yr)e[a]!==this.props[a]&&(this.props.leaflet.map.off(yr[a],e[a]),this.props.leaflet.map.on(yr[a],this.props[a]));if(Object(mr.a)(this.props.draw,e.draw)||this.props.position!==e.position)return!1;this.leafletElement.remove(),this.leafletElement=Cr(this.props),this.leafletElement.addTo(this.props.leaflet.map)}return null}}])&&br(n.prototype,a),r&&br(n,r),t}();function Cr(e){var t=e.leaflet.layerContainer,n=e.draw,a=e.edit,r=e.position,o={edit:Object.assign({},a,{featureGroup:t})};return n&&(o.draw=Object.assign({},n)),r&&(o.position=r),new le.Control.Draw(o)}var Or=Object(la.d)(xr),Sr=(n("a4bdf3e5032d230f45cd"),n("84750c66bab2128a0ec5")),jr=n("e40000278404232776b0"),kr=function(e){var t=e.annotation,n=e.selected,o=Object(a.useRef)(null),i=Object(a.useMemo)(function(){return ye(t.geometry.coordinates,"Polygon"===t.geometry.type?1:2).toJS()},[n]);return jn(o,e.editable&&n),r.a.createElement(Sr.a,Object.assign({key:e.className,ref:o},e,{positions:i,editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&r.a.createElement(jr.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))},_r=function(e){var t=e.annotation,n=e.selected,o=Object(a.useRef)(null),i=Object(a.useMemo)(function(){return"Point"===t.geometry.type?ge(t.geometry.coordinates,t.properties.radius,50):ye(t.geometry.coordinates,"Polygon"===t.geometry.type?1:2).toJS()},[n]);jn(o,e.editable&&n);return r.a.createElement(Sr.a,Object.assign({key:e.className,ref:o},e,{positions:[[{lat:-500,lng:500},{lat:500,lng:500},{lat:500,lng:-500},{lat:-500,lng:-500}],i],editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&r.a.createElement(jr.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))},Rr=n("e71336624e460c019bdb"),Ir=function(e){var t=e.annotation,n=e.selected,o=Object(a.useMemo)(function(){return ve(t.geometry.coordinates)},[t.geometry.coordinates]),i=Object(a.useRef)(null);return jn(i,e.editable&&n),r.a.createElement(Rr.a,Object.assign({key:e.className,ref:i},e,{center:o,radius:t.properties.radius,editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&r.a.createElement(jr.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))},Ar=Object(Xe.createAction)(Dn.CREATE_ANNOTATION,function(e){return function(t){return e(t)}}),Lr=Object(Xe.createAction)(Dn.REMOVE_ANNOTATION,function(e){return function(t){return e(t)}}),Tr=Object(Xe.createAction)(Dn.EDIT_ANNOTATION,function(e){return function(t,n){return e({annotation:t,editedFeature:n})}}),Dr=Object(Xe.createAction)(Dn.CHANGE_ORDER,function(e){return function(t){return e(t)}}),Nr=Object(Xe.createAction)(Dn.CHANGE_SELECTED_ANNOTATION,function(e){return function(t,n){return e(t,n)}}),Mr=Object(Xe.createAction)(Dn.EDIT_SLIDESHOW,function(e){return function(t){return e(t)}}),Pr=n("c056c018ed67cc493b37"),zr=(n("2cd43a1b9fb52d2cee96"),function(e){var t=e.annotation,n=e.selected,o=Object(a.useMemo)(function(){return ye(t.geometry.coordinates,1).toJS()},[t.geometry.coordinates]),i=Object(a.useRef)(null);return jn(i,e.editable&&n),r.a.createElement(Pr.a,Object.assign({key:e.className,ref:i},e,{bounds:o,editing:!0,original:!0,properties:t.properties}),(!n||!e.editable)&&r.a.createElement(jr.a,{opacity:1,permanent:!0,interactive:!0},t.properties.content))}),Fr=function(e){var t=e.annotation,n=e.onClick,o=Object(a.useCallback)(function(e){return le.DomEvent.stopPropagation(e),n&&n(t)},[n,t]);if(!e.editable&&e.selected)return r.a.createElement(_r,Object.assign({},e,{onClick:o}));switch(t.geometry.type){case"Point":return r.a.createElement(Ir,Object.assign({},e,{onClick:o}));case"Polygon":case"MultiPolygon":return"rectangle"===t.properties.type?r.a.createElement(zr,Object.assign({},e,{onClick:o})):r.a.createElement(kr,Object.assign({},e,{onClick:o}))}return r.a.createElement(r.a.Fragment,null)},Gr=Object(la.d)(function(e){var t=e.leaflet.map,n=Object(c.useDispatch)(),o=Object(a.useRef)(null),i=Object(a.useCallback)(function(){e.selectedAnnotations&&o.current&&e.onCreated&&o.current.leafletElement.getLayers().forEach(function(t){var a=e.selectedAnnotations.find(function(e){return e.properties.id===t.options.properties.id});if(a){var r=t.toGeoJSON();return"circle"===a.properties.type&&n(Tr(a,a.set("geometry",Ee(r.geometry)).setIn(["properties","radius"],t.getRadius()))),n(Tr(a,Ee(r).set("properties",a.properties)))}})},[e.selectedAnnotations,e.onCreated,o.current]),l=Object(a.useCallback)(function(n){if("circle"===n.layerType){var a=n.layer.toGeoJSON();return a.properties.radius=n.layer.getRadius(),n.layer.remove(t),e.onCreated(a)}var r=n.layer.toGeoJSON();return r.properties.type=n.layerType,n.layer.remove(t),e.onCreated(r)},[]);return r.a.createElement(dr.a,null,r.a.createElement(pr.a,{ref:o},e.editable&&r.a.createElement(Or,{position:"topright",onEdited:i,onCreated:l,onEditMove:i,onEditResize:i,onEditVertex:i,edit:{edit:!1,remove:!1},draw:{circlemarker:!1,marker:!1,polyline:!1,circle:!1,rectangle:!1,polygon:!1}}),e.data.map(function(t){var n=e.selectedAnnotations.contains(t);return r.a.createElement(Fr,{className:"annotation-shape ".concat(n&&"annotation-shape__editing"),key:t.properties.id,color:n?"black":"white",weight:1.5,editable:e.editable,lineCap:"butt",onClick:e.onLayerClick,annotation:t,selected:n})})))}),Br=(n("66a1c366ea57fb65bda8"),regeneratorRuntime.mark(Wr)),Ur=regeneratorRuntime.mark(qr),Vr=regeneratorRuntime.mark(Zr),Hr=Fn();function Wr(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object($.isImmutable)(e)){t.next=3;break}return t.next=3,Ye.setItem("slideshow",e.toJS());case 3:return t.next=5,Object(qe.put)(Mr(e));case 5:case"end":return t.stop()}},Br)}function qr(e){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.select)(Hr);case 2:if(t=e.sent,!Object($.isImmutable)(t)){e.next=9;break}return e.next=6,Ye.getItem("slideshows");case 6:return n=e.sent,e.next=9,Ye.setItem("slideshows",n.map(Object(Q.when)(function(e){return e.id===t.id},function(e){return t.toJS()})));case 9:case"end":return e.stop()}},Ur)}function Zr(e){var t,n,a,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.match.params.id,o.next=3,Object(qe.takeLatest)(Dn.CREATE_ANNOTATION,qr);case 3:return o.next=5,Object(qe.takeLatest)(Dn.REMOVE_ANNOTATION,qr);case 5:return o.next=7,Object(qe.takeLatest)(Dn.EDIT_ANNOTATION,qr);case 7:return o.next=9,Object(qe.takeLatest)(Dn.CHANGE_ORDER,qr);case 9:return o.next=11,Object(qe.takeLatest)(Dn.EDIT_SLIDESHOW,qr);case 11:return o.prev=11,o.next=14,Object(qe.select)(Hr);case 14:if(!(n=o.sent)||n.id!==t){o.next=17;break}return o.abrupt("return");case 17:return o.next=19,Ye.getItem("slideshows");case 19:if(a=o.sent,!(r=a.find(function(e){return e.id===t}))){o.next=24;break}return o.next=24,Wr(r);case 24:o.next=29;break;case 26:o.prev=26,o.t0=o.catch(11),console.error(o.t0);case 29:case"end":return o.stop()}},Vr,null,[[11,26]])}var Jr=n("59060a782db56111824b");function Yr(e){return(Yr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e){return Math.ceil(Math.log(e)/Math.LN2)}var Qr=se.a.TileLayer.extend({options:{continuousWorld:!0,tileSize:512,updateWhenIdle:!0,tileFormat:"jpg",fitBounds:!0,setMaxBounds:!1},x:0,y:0,_levels:{},_tyles:{},_baseUrl:"",initialize:function(e){var t=this;e.maxZoom&&(this._customMaxZoom=!0),e.tileSize&&(this._explicitTileSize=!0),e.quality&&(this._explicitQuality=!0),e=se.a.setOptions(this,e),this._infoDeferred=this._getInfo().then(function(e){return t.onInfo(e)})},onInfo:function(e){this.y=e.height,this.x=e.width;var t,n,a,r,o,i=[],c=[];this.profile=e.profile instanceof Array?this.profile=e.profile[0]:this.profile=e.profile,this._setQuality(),this._explicitTileSize||(this.options.tileSize=512,e.tiles?this.options.tileSize=e.tiles[0].width:e.tile_width&&(this.options.tileSize=e.tile_width)),this.maxNativeZoom=Math.max(Xr(this.x/this.options.tileSize),Xr(this.y/this.options.tileSize)),this.options.maxNativeZoom=this.maxNativeZoom,this.maxZoom=this._customMaxZoom&&this.options.maxZoom>this.maxNativeZoom?this.options.maxZoom:this.maxNativeZoom;for(var l=0;l<=this.maxZoom;l++)t=Math.pow(2,this.maxNativeZoom-l),n=Math.ceil(this.x/t),a=Math.ceil(this.y/t),r=Math.ceil(n/this.options.tileSize),o=Math.ceil(a/this.options.tileSize),i.push([r,o]),c.push(se.a.point(n,a));this._tierSizes=i,this._imageSizes=c},getTileUrl:function(e){var t=e.x,n=e.y,a=this._getZoomForUrl(),r=Math.pow(2,this.maxNativeZoom-a),o=this.options.tileSize*r,i=t*o,c=n*o,l=Math.min(i+o,this.x)-i,s=Math.min(c+o,this.y)-c,u=Math.ceil(l/r),d={format:this.options.tileFormat,quality:this.quality,region:[i,c,l,s].join(","),rotation:0,size:u+","};return se.a.Util.template(this._baseUrl,Object.assign({},d,this.options))},onAdd:function(e){var t=this;this._infoDeferred.then(function(){t._imageSizesOriginal=t._imageSizes.slice(0),e._layersMaxZoom=t.maxZoom;for(var n=t._imageSizes[0],a=0,r=t._map.getSize(),o=1;o<=5&&(n.x>r.x||n.y>r.y);o++)n=n.divideBy(2),t._imageSizes.unshift(n),a=-o;t.options.minZoom=a,t.options.minNativeZoom=a,t._prev_map_layersMinZoom=t._map._layersMinZoom,t._map._layersMinZoom=a,se.a.TileLayer.prototype.onAdd.call(t,e),t.options.fitBounds&&t._fitBounds(),t.options.setMaxBounds&&t._setMaxBounds(),t.on("tileload",function(e,t){var n=e.tile.naturalHeight,a=e.tile.naturalWidth;512===n&&512===a||(e.tile.style.width=a+"px",e.tile.style.height=n+"px")})})},onRemove:function(e){e._layersMinZoom=this._prev_map_layersMinZoom,this._imageSizes=this._imageSizesOriginal,this.options.setMaxBounds&&e.setMaxBounds(null)},_fitBounds:function(){var e=this._getInitialZoom(this._map.getSize()),t=this._imageSizes.length-1-this.options.maxNativeZoom,n=this._imageSizes[e+t],a=this._map.options.crs.pointToLatLng(se.a.point(0,n.y),e),r=this._map.options.crs.pointToLatLng(se.a.point(n.x,0),e),o=se.a.latLngBounds(a,r);this._map.fitBounds(o,!0)},_setMaxBounds:function(){var e=this._getInitialZoom(this._map.getSize()),t=this._imageSizes[e],n=this._map.options.crs.pointToLatLng(se.a.point(0,t.y),e),a=this._map.options.crs.pointToLatLng(se.a.point(t.x,0),e),r=se.a.latLngBounds(n,a);this._map.setMaxBounds(r,!0)},_setQuality:function(){var e=this.profile;this._explicitQuality||("object"===Yr(e)&&(e=e["@id"]),this.options.quality="native")},_isValidTile:function(e){var t=this._getZoomForUrl(),n=this._tierSizes[t],a=e.x,r=e.y;return t<0&&a>=0&&r>=0||!!n&&!(a<0||n[0]<=a||r<0||n[1]<=r)},_getInitialZoom:function(e){for(var t,n=this._imageSizes.length-1-this.options.maxNativeZoom,a=this._imageSizes.length-1;a>=0;a--)if(.8*(t=this._imageSizes[a]).x<e.x&&.8*t.y<e.y)return a-n;return 2}}),Kr=Qr.extend({initialize:function(e){this._infoUrl=e.url,this._baseUrl=this._templateUrl(),Qr.prototype.initialize.call(this,e)},_getInfo:function(){return fetch("".concat(this._infoUrl)).then(function(e){return e.json()})},_setQuality:function(){switch(Qr.prototype._setQuality.call(this),!0){case/^http:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html.*$/.test(this.profile):this.options.quality="native";break;default:this.options.quality="default"}},_infoToBaseUrl:function(){return this._infoUrl.replace("info.json","")},_templateUrl:function(){return this._infoToBaseUrl()+"images/{region}/{size}/{rotation}/{quality}.{format}"}}),$r=function(e,t,n,a){return new(n||(n=Promise))(function(r,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function c(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,c)}l((a=a.apply(e,t||[])).next())})},eo=Qr.extend({_baseUrl:"/{id}/{region}/{size}/{rotation}/{quality}.{format}",urls:new Map,createTile:function(e,t){var n=this,a=document.createElement("img");le.DomEvent.on(a,"load",le.Util.bind(this._tileOnLoad,this,t,a)),le.DomEvent.on(a,"error",le.Util.bind(this._tileOnError,this,t,a)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),a.alt="",a.setAttribute("role","presentation");var r=this.getTileUrl(e);return Ye.getItem(r).then(function(e){e?(n.urls.has(r)||n.urls.set(r,window.URL.createObjectURL(e)),a.src=n.urls.get(r),a.onload=function(){t(null,a)}):(console.log("\ud83d\udd25",r,"\ud83d\udd25"),t(new Error("not in memory: "+r)))}),a},onRemove:function(e){this.urls.forEach(window.URL.revokeObjectURL),this.urls.clear(),Qr.prototype.onRemove.call(this,e)},_getInfo:function(){return $r(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye.getItem("/info/".concat(this.options.id,".json"));case 3:if(null!==(t=e.sent)){e.next=6;break}throw new Error("info.json is null");case 6:return e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}))}});function to(e){return(to="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function no(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ao(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ro(e,t,n){return t&&ao(e.prototype,t),n&&ao(e,n),e}function oo(e,t){return!t||"object"!==to(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function io(e,t,n){return(io="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=co(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lo(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&so(e,t)}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uo=Object(la.d)(function(e){function t(){return no(this,t),oo(this,co(t).apply(this,arguments))}return lo(t,Jr["a"]),ro(t,[{key:"createLeafletElement",value:function(e){return new Kr(this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,n){io(co(t.prototype),"updateLeafletElement",this).call(this,e,n),n.url!==e.url&&n.leafletElement.setUrl(n.url)}}]),t}()),po=Object(la.d)(function(e){function t(){return no(this,t),oo(this,co(t).apply(this,arguments))}return lo(t,Jr["a"]),ro(t,[{key:"createLeafletElement",value:function(e){return new eo(this.getOptions(e))}},{key:"updateLeafletElement",value:function(e,n){io(co(t.prototype),"updateLeafletElement",this).call(this,e,n)}}]),t}());function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var fo,ho=Object(X.b)({slideshow:Fn(),selectedAnnotations:Gn}),bo=Object(c.connect)(ho,{createAnnotation:Ar,changeSelection:Nr}),go=W({key:"editor",reducer:Pn}),wo=D({key:"editor",saga:Zr}),Eo=Object(p.compose)(go,wo,bo),vo=function(e){fo&&fo.disable(),fo=e,e&&e.enable()},yo=Object(la.d)(function(e){var t=e.slideshow,n=e.setTool,o=e.tool,i=e.leaflet.map;Sn(i,e.slideshow.image);var c=Object(a.useCallback)(function(){vo(),n("selector")},[]),l=Object(a.useCallback)(function(){n("rectangle")},[i]),s=Object(a.useCallback)(function(){n("circle")},[i]),u=Object(a.useCallback)(function(){n("polygon")},[i]);Object(a.useEffect)(function(){if("selector"!==o)switch(o){case"rectangle":return vo(new se.a.Draw.Rectangle(i));case"circle":return vo(new se.a.Draw.Circle(i));case"polygon":case"polyline":return vo(new se.a.Draw.Polygon(i))}}),Object(Cn.a)("p",u),Object(Cn.a)("r",l),Object(Cn.a)("c",s),Object(Cn.a)("esc",c);var d=Object(a.useCallback)(function(t){"selector"===o&&e.changeSelection(t)},[e.changeSelection,o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gr,{editable:!0,onLayerClick:d,onCreated:e.createAnnotation,data:t.annotations,selectedAnnotations:e.selectedAnnotations}),r.a.createElement(po,{tileSize:512,id:e.slideshow.image.id}),r.a.createElement(La,{onSelectClick:c,activeButton:o,onCircleClick:s,onRectangleClick:l,onPolygonClick:u}))}),xo=Object(a.memo)(function(e){var t=mo(Object(a.useState)("selector"),2),n=t[0],o=t[1],i=Object(c.useDispatch)(),l=Object(a.useCallback)(function(){"selector"===n&&e.changeSelection()},[]),s=mo(Object(a.useState)(!0),2),u=s[0],d=s[1],p=Object(a.useCallback)(function(){return d(!1)},[]),m=Object(a.useCallback)(function(){return d(!0)},[]),f=Object(a.useCallback)(Object(Q.pipe)(Mr,i),[]),h=Object(a.useCallback)(Object(Q.pipe)(Lr,i),[]),b=Object(a.useCallback)(function(t){if(!e.selectedAnnotations.includes(t))return o("selector"),vo(),e.changeSelection(t)},[e.selectedAnnotations]),g=Object(a.useCallback)(Object(Q.pipe)(Tr,i),[]),w=Object(a.useCallback)(Object(Q.pipe)(Dr,i),[]);return r.a.createElement("div",{className:"map"},r.a.createElement(cr,{onAnnotationClick:b,onAnnotationChange:g,onOrderChange:w,slideshow:e.slideshow,selectedAnnotations:e.selectedAnnotations,visible:u,onClose:p,onRemove:h,onOpen:m,onNameChange:f}),r.a.createElement(sa.a,{onClick:l,boxZoom:!1,setTool:o,doubleClickZoom:!1,zoomControl:!1,crs:se.a.CRS.Simple,minZoom:1,maxZoom:20},r.a.createElement(ua.a,{position:"topright"}),r.a.createElement(yo,Object.assign({},e,{setTool:o,tool:n}))))}),Co=Eo(function(e){return e.slideshow?r.a.createElement(xo,Object.assign({},e)):r.a.createElement(ur,null)}),Oo=n("911781dbbff79a49ee79"),So=n("72aa67ece7d4c3c27941"),jo=n("d9b587b33c69341314c6"),ko=n("7601f58bc69ebe6e7079");function _o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ro=function(e){return r.a.createElement("div",{className:"sidebar--header-container sidebar--spacing"},r.a.createElement(Z.Title,{isSize:5},e.viewerMode?r.a.createElement("a",{href:"https://www.medialab.github.io/tesselle",target:"blank",rel:"noopener"},r.a.createElement("img",{"data-tip":"Made with tesselle","data-for":"tooltip",src:Ka.a,style:{maxWidth:"2rem"}})):r.a.createElement(d.Link,{to:"/"},r.a.createElement("img",{"data-tip":"Back to home","data-for":"tooltip",src:Ka.a,style:{maxWidth:"2rem"}}))),r.a.createElement(Z.Title,{isSize:6,className:"is-stretch player-title"},e.title),!!e.allowPlay&&r.a.createElement(Z.Button,{isRounded:!0,onClick:e.onButtonClick,style:{marginRight:".3rem"},"data-tip":e.minified?"Exit play mode":"Play sequentially","data-for":"tooltip"},r.a.createElement(Z.Icon,null,e.minified?r.a.createElement(wn.FontAwesomeIcon,{icon:Ya.faTimes}):r.a.createElement(wn.FontAwesomeIcon,{icon:So.faPlay}))))},Io=function(e){var t=Object(a.useCallback)(function(t){e.selected&&t.stopPropagation(),e.onGoTo(e.annotation)},[e.annotation]),n=Object(a.useCallback)(function(n){e.onClick(e.annotation),t(n)},[e.annotation]);return r.a.createElement("div",{className:Ma()({"sidebar--menu-item sidebar--spacing":!0,"sidebar--menu-item__selected":e.selected})},r.a.createElement(Z.Box,{className:"player-card",onClick:n},r.a.createElement(Z.StretchedLayoutContainer,{isDirection:"horizontal"},r.a.createElement(Z.StretchedLayoutItem,{style:{paddingRight:"1rem"},isFlex:1},r.a.createElement(Z.Content,{isSize:"small",className:Ma()("sidebar--item-field",{"sidebar--item-field--selected":e.selected})},e.children)),r.a.createElement(Z.StretchedLayoutItem,null,r.a.createElement(Z.StretchedLayoutContainer,{isDirection:"horizontal"})))))},Ao=function(e){return r.a.createElement("div",{className:Ma()({"sidebar--menu-item sidebar--spacing":!0,"sidebar--menu-item__selected":e.selected,"sidebar--menu-item__minified":!0})},r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.StretchedLayoutContainer,{isDirection:"vertical",className:"utils__space-between"},r.a.createElement(Z.StretchedLayoutItem,{isFlex:1},r.a.createElement(Z.Content,{isSize:"small",className:Ma()("sidebar--item-field",{"sidebar--item-field--selected":e.selected,"sidebar--item-field--minified":!0})},e.children)),r.a.createElement(Z.StretchedLayoutItem,null,r.a.createElement(Z.StretchedLayoutContainer,{isDirection:"horizontal",className:"minified-nav-container"},r.a.createElement(Z.StretchedLayoutItem,null,r.a.createElement(Z.Button,{disabled:!e.onPrev,isRounded:!0,onClick:e.onPrev,style:{margin:".2rem"}},r.a.createElement(Z.Icon,null,r.a.createElement(wn.FontAwesomeIcon,{icon:jo.faCaretLeft})))),r.a.createElement(Z.StretchedLayoutItem,null,r.a.createElement(Z.Button,{disabled:!e.onNext,isRounded:!0,onClick:e.onNext,style:{margin:".2rem"}},r.a.createElement(Z.Icon,null,r.a.createElement(wn.FontAwesomeIcon,{icon:ko.faCaretRight})))))))))},Lo=Object(la.d)(function(e){var t=e.selectedAnnotations.first(),n=r.a.useCallback(function(){e.visible?e.onClose():e.onOpen(),t||e.changeSelection(e.slideshow.annotations.first())},[e.visible,e.slideshow.annotations]),o=Object(a.useCallback)(function(t){e.leaflet.map.fitBounds(xe(t),{animate:!0})},[e.leaflet&&e.leaflet.map]),i=_o(kn(!1),3),c=i[0],l=i[1],s=i[2];return r.a.createElement("div",{className:Ma()({sidebar:!0,"player-sidebar":!0,visible:e.visible,hidden:!e.visible})},r.a.createElement(Z.StretchedLayoutContainer,{style:{height:"100%",flex:1}},r.a.createElement(Z.StretchedLayoutItem,null,r.a.createElement(Ro,{minified:!e.visible,title:e.slideshow.name,onButtonClick:n,viewerMode:e.viewerMode,allowPlay:!!e.slideshow.annotations.size})),r.a.createElement(Z.StretchedLayoutItem,{isFlex:1,style:{overflow:"hidden"}},r.a.createElement("div",{className:"sidebar--wrapper play-sidebar--container"},e.visible?e.slideshow.annotations.map(function(t){return r.a.createElement(Io,{onGoTo:o,onClick:e.changeSelection,annotation:t,key:t.properties.id,selected:e.selectedAnnotations.includes(t)},t.properties.content)}):r.a.createElement(Ao,{selected:t,onNext:e.onNext,onPrev:e.onPrev},t.properties.content))),!e.viewerMode&&r.a.createElement(Z.StretchedLayoutItem,null,r.a.createElement("footer",{className:"sidebar--footer-container sidebar--spacing"},r.a.createElement(Z.StretchedLayoutContainer,{isDirection:"horizontal",style:{width:"100%"}},r.a.createElement(Z.StretchedLayoutItem,{isFlex:1},r.a.createElement(d.Link,{to:"/editor/".concat(e.slideshow.id),className:"button is-fullwidth is-primary"},"Back to edition")),r.a.createElement(Z.StretchedLayoutItem,{isFlex:1},r.a.createElement(Z.StretchedLayoutContainer,{isDirection:"horizontal"},r.a.createElement(Z.StretchedLayoutItem,{isFlex:1},r.a.createElement(Ha,{disabled:!e.slideshow.annotations.size})),r.a.createElement(Z.StretchedLayoutItem,null,r.a.createElement(Z.Button,{onClick:s,isColor:"info"},"?")))))))),r.a.createElement(Xa,{isOpen:c,onRequestClose:l}))});n("c43d0e331cb4aefacbc7");function To(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Ja.a.setAppElement("#app");var Do=Object(la.d)(function(e){var t=e.selectedAnnotations.first();return Sn(e.leaflet.map,t&&e.playing?t:e.slideshow.image),r.a.createElement(r.a.Fragment,null,r.a.createElement(Gr,{onLayerClick:e.playing?void 0:e.changeSelection,data:e.slideshow.annotations,selectedAnnotations:e.selectedAnnotations}),e.url?r.a.createElement(uo,{url:e.url}):r.a.createElement(po,{tileSize:512,id:e.slideshow.image.id}))}),No=function(e,t){if(!e)return t.first();var n=t.indexOf(e);return n+1<t.size?t.get(n+1):t.first()},Mo=function(e){var t=e.selectedAnnotations.first(),n=To(Object(a.useState)(!1),2),o=n[0],c=n[1],l=To(Object(a.useState)(!1),2),s=l[0],u=l[1],d=To(kn(),3),p=d[0],m=d[1],f=d[2],h=Object(a.useCallback)(function(){f(),t||b()},[f]),b=Object(a.useCallback)(e.slideshow.annotations.size>1?function(){return e.changeSelection(No(t,e.slideshow.annotations))}:void 0,[t,e.slideshow.annotations]),g=Object(a.useCallback)(e.slideshow.annotations.size>1?function(){return e.changeSelection(No(t,e.slideshow.annotations.reverse()))}:void 0,[t,e.slideshow.annotations]);Object(Cn.a)("k",b),Object(Cn.a)("j",g);var w=Object(a.useCallback)(function(t){if(p)return e.changeSelection()},[p,e.changeSelection]),E=Object(a.useCallback)(function(){return u(!s)},[s]),v=Object(a.useRef)(null);return r.a.createElement("div",{className:"map player-map"},r.a.createElement("div",{ref:function(e){v.current=e,c(!!e)}}),r.a.createElement(sa.a,{boxZoom:!1,dragging:!0,doubleClickZoom:!1,zoomControl:!1,crs:se.a.CRS.Simple,onClick:w,minZoom:1,maxZoom:20},v.current&&o&&i.a.createPortal(r.a.createElement(Lo,{slideshow:e.slideshow,selectedAnnotations:e.selectedAnnotations,visible:p,onClose:m,onOpen:h,onPrev:g,onNext:b,changeSelection:e.changeSelection,viewerMode:e.viewerMode}),v.current),r.a.createElement(ua.a,{position:"topright"}),r.a.createElement(Do,{url:e.url,playing:!p,slideshow:e.slideshow,changeSelection:e.changeSelection,selectedAnnotations:e.selectedAnnotations})),e.viewerMode&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"share-ui-container"},r.a.createElement(Z.Button,{onClick:E,isRounded:!0},r.a.createElement(Z.Icon,null,r.a.createElement(wn.FontAwesomeIcon,{icon:Oo.faShare})))),r.a.createElement(Ja.a,{isOpen:s,onRequestClose:E,contentLabel:"Share this document"},r.a.createElement("div",{className:"modal-content-container"},r.a.createElement("div",{className:"modal-content-header"},r.a.createElement(Z.Title,{isSize:"3"},r.a.createElement("span",null,"Share this document"),r.a.createElement("span",null,r.a.createElement(Z.Button,{onClick:E,isRounded:!0},r.a.createElement(Z.Icon,null,r.a.createElement(wn.FontAwesomeIcon,{icon:Ya.faTimes})))))),r.a.createElement("div",{className:"modal-content-body"},r.a.createElement("div",null,"Share the URL address of this document:"),r.a.createElement("pre",null,r.a.createElement("code",null,window.location.href)),r.a.createElement("div",null,"Embed this document in another page or application:"),r.a.createElement("pre",null,r.a.createElement("code",null,'<iframe src="'.concat(window.location.href,'"></iframe>'))))))))},Po=Eo(function(e){return e.slideshow?r.a.createElement(Mo,Object.assign({},e,{local:!0})):r.a.createElement(ur,null)}),zo=n("91876d1143b1a531e930"),Fo=n.n(zo);function Go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Bo=function(e){var t=new URLSearchParams(e.location.search),n=Fo()(window.location.protocol+t.get("url")),o=_n("".concat(t.get("url"),"/slideshow.json"),function(e){return new Me(e)}),i=Go(Object(a.useState)(Object($.List)([])),2),c=i[0],l=i[1],s=Object(a.useCallback)(function(e){var t=e?Object($.List)([e]):Object($.List)([]);if(!t.equals(c))return l(t)},[c]);return o?r.a.createElement(Mo,{url:"".concat(n,"/info.json"),slideshow:o,selectedAnnotations:c,changeSelection:s,viewerMode:!0}):r.a.createElement(ur,null)},Uo=n("be49ece3c9ac38c7621f"),Vo=Object(Uo.a)(function(){return n.e(3).then(n.bind(null,"df852b79991469f7a807"))}),Ho=W({key:"slicer",reducer:Ct}),Wo=D({key:"slicer",saga:$t}),qo=Object(p.compose)(Ho,Wo)(function(){return a.createElement(d.Switch,null,a.createElement(d.Route,{exact:!0,path:"/",component:ca}),a.createElement(d.Route,{exact:!0,path:"/editor/:id",component:Co}),a.createElement(d.Route,{exact:!0,path:"/player/:id",component:Po}),a.createElement(d.Route,{exact:!0,path:"/viewer/",component:Bo}),a.createElement(d.Route,{component:Vo}))}),Zo=function(e){return e.language};function Jo(e){return(Jo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Xo(e,t){return!t||"object"!==Jo(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qo(e){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xo(this,Qo(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(t,a["PureComponent"]),n=t,(r=[{key:"render",value:function(){return a.createElement(Y.IntlProvider,{locale:this.props.locale,key:this.props.locale,messages:this.props.messages[this.props.locale]},a.Children.only(this.props.children))}}])&&Yo(n.prototype,r),o&&Yo(n,o),t}(),ei=Object(X.a)(Object(X.a)(Zo,function(e){return e.locale}),function(e){return{locale:e}});var ti=Object(c.connect)(ei,function(e){return{dispatch:e}})($o),ni=(n("9c6be9f00377ac8be3d8"),n("0cbc23df16a5c6ceec4d"),n("3562001638983595ee40"));var ai=n.n(ni)()();var ri=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=[ai,Object(l.routerMiddleware)(t)],a=[p.applyMiddleware.apply(void 0,n)],r=p.compose,o=Object(p.createStore)(V(),e,r.apply(void 0,a));return o.runSaga=ai.run,o.injectedReducers={},o.injectedSagas={},o}({},u),oi=document.getElementById("app"),ii=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qo;o.render(a.createElement(c.Provider,{store:ri},a.createElement(ti,{messages:e},a.createElement(l.ConnectedRouter,{history:u},a.createElement(t,null)))),oi)};window.Intl?ii(G):new Promise(function(e){e(Promise.all([n.e(0),n.e(4)]).then(n.t.bind(null,"97694e21b72f8e9351c4",7)))}).then(function(){return Promise.all([n.e(0).then(n.t.bind(null,"f030ad8f70186ef5cb63",7)),n.e(0).then(n.t.bind(null,"14584c41c196d3540f41",7))])}).then(function(){return ii(G)}).catch(function(e){throw e}),n("30d14b3a3295666f3aba").install()},"776f7b15d44f70e7504d":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='740px' height='740px' viewBox='0 0 740 740' enable-background='new 0 0 740 740' xml:space='preserve'%3E %3Crect x='370' fill='%2300A99D' width='370' height='370'/%3E %3Crect fill='%233849A2' width='370' height='370'/%3E %3Crect x='370' y='370' fill='%2309C6A2' width='370' height='370'/%3E %3Crect y='370' fill='%23039385' width='370' height='370'/%3E %3C/svg%3E"},"7b1d6ef55c12f5ddfe2a":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='891.5px' viewBox='0 0 1280 891.5' enable-background='new 0 0 1280 891.5' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Ccircle fill='none' stroke='%23F9F9F9' stroke-width='45' stroke-miterlimit='10' cx='650.463' cy='455.344' r='401.57'/%3E %3C/svg%3E"},"7bffbf7599523c159899":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n.sidebar--header-container img{\n    transition: all .3s ease;\n}\n\n.sidebar--header-container img:hover{\n   transform: rotate(-45deg);\n}\n\n.sidebar--header-container .input{\n    margin: 0\n}\n\n.map .leaflet-marker-icon{\n    background: #ff1f4b;\n    border: none;\n    border-radius: 50%;\n}\n\n.map .annotation-shape,\n.map .annotation-shape__editing{\n    stroke: darkgrey;\n    fill: white;\n}\n\n.map .annotation-shape__editing{\n    stroke: #009085;\n}\n\n.map .leaflet-control-zoom{\n    box-shadow: none;\n    border: none;\n    margin-right: 1.5rem;\n    margin-top: 1rem;\n}\n\n.map .leaflet-control{\n    margin-right: 1.5rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n}\n\n.map .leaflet-control .buttons-container{\n    bottom: 0;\n}\n\n.map .leaflet-control-attribution {\n    display: none\n}\n\n.map .leaflet-control-zoom-in,\n.map .leaflet-control-zoom-out{\n    border: none;\n    box-shadow: none;\n    font-size: 1.3rem;\n}\n\n.map .leaflet-tooltip{\n    display: none;\n}\n\n.map .leaflet-draw-tooltip .leaflet-draw-tooltip-subtext, \n.map .leaflet-draw-tooltip br {\n    display: none;\n}",""])},"7dd68a64079d1d4cd439":function(e){e.exports=[]},"81569eb04b5d565f29bc":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"textarea.textarea {\n  transition: none;\n}\n.sidebar {\n  position: absolute;\n  width: 25%;\n  max-width: 450px;\n  z-index: 420;\n  max-height: 100vh;\n  overflow: hidden;\n  background: white;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: stretch;\n  height: 30%;\n  min-height: 200px;\n  transition: all .5s ease;\n}\n.sidebar.visible {\n  bottom: 0;\n  left: 0;\n  height: 100%;\n}\n.sidebar.hidden {\n  bottom: 25px;\n  left: 25px;\n}\n.textarea:not([rows]) {\n  max-height: initial;\n  min-height: initial;\n}\n.sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified) {\n  background: #3849a2;\n  color: white;\n}\n\n.sidebar .sidebar--item-field--selected:not(.sidebar--item-field--minified)::placeholder{\n  color: white;\n}\n\n.sidebar--minified-placeholder{\n  height: 100%;\n  width: 100%;\n}\n\n.sidebar--wrapper{\n  padding: 1rem;\n  flex: 1;\n  overflow-y: auto;\n}\n.sidebar--container {\n  background: white;\n  /* max-height: calc(100vh - 45px - 70px); */\n  /* overflow: auto; */\n}\n.sidebar--menu-item .box {\n  background: white;\n}\n.sidebar--menu-item__selected .box {\n  background: #3849a2;\n}\ntextarea.textarea {\n  resize: none;\n}\n\n.sidebar--spacing {\n  padding: 5px 5px;\n}\n\n.sidebar--header-container {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.sidebar--header-container .title{\n  margin: .5rem 1rem;\n}\n\n.sidebar--header-container .title a{\n  color: white;\n}\n\n.sidebar--header-container .minify-toggle{\n  cursor: pointer;\n  margin-right: 1rem;\n}\n\n.sidebar--footer-container {\n  display: flex;\n  justify-content: space-between;\n  color: white;\n  padding: 0\n}\n\n.input__invisible {\n  width: calc(100% - 1rem);\n  border: none;\n  margin: 1rem .5rem;\n}",""])},"955a6a725544659a0b42":function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"#app {\n  position: relative;\n  user-select: none;\n}\n\nbody { --rgba-primary-0: #343477; } /* rgba( 52, 52,119,1); */\nbody { --rgba-primary-1: #8080E5; } /* rgba(128,128,229,1); */\nbody { --rgba-primary-2: #5454A8; } /* rgba( 84, 84,168,1); */\nbody { --rgba-primary-3: #1A1A46; } /* rgba( 26, 26, 70,1); */\nbody { --rgba-primary-4: #060614; } /* rgba(  6,  6, 20,1); */\n\nbody {\n  max-height: 100vh;\n  overflow: hidden;\n}\n\n.leaflet-container {\n  height: 100%;\n  width: 100%;\n  min-width: 100px;\n  margin: 0 auto;\n}\n\n.App-link {\n  color: #61dafb;\n}\n.zoom-level {\n  position: absolute;\n}\n.react-dat-gui {\n  z-index: 9999;\n}\n\n.map {\n  height: 100vh;\n  width: 100vw;\n}\n.map.creating {\n  cursor: crosshair;\n}\n\n.rectangle {\n  pointer-events: none;\n}\n\n\n.button{\n  text-transform: none;\n}\n\n.box,.button{\n  border-radius: 0;\n}\n\n.ReactModal__Overlay{\n  z-index: 1000;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: center;\n}\n\n.ReactModal__Content{\n  position: relative!important;\n  max-width: 80vw;\n  padding: 0!important;\n}\n\n.ReactModal__Content .modal-content-header,\n.ReactModal__Content .modal-content-header .title {\n  background: var(--rgba-primary-2);\n  color: white;\n  padding: .5rem;\n}\n\n.ReactModal__Content .modal-content-header .title{\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: stretch;\n}\n\n.ReactModal__Content .modal-content-header .title span:first-of-type{\n  flex: 1;\n}\n\n.ReactModal__Content .modal-content-body{\n  padding: .5rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n\n.ReactModal__Content .modal-content-body code{\n  user-select: all;\n  -moz-user-select: all;\n  -ms-user-select: element;\n  -webkit-user-select: all;\n}",""])},"9c6be9f00377ac8be3d8":function(e,t,n){e.exports=n.p+"favicon.ico"},"9ff90a0cc5204b4629a4":function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='803.14px' height='803.14px' viewBox='0 0 803.14 803.14' enable-background='new 0 0 803.14 803.14' xml:space='preserve'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3Cpolygon fill='none' stroke='%23000000' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' points=' 402.764,634.289 147.59,128.713 653.166,383.887 '/%3E %3Cline fill='none' stroke='%23000000' stroke-width='45' stroke-linecap='round' stroke-linejoin='round' stroke-miterlimit='10' x1='706.302' y1='687.427' x2='527.964' y2='509.087'/%3E %3C/svg%3E"},a4bdf3e5032d230f45cd:function(e,t,n){var a=n("d91476fada1b30a0d8ff");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},c43d0e331cb4aefacbc7:function(e,t,n){var a=n("401aa70511af71beb6b9");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},cc76f763c4e09ef29989:function(e,t){e.exports="data:image/svg+xml,%3Csvg version='1.1' id='medialab-logo-svg' x='0px' y='0px' viewBox='0 0 283.5 72.6' xmlns='http://www.w3.org/2000/svg' aria-labelledby='Science Po %7C Medialab'%3E %3Ctitle%3EScience Po %7C Medialab%3C/title%3E %3Cdesc%3ELogo of Science Po Medialab%3C/desc%3E %3Cg%3E %3Cpath class='st0' d='M4.2,32.7c0,0,4.7,4.5,10.7,4.5c3.3,0,6.2-1.7,6.2-5.2c0-7.7-20.3-6.4-20.3-19.6C0.9,5.3,7.1,0,15.3,0 c8.5,0,12.8,4.6,12.8,4.6L24.8,11c0,0-4.1-3.8-9.5-3.8c-3.6,0-6.5,2.1-6.5,5.1C8.8,20,29,18.1,29,31.9c0,6.8-5.2,12.6-14.2,12.6 C5.3,44.5,0,38.6,0,38.6L4.2,32.7z'%3E%3C/path%3E%3Cpath class='st0' d='M47.1,15.2c7.3,0,10.7,4.1,10.7,4.1l-3.1,4.7c0,0-2.9-3-7.3-3c-5.1,0-8.5,3.9-8.5,8.6c0,4.7,3.4,8.7,8.7,8.7 c4.7,0,8.2-3.5,8.2-3.5l2.7,4.9c0,0-4,4.5-11.5,4.5c-9.2,0-15.1-6.5-15.1-14.6C32,21.9,37.9,15.2,47.1,15.2'%3E%3C/path%3E%3Cpath class='st0' d='M62.6,5h6.9v6.2h-6.9V5z M62.6,15.9h6.9v27.8h-6.9V15.9z'%3E%3C/path%3E%3Cpath class='st0' d='M88.3,15.2c8,0,12.3,5.8,12.3,13.2c0,0.8-0.2,2.7-0.2,2.7H81.3c0.4,4.9,4.2,7.4,8.4,7.4c4.5,0,8-3.1,8-3.1 l2.7,5c0,0-4.3,4-11.2,4c-9.2,0-15-6.7-15-14.6C74.2,21.2,80,15.2,88.3,15.2 M93.7,26.4c-0.1-3.8-2.5-5.8-5.5-5.8 c-3.5,0-6,2.2-6.7,5.8H93.7z'%3E%3C/path%3E%3Cpath class='st0' d='M105.3,15.9h6.7v3.2c0,1-0.1,1.9-0.1,1.9h0.1c1.2-2.3,4.3-5.8,9.9-5.8c6.2,0,9.7,3.2,9.7,10.6v17.9h-6.9V27.2 c0-3.4-0.9-5.7-4.4-5.7c-3.7,0-6.4,2.3-7.5,5.7c-0.4,1.1-0.5,2.4-0.5,3.7v12.8h-6.9L105.3,15.9L105.3,15.9z'%3E%3C/path%3E%3Cpath class='st0' d='M150.8,15.2c7.3,0,10.7,4.1,10.7,4.1l-3.1,4.7c0,0-2.9-3-7.3-3c-5.1,0-8.5,3.9-8.5,8.6c0,4.7,3.4,8.7,8.7,8.7 c4.7,0,8.2-3.5,8.2-3.5l2.7,4.9c0,0-4,4.5-11.5,4.5c-9.2,0-15.1-6.5-15.1-14.6C135.6,21.9,141.5,15.2,150.8,15.2'%3E%3C/path%3E%3Cpath class='st0' d='M178.5,15.2c8,0,12.3,5.8,12.3,13.2c0,0.8-0.2,2.7-0.2,2.7h-19.2c0.4,4.9,4.2,7.4,8.4,7.4c4.5,0,8-3.1,8-3.1 l2.7,5c0,0-4.3,4-11.2,4c-9.2,0-15-6.7-15-14.6C164.4,21.2,170.2,15.2,178.5,15.2 M183.8,26.4c-0.1-3.8-2.5-5.8-5.5-5.8 c-3.5,0-6,2.2-6.7,5.8H183.8z'%3E%3C/path%3E%3Cpath class='st0' d='M197.4,35.4c0,0,3.1,3.1,7.6,3.1c2,0,3.7-0.9,3.7-2.5c0-4.1-13.5-3.6-13.5-12.6c0-5.2,4.6-8.2,10.6-8.2 c6.3,0,9.3,3.2,9.3,3.2l-2.6,5.1c0,0-2.6-2.4-6.8-2.4c-1.8,0-3.5,0.8-3.5,2.5c0,3.9,13.5,3.4,13.5,12.4c0,4.6-4,8.4-10.6,8.4 c-6.9,0-10.8-4.1-10.8-4.1L197.4,35.4z'%3E%3C/path%3E%3Cpath class='st0' d='M221.8,0.7h16.6c8.1,0,13.7,5.6,13.7,14s-5.6,14.2-13.7,14.2h-8.8v14.8h-7.8V0.7z M236.9,22.1 c4.5,0,7.2-2.9,7.2-7.4c0-4.4-2.7-7.3-7.1-7.3h-7.4v14.7H236.9z'%3E%3C/path%3E%3Cpath class='st0' d='M268.1,15.2c8.5,0,15.3,6.1,15.3,14.6c0,8.6-6.8,14.6-15.3,14.6c-8.5,0-15.3-6-15.3-14.6 C252.8,21.3,259.7,15.2,268.1,15.2 M268.2,38.5c4.5,0,8.2-3.5,8.2-8.7c0-5.1-3.8-8.7-8.2-8.7c-4.5,0-8.3,3.5-8.3,8.7 C259.9,35,263.6,38.5,268.2,38.5'%3E%3C/path%3E%3Cpath class='st0' d='M1.3,57.7h2.9L7.1,65c0.3,0.9,0.8,2.2,0.8,2.2h0c0,0,0.4-1.3,0.7-2.2l2.9-7.4h2.9l1.2,14.9h-2.7l-0.6-8.3 c-0.1-1,0-2.3,0-2.3h0c0,0-0.4,1.4-0.8,2.3L9,70H6.7l-2.4-5.8c-0.4-0.9-0.8-2.3-0.8-2.3h0c0,0,0,1.3,0,2.3l-0.6,8.3H0L1.3,57.7z'%3E%3C/path%3E%3Cpath class='st0' d='M18.9,57.7h8.9V60h-6.2v3.9h5v2.3h-5v4h6.6v2.3h-9.3C18.9,72.6,18.9,57.7,18.9,57.7z M24.1,53.8h2.8l-2.2,2.9 h-2.1L24.1,53.8z'%3E%3C/path%3E%3Cpath class='st0' d='M31,57.7h5.1c4.6,0,7.6,2.7,7.6,7.4c0,4.7-3,7.5-7.6,7.5H31V57.7z M36,70.3c3,0,5-1.8,5-5.1c0-3.3-2-5.1-5-5.1 h-2.2v10.2L36,70.3L36,70.3z'%3E%3C/path%3E%3Crect x='46.5' y='57.7' class='st0' width='2.7' height='14.9'%3E%3C/rect%3E%3Cpath class='st0' d='M60.4,68.8h-5.2l-1.3,3.8h-2.8l5.2-14.9h2.8l5.2,14.9h-2.8L60.4,68.8z M57.8,60.3c0,0-0.3,1.5-0.6,2.3l-1.3,4 h3.9l-1.3-4C58.2,61.7,57.9,60.3,57.8,60.3L57.8,60.3z'%3E%3C/path%3E%3Cpolygon class='st0' points='66.4,57.7 69.1,57.7 69.1,70.3 75.6,70.3 75.6,72.6 66.4,72.6 '%3E%3C/polygon%3E%3Cpath class='st0' d='M85.6,68.8h-5.2l-1.3,3.8h-2.8l5.2-14.9h2.8l5.2,14.9h-2.8L85.6,68.8z M83,60.3c0,0-0.3,1.5-0.6,2.3l-1.3,4 h3.9l-1.3-4C83.3,61.7,83,60.3,83,60.3L83,60.3z'%3E%3C/path%3E%3Cpath class='st0' d='M91.6,57.7h5.3c2.7,0,4.6,1.4,4.6,3.8c0,1.4-0.7,2.6-1.8,3.2v0c1.6,0.5,2.4,2,2.4,3.5c0,3-2.4,4.3-5.1,4.3 h-5.4L91.6,57.7L91.6,57.7z M96.9,63.8c1.2,0,1.8-0.8,1.8-1.9S98.1,60,96.9,60h-2.6v3.8H96.9z M97.2,70.3c1.4,0,2.2-0.9,2.2-2.2 c0-1.2-0.8-2.1-2.2-2.1h-2.9v4.3H97.2z'%3E%3C/path%3E%3C/g%3E %3C/svg%3E"},cd3c01f111da6ab3f495:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n\n.SlideshowCartouche .thumbnail-container {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: center;\n}\n\n.SlideshowCartouche .content{\n    color:#4a4a4a;\n}\n\n.SlideshowCartouche .content a{\n    outline: none;\n}\n\n.SlideshowCartouche .annotations-container{\n    display: flex;\n}\n\n.SlideshowCartouche .annotations-number{\n    background:#f2f2f2;\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 50%;\n    font-size: .7em;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: center;\n    margin-right: .5rem;\n}",""])},d91476fada1b30a0d8ff:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,".annotation-shape:not(.annotation-shape__editing):hover {\n  stroke-width: 2.5;\n  stroke: teal;\n}\n",""])},dcda6ef0b88628a2b364:function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E %3Csvg version='1.1' id='Calque_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='1280px' height='895.5px' viewBox='0 0 1280 895.5' enable-background='new 0 0 1280 895.5' xml:space='preserve'%3E %3Cg id='Calque_1_1_'%3E %3Cg id='Layer_1'%3E %3C/g%3E %3Cg id='Mode_Isolation'%3E %3C/g%3E %3C/g%3E %3Cg id='Calque_1_2_'%3E %3Cg id='Layer_1_1_'%3E %3C/g%3E %3Cg id='Mode_Isolation_2_'%3E %3C/g%3E %3C/g%3E %3Cg id='Mode_Isolation_1_'%3E %3Crect x='274.5' y='74.25' fill='none' stroke='%23FFFFFF' stroke-width='45' stroke-linecap='square' stroke-miterlimit='10' width='751.927' height='751.927'/%3E %3C/g%3E %3C/svg%3E"},e081bc46499358fd0f25:function(e,t,n){var a=n("ff180e8fd4df45c2816c");"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("1e4534d1d62a11482e97")(a,r);a.locals&&(e.exports=a.locals)},e44b2a44b28b33d820c5:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"\n\n.loader-container{\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n.loader-content{\n    text-align: center;\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: center;\n    align-items: center;\n}\n\n.loader-title-container{\n    display: flex;\n    flex-flow: row nowrap;\n    font-weight: bold;\n    padding-bottom: 0;\n    margin-bottom: 0;\n\n}\n\n.loader-content .spinner{\n    animation: spinAround 5000ms infinite linear;\n    max-height: 2rem;\n    margin-right: 1rem;\n    position: relative;\n    top: .5rem;\n}\n\n.loader-content .is-3{\n    margin-top: 0;\n    font-style: italic;\n}",""])},ff180e8fd4df45c2816c:function(e,t,n){(e.exports=n("0e326f80368fd0b1333e")(!1)).push([e.i,"#app{\n  max-height: 100vh;\n  min-height: 100vh;\n  overflow-x: hidden;\n  overflow-y: auto;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: stretch;\n}\n\n.home-container {\n  padding-left: 1.3rem;\n  padding-top: 1.4rem;\n  padding-top: 2rem;\n  flex: 1;\n}\n\n.home-container .aside-column,\n.footer .logos-column\n{\n  padding-left: 3rem;\n}\n\n.home-container .app-title{\n  position: relative;\n}\n\n.home-container .app-title img{\n  position: absolute;\n  left: -3rem;\n  max-height: .7em;\n  max-width: .7em;\n  top: .2em;\n}\n\n.home-container .list-projects__title{\n  padding-top: .5rem;\n  font-weight: bold;\n}\n\n.home-container .cards-column .card-wrapper{\n  margin-bottom: 1rem;\n  padding-right: 1rem;\n}\n\n.home-container .drop-zone{\n  cursor: pointer;\n  margin-bottom: 1rem;\n}\n\n.footer .logo-img{\n  max-width: 150px;\n  padding-bottom: .5rem;\n  padding-top: .5rem;\n  box-sizing: content-box;\n  padding-left: 2rem;\n  display: block;\n}\n\n.footer .about-column p:first-of-type{\n  padding-top: 1rem;\n}",""])}},[[1,2,0]]]);